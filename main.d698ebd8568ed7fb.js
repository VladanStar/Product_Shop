(self.webpackChunkproduct_shop=self.webpackChunkproduct_shop||[]).push([[179],{2011:(ut,De,L)=>{"use strict";L.d(De,{Dh:()=>he,GT:()=>ue,cc:()=>be,hO:()=>Le,on:()=>G,pX:()=>oe,xv:()=>te});var u=L(4650),j=L(9260),P=L(2122);ut=L.hmd(ut);const J=["ngOnDestroy"],oe=(Ee,Ie,Oe,Se={})=>new Proxy(Ee,{get:(Re,ve)=>Oe.runOutsideAngular(()=>{var Te;if(Ee[ve])return!(null===(Te=Se?.spy)||void 0===Te)&&Te.get&&Se.spy.get(ve,Ee[ve]),Ee[ve];if(J.indexOf(ve)>-1)return()=>{};const O=Ie.toPromise().then(F=>{const q=F&&F[ve];return"function"==typeof q?q.bind(F):q&&q.then?q.then(fe=>Oe.run(()=>fe)):Oe.run(()=>q)});return new Proxy(()=>{},{get:(F,q)=>O[q],apply:(F,q,fe)=>O.then(de=>{var Ue;const Pe=de&&de(...fe);return!(null===(Ue=Se?.spy)||void 0===Ue)&&Ue.apply&&Se.spy.apply(ve,fe,Pe),Pe})})})}),ue=(Ee,Ie)=>{Ie.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Se=>{Object.defineProperty(Ee.prototype,Se,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Se))})})};class _e{constructor(Ie){return Ie}}const he=new u.OlP("angularfire2.app.options"),te=new u.OlP("angularfire2.app.name");function G(Ee,Ie,Oe){const Re="object"==typeof Oe&&Oe||{};Re.name=Re.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Te=j.Z.apps.filter(O=>O&&O.name===Re.name)[0]||Ie.runOutsideAngular(()=>j.Z.initializeApp(Ee,Re));try{JSON.stringify(Ee)!==JSON.stringify(Te.options)&&W("error",`${Te.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Te)}const W=(Ee,...Ie)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ee](...Ie)},Q={provide:_e,useFactory:G,deps:[he,u.R0b,[new u.FiY,te]]};let Le=(()=>{class Ee{constructor(Oe){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,Oe.toString())}static initializeApp(Oe,Se){return{ngModule:Ee,providers:[{provide:he,useValue:Oe},{provide:te,useValue:Se}]}}}return Ee.\u0275fac=function(Oe){return new(Oe||Ee)(u.LFG(u.Lbi))},Ee.\u0275mod=u.oAB({type:Ee}),Ee.\u0275inj=u.cJS({providers:[Q]}),Ee})();function be(Ee,Ie,Oe,Se,Re){const[,ve,Te]=globalThis.\u0275AngularfireInstanceCache.find(O=>O[0]===Ee)||[];if(ve)return function We(Ee,Ie){try{return Ee.toString()===Ie.toString()}catch{return Ee===Ie}}(Re,Te)||(me("error",`${Ie} was already initialized on the ${Oe} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Re,was:Te})),ve;{const O=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ee,O,Re]),O}}const et=!!ut.hot,me=(Ee,...Ie)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ee](...Ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ut,De,L)=>{"use strict";L.d(De,{q4:()=>Ou,iC:()=>ms,HU:()=>ua,vb:()=>it,JM:()=>Ti});var u=L(4650),j=L(259),P=L(5861),J=L(9681),oe=L(2090),ue=L(4859),_e=L(1877),he=L(8766);const te="@firebase/installations",G="0.6.4",W=1e4,Q=`w:${G}`,Le="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",We=36e5,Ie=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(I){return I instanceof oe.ZR&&I.code.includes("request-failed")}function Se({projectId:I}){return`${be}/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:de(I.expiresIn),creationTime:Date.now()}}function ve(I,w){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(I,w){const H=(yield w.json()).error;return Ie.create("request-failed",{requestName:I,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function O({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function q(I){return fe.apply(this,arguments)}function fe(){return(fe=(0,P.Z)(function*(I){const w=yield I();return w.status>=500&&w.status<600?I():w})).apply(this,arguments)}function de(I){return Number(I.replace("s","000"))}function ne(){return(ne=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:w},{fid:S}){const H=Se(I),K=O(I),le=w.getImmediate({optional:!0});if(le){const ot=yield le.getHeartbeatsHeader();ot&&K.append("x-firebase-client",ot)}const nt={method:"POST",headers:K,body:JSON.stringify({fid:S,authVersion:Le,appId:I.appId,sdkVersion:Q})},st=yield q(()=>fetch(H,nt));if(st.ok){const ot=yield st.json();return{fid:ot.fid||S,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Re(ot.authToken)}}throw yield ve("Create Installation",st)})).apply(this,arguments)}function ae(I){return new Promise(w=>{setTimeout(w,I)})}const ye=/^[cdef][\w-]{21}$/,pe="";function Ne(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const S=function He(I){return function ee(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ye.test(S)?S:pe}catch{return pe}}function ge(I){return`${I.appName}!${I.appId}`}const ht=new Map;function Qe(I,w){const S=ge(I);gt(S,w),function Ut(I,w){const S=function lt(){return!ze&&"BroadcastChannel"in self&&(ze=new BroadcastChannel("[Firebase] FID Change"),ze.onmessage=I=>{gt(I.data.key,I.data.fid)}),ze}();S&&S.postMessage({key:I,fid:w}),function Pt(){0===ht.size&&ze&&(ze.close(),ze=null)}()}(S,w)}function gt(I,w){const S=ht.get(I);if(S)for(const H of S)H(w)}let ze=null;const Jt="firebase-installations-database",jt=1,qt="firebase-installations-store";let Xt=null;function $t(){return Xt||(Xt=(0,he.X3)(Jt,jt,{upgrade:(I,w)=>{0===w&&I.createObjectStore(qt)}})),Xt}function Wt(I,w){return an.apply(this,arguments)}function an(){return(an=(0,P.Z)(function*(I,w){const S=ge(I),K=(yield $t()).transaction(qt,"readwrite"),le=K.objectStore(qt),ke=yield le.get(S);return yield le.put(w,S),yield K.done,(!ke||ke.fid!==w.fid)&&Qe(I,w.fid),w})).apply(this,arguments)}function Ze(I){return gn.apply(this,arguments)}function gn(){return(gn=(0,P.Z)(function*(I){const w=ge(I),H=(yield $t()).transaction(qt,"readwrite");yield H.objectStore(qt).delete(w),yield H.done})).apply(this,arguments)}function cn(I,w){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,P.Z)(function*(I,w){const S=ge(I),K=(yield $t()).transaction(qt,"readwrite"),le=K.objectStore(qt),ke=yield le.get(S),nt=w(ke);return void 0===nt?yield le.delete(S):yield le.put(nt,S),yield K.done,nt&&(!ke||ke.fid!==nt.fid)&&Qe(I,nt.fid),nt})).apply(this,arguments)}function kt(I){return bn.apply(this,arguments)}function bn(){return bn=(0,P.Z)(function*(I){let w;const S=yield cn(I.appConfig,H=>{const K=function Ke(I){return on(I||{fid:Ne(),registrationStatus:0})}(H),le=function rt(I,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Ie.create("app-offline"))};const S={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},H=function ct(I,w){return rn.apply(this,arguments)}(I,S);return{installationEntry:S,registrationPromise:H}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:ln(I)}:{installationEntry:w}}(I,K);return w=le.registrationPromise,le.installationEntry});return S.fid===pe?{installationEntry:yield w}:{installationEntry:S,registrationPromise:w}}),bn.apply(this,arguments)}function rn(){return rn=(0,P.Z)(function*(I,w){try{const S=yield function Pe(I,w){return ne.apply(this,arguments)}(I,w);return Wt(I.appConfig,S)}catch(S){throw Oe(S)&&409===S.customData.serverCode?yield Ze(I.appConfig):yield Wt(I.appConfig,{fid:w.fid,registrationStatus:0}),S}}),rn.apply(this,arguments)}function ln(I){return dn.apply(this,arguments)}function dn(){return(dn=(0,P.Z)(function*(I){let w=yield mn(I.appConfig);for(;1===w.registrationStatus;)yield ae(100),w=yield mn(I.appConfig);if(0===w.registrationStatus){const{installationEntry:S,registrationPromise:H}=yield kt(I);return H||S}return w})).apply(this,arguments)}function mn(I){return cn(I,w=>{if(!w)throw Ie.create("installation-not-found");return on(w)})}function on(I){return function Zn(I){return 1===I.registrationStatus&&I.registrationTime+W<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ar(){return(ar=(0,P.Z)(function*({appConfig:I,heartbeatServiceProvider:w},S){const H=function Tt(I,{fid:w}){return`${Se(I)}/${w}/authTokens:generate`}(I,S),K=function F(I,{refreshToken:w}){const S=O(I);return S.append("Authorization",function Ue(I){return`${Le} ${I}`}(w)),S}(I,S),le=w.getImmediate({optional:!0});if(le){const ot=yield le.getHeartbeatsHeader();ot&&K.append("x-firebase-client",ot)}const nt={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Q,appId:I.appId}})},st=yield q(()=>fetch(H,nt));if(st.ok)return Re(yield st.json());throw yield ve("Generate Auth Token",st)})).apply(this,arguments)}function _r(I){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,P.Z)(function*(I,w=!1){let S;const H=yield cn(I.appConfig,le=>{if(!Qt(le))throw Ie.create("not-registered");const ke=le.authToken;if(!w&&function xn(I){return 2===I.requestStatus&&!function Z(I){const w=Date.now();return w<I.creationTime||I.creationTime+I.expiresIn<w+We}(I)}(ke))return le;if(1===ke.requestStatus)return S=function Be(I,w){return we.apply(this,arguments)}(I,w),le;{if(!navigator.onLine)throw Ie.create("app-offline");const nt=function $(I){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:w})}(le);return S=function pt(I,w){return Ct.apply(this,arguments)}(I,nt),nt}});return S?yield S:H.authToken}),Pn.apply(this,arguments)}function we(){return(we=(0,P.Z)(function*(I,w){let S=yield Je(I.appConfig);for(;1===S.authToken.requestStatus;)yield ae(100),S=yield Je(I.appConfig);const H=S.authToken;return 0===H.requestStatus?_r(I,w):H})).apply(this,arguments)}function Je(I){return cn(I,w=>{if(!Qt(w))throw Ie.create("not-registered");return function x(I){return 1===I.requestStatus&&I.requestTime+W<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function Ct(){return Ct=(0,P.Z)(function*(I,w){try{const S=yield function ft(I,w){return ar.apply(this,arguments)}(I,w),H=Object.assign(Object.assign({},w),{authToken:S});return yield Wt(I.appConfig,H),S}catch(S){if(!Oe(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const H=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Wt(I.appConfig,H)}else yield Ze(I.appConfig);throw S}}),Ct.apply(this,arguments)}function Qt(I){return void 0!==I&&2===I.registrationStatus}function R(){return(R=(0,P.Z)(function*(I){const w=I,{installationEntry:S,registrationPromise:H}=yield kt(w);return H?H.catch(console.error):_r(w).catch(console.error),S.fid})).apply(this,arguments)}function ce(){return ce=(0,P.Z)(function*(I,w=!1){const S=I;return yield function tt(I){return _t.apply(this,arguments)}(S),(yield _r(S,w)).token}),ce.apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(I){const{registrationPromise:w}=yield kt(I);w&&(yield w)})).apply(this,arguments)}function Wa(I){return Ie.create("missing-app-config-values",{valueName:I})}const Ho="installations",Xs=I=>{const w=I.getProvider("app").getImmediate(),S=function Bo(I){if(!I||!I.options)throw Wa("App Configuration");if(!I.name)throw Wa("App Name");const w=["projectId","apiKey","appId"];for(const S of w)if(!I.options[S])throw Wa(S);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(w);return{app:w,appConfig:S,heartbeatServiceProvider:(0,J._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Ga=I=>{const w=I.getProvider("app").getImmediate(),S=(0,J._getProvider)(w,Ho).getImmediate();return{getId:()=>function k(I){return R.apply(this,arguments)}(S),getToken:K=>function X(I){return ce.apply(this,arguments)}(S,K)}};(function za(){(0,J._registerComponent)(new ue.wA(Ho,Xs,"PUBLIC")),(0,J._registerComponent)(new ue.wA("installations-internal",Ga,"PRIVATE"))})(),(0,J.registerVersion)(te,G),(0,J.registerVersion)(te,G,"esm2017");const sn="@firebase/remote-config",tr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hi{constructor(w,S,H,K){this.client=w,this.storage=S,this.storageCache=H,this.logger=K}isCachedDataFresh(w,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-S,K=H<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${K}.`),K}fetch(w){var S=this;return(0,P.Z)(function*(){const[H,K]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(K&&S.isCachedDataFresh(w.cacheMaxAgeMillis,H))return K;w.eTag=K&&K.eTag;const le=yield S.client.fetch(w),ke=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&ke.push(S.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(ke),le})()}}function vi(I=navigator){return I.languages&&I.languages[0]||I.language}class Kn{constructor(w,S,H,K,le,ke){this.firebaseInstallations=w,this.sdkVersion=S,this.namespace=H,this.projectId=K,this.apiKey=le,this.appId=ke}fetch(w){var S=this;return(0,P.Z)(function*(){const[H,K]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},st={sdk_version:S.sdkVersion,app_instance_id:H,app_instance_id_token:K,app_id:S.appId,language_code:vi()},ot={method:"POST",headers:nt,body:JSON.stringify(st)},zt=fetch(ke,ot),It=new Promise((Hn,Or)=>{w.signal.addEventListener(()=>{const jn=new Error("The operation was aborted.");jn.name="AbortError",Or(jn)})});let Wn;try{yield Promise.race([zt,It]),Wn=yield zt}catch(Hn){let Or="fetch-client-network";throw"AbortError"===Hn?.name&&(Or="fetch-timeout"),tr.create(Or,{originalErrorMessage:Hn?.message})}let Fn=Wn.status;const bl=Wn.headers.get("ETag")||void 0;let Us,hi;if(200===Wn.status){let Hn;try{Hn=yield Wn.json()}catch(Or){throw tr.create("fetch-client-parse",{originalErrorMessage:Or?.message})}Us=Hn.entries,hi=Hn.state}if("INSTANCE_STATE_UNSPECIFIED"===hi?Fn=500:"NO_CHANGE"===hi?Fn=304:("NO_TEMPLATE"===hi||"EMPTY_CONFIG"===hi)&&(Us={}),304!==Fn&&200!==Fn)throw tr.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:bl,config:Us}})()}}class St{constructor(w,S){this.client=w,this.storage=S}fetch(w){var S=this;return(0,P.Z)(function*(){const H=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(w,H)})()}attemptFetch(w,{throttleEndTimeMillis:S,backoffCount:H}){var K=this;return(0,P.Z)(function*(){yield function Ds(I,w){return new Promise((S,H)=>{const K=Math.max(w-Date.now(),0),le=setTimeout(S,K);I.addEventListener(()=>{clearTimeout(le),H(tr.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,S);try{const le=yield K.client.fetch(w);return yield K.storage.deleteThrottleMetadata(),le}catch(le){if(!function kc(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}(le))throw le;const ke={throttleEndTimeMillis:Date.now()+(0,oe.$s)(H),backoffCount:H+1};return yield K.storage.setThrottleMetadata(ke),K.attemptFetch(w,ke)}})()}}class fu{constructor(w,S,H,K,le){this.app=w,this._client=S,this._storageCache=H,this._storage=K,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ci(I,w){const S=I.target.error||void 0;return tr.create(w,{originalErrorMessage:S&&S?.message})}const oi="app_namespace_store";class cr{constructor(w,S,H,K=function kh(){return new Promise((I,w)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=H=>{w(Ci(H,"storage-open"))},S.onsuccess=H=>{I(H.target.result)},S.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(oi,{keyPath:"compositeKey"})}}catch(S){w(tr.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=w,this.appName=S,this.namespace=H,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var S=this;return(0,P.Z)(function*(){const H=yield S.openDbPromise;return new Promise((K,le)=>{const nt=H.transaction([oi],"readonly").objectStore(oi),st=S.createCompositeKey(w);try{const ot=nt.get(st);ot.onerror=zt=>{le(Ci(zt,"storage-get"))},ot.onsuccess=zt=>{const It=zt.target.result;K(It?It.value:void 0)}}catch(ot){le(tr.create("storage-get",{originalErrorMessage:ot?.message}))}})})()}set(w,S){var H=this;return(0,P.Z)(function*(){const K=yield H.openDbPromise;return new Promise((le,ke)=>{const st=K.transaction([oi],"readwrite").objectStore(oi),ot=H.createCompositeKey(w);try{const zt=st.put({compositeKey:ot,value:S});zt.onerror=It=>{ke(Ci(It,"storage-set"))},zt.onsuccess=()=>{le()}}catch(zt){ke(tr.create("storage-set",{originalErrorMessage:zt?.message}))}})})()}delete(w){var S=this;return(0,P.Z)(function*(){const H=yield S.openDbPromise;return new Promise((K,le)=>{const nt=H.transaction([oi],"readwrite").objectStore(oi),st=S.createCompositeKey(w);try{const ot=nt.delete(st);ot.onerror=zt=>{le(Ci(zt,"storage-delete"))},ot.onsuccess=()=>{K()}}catch(ot){le(tr.create("storage-delete",{originalErrorMessage:ot?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class Yn{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,P.Z)(function*(){const S=w.storage.getLastFetchStatus(),H=w.storage.getLastSuccessfulFetchTimestampMillis(),K=w.storage.getActiveConfig(),le=yield S;le&&(w.lastFetchStatus=le);const ke=yield H;ke&&(w.lastSuccessfulFetchTimestampMillis=ke);const nt=yield K;nt&&(w.activeConfig=nt)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function li(){return no.apply(this,arguments)}function no(){return(no=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ka(){(0,J._registerComponent)(new ue.wA("remote-config",function I(w,{instanceIdentifier:S}){const H=w.getProvider("app").getImmediate(),K=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,oe.hl)())throw tr.create("indexed-db-unavailable");const{projectId:le,apiKey:ke,appId:nt}=H.options;if(!le)throw tr.create("registration-project-id");if(!ke)throw tr.create("registration-api-key");if(!nt)throw tr.create("registration-app-id");const st=new cr(nt,H.name,S=S||"firebase"),ot=new Yn(st),zt=new _e.Yd(sn);zt.logLevel=_e.in.ERROR;const It=new Kn(K,J.SDK_VERSION,S,le,ke,nt),Wn=new St(It,st),Fn=new Hi(Wn,st,ot,zt),bl=new fu(H,Fn,ot,st,zt);return function yi(I){const w=(0,oe.m9)(I);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(bl),bl},"PUBLIC").setMultipleInstances(!0)),(0,J.registerVersion)(sn,"0.4.4"),(0,J.registerVersion)(sn,"0.4.4","esm2017")}();const $i="/firebase-messaging-sw.js",Ts="/firebase-cloud-messaging-push-scope",Ss="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fh="https://fcmregistrations.googleapis.com/v1",pu="google.c.a.c_id",Fc="google.c.a.c_l",Lh="google.c.a.ts",Wi="google.c.a.e";var ui=(()=>{return(I=ui||(ui={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ui;var I})();function rs(I){const w=new Uint8Array(I);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uh(I){const S=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(S),K=new Uint8Array(H.length);for(let le=0;le<H.length;++le)K[le]=H.charCodeAt(le);return K}const ro="fcm_token_details_db",Vr=5,gu="fcm_token_object_Store";function As(){return As=(0,P.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(ro))return null;let w=null;return(yield(0,he.X3)(ro,Vr,{upgrade:(H=(0,P.Z)(function*(K,le,ke,nt){var st;if(le<2||!K.objectStoreNames.contains(gu))return;const ot=nt.objectStore(gu),zt=yield ot.index("fcmSenderId").get(I);if(yield ot.clear(),zt)if(2===le){const It=zt;if(!It.auth||!It.p256dh||!It.endpoint)return;w={token:It.fcmToken,createTime:null!==(st=It.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:It.auth,p256dh:It.p256dh,endpoint:It.endpoint,swScope:It.swScope,vapidKey:"string"==typeof It.vapidKey?It.vapidKey:rs(It.vapidKey)}}}else if(3===le){const It=zt;w={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:rs(It.auth),p256dh:rs(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:rs(It.vapidKey)}}}else if(4===le){const It=zt;w={token:It.fcmToken,createTime:It.createTime,subscriptionOptions:{auth:rs(It.auth),p256dh:rs(It.p256dh),endpoint:It.endpoint,swScope:It.swScope,vapidKey:rs(It.vapidKey)}}}}),function(le,ke,nt,st){return H.apply(this,arguments)})})).close(),yield(0,he.Lj)(ro),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),function _u(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:w}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var H}),As.apply(this,arguments)}const Uc="firebase-messaging-database",Vh=1,Br="firebase-messaging-store";let Wo=null;function is(){return Wo||(Wo=(0,he.X3)(Uc,Vh,{upgrade:(I,w)=>{0===w&&I.createObjectStore(Br)}})),Wo}function io(I){return ss.apply(this,arguments)}function ss(){return ss=(0,P.Z)(function*(I){const w=Ei(I),H=yield(yield is()).transaction(Br).objectStore(Br).get(w);if(H)return H;{const K=yield function mu(I){return As.apply(this,arguments)}(I.appConfig.senderId);if(K)return yield so(I,K),K}}),ss.apply(this,arguments)}function so(I,w){return Go.apply(this,arguments)}function Go(){return(Go=(0,P.Z)(function*(I,w){const S=Ei(I),K=(yield is()).transaction(Br,"readwrite");return yield K.objectStore(Br).put(w,S),yield K.done,w})).apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(I){const w=Ei(I),H=(yield is()).transaction(Br,"readwrite");yield H.objectStore(Br).delete(w),yield H.done})).apply(this,arguments)}function Ei({appConfig:I}){return I.appId}const un=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ja(I,w){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,P.Z)(function*(I,w){const S=yield ao(I),H=nr(w),K={method:"POST",headers:S,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(Xa(I.appConfig),K)).json()}catch(ke){throw un.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(le.error)throw un.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw un.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function oo(){return(oo=(0,P.Z)(function*(I,w){const S=yield ao(I),H=nr(w.subscriptionOptions),K={method:"PATCH",headers:S,body:JSON.stringify(H)};let le;try{le=yield(yield fetch(`${Xa(I.appConfig)}/${w.token}`,K)).json()}catch(ke){throw un.create("token-update-failed",{errorInfo:ke?.toString()})}if(le.error)throw un.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw un.create("token-update-no-token");return le.token})).apply(this,arguments)}function Gi(I,w){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,P.Z)(function*(I,w){const H={method:"DELETE",headers:yield ao(I)};try{const le=yield(yield fetch(`${Xa(I.appConfig)}/${w}`,H)).json();if(le.error)throw un.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(K){throw un.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Xa({projectId:I}){return`${Fh}/projects/${I}/registrations`}function ao(I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*({appConfig:I,installations:w}){const S=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function nr({p256dh:I,auth:w,endpoint:S,vapidKey:H}){const K={web:{endpoint:S,auth:w,p256dh:I}};return H!==Ss&&(K.web.applicationPubKey=H),K}const el=6048e5;function yu(){return yu=(0,P.Z)(function*(I){const w=yield function nl(I,w){return rl.apply(this,arguments)}(I.swRegistration,I.vapidKey),S={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:w.endpoint,auth:rs(w.getKey("auth")),p256dh:rs(w.getKey("p256dh"))},H=yield io(I.firebaseDependencies);if(H){if(function il(I,w){return w.vapidKey===I.vapidKey&&w.endpoint===I.endpoint&&w.auth===I.auth&&w.p256dh===I.p256dh}(H.subscriptionOptions,S))return Date.now()>=H.createTime+el?function lo(I,w){return bt.apply(this,arguments)}(I,{token:H.token,createTime:Date.now(),subscriptionOptions:S}):H.token;try{yield Gi(I.firebaseDependencies,H.token)}catch(K){console.warn(K)}return qo(I.firebaseDependencies,S)}return qo(I.firebaseDependencies,S)}),yu.apply(this,arguments)}function Zo(){return Zo=(0,P.Z)(function*(I){const w=yield io(I.firebaseDependencies);w&&(yield Gi(I.firebaseDependencies,w.token),yield function zo(I){return Ya.apply(this,arguments)}(I.firebaseDependencies));const S=yield I.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Zo.apply(this,arguments)}function bt(){return bt=(0,P.Z)(function*(I,w){try{const S=yield function An(I,w){return oo.apply(this,arguments)}(I.firebaseDependencies,w),H=Object.assign(Object.assign({},w),{token:S,createTime:Date.now()});return yield so(I.firebaseDependencies,H),S}catch(S){throw yield function zr(I){return Zo.apply(this,arguments)}(I),S}}),bt.apply(this,arguments)}function qo(I,w){return tl.apply(this,arguments)}function tl(){return(tl=(0,P.Z)(function*(I,w){const H={token:yield Ja(I,w),createTime:Date.now(),subscriptionOptions:w};return yield so(I,H),H.token})).apply(this,arguments)}function rl(){return(rl=(0,P.Z)(function*(I,w){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uh(w)})})).apply(this,arguments)}function vu(I){const w={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function sl(I,w){if(!w.notification)return;I.notification={};const S=w.notification.title;S&&(I.notification.title=S);const H=w.notification.body;H&&(I.notification.body=H);const K=w.notification.image;K&&(I.notification.image=K);const le=w.notification.icon;le&&(I.notification.icon=le)}(w,I),function Mn(I,w){w.data&&(I.data=w.data)}(w,I),function xe(I,w){var S,H,K,le,ke;if(!(w.fcmOptions||null!==(S=w.notification)&&void 0!==S&&S.click_action))return;I.fcmOptions={};const nt=null!==(K=null===(H=w.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==K?K:null===(le=w.notification)||void 0===le?void 0:le.click_action;nt&&(I.fcmOptions.link=nt);const st=null===(ke=w.fcmOptions)||void 0===ke?void 0:ke.analytics_label;st&&(I.fcmOptions.analyticsLabel=st)}(w,I),w}function Cu(I,w){const S=[];for(let H=0;H<I.length;H++)S.push(I.charAt(H)),H<w.length&&S.push(w.charAt(H));return S.join("")}function Nn(I){return un.create("missing-app-config-values",{valueName:I})}Cu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bc{constructor(w,S,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Vc(I){if(!I||!I.options)throw Nn("App Configuration Object");if(!I.name)throw Nn("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:S}=I;for(const H of w)if(!S[H])throw Nn(H);return{appName:I.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:K,installations:S,analyticsProvider:H}}_delete(){return Promise.resolve()}}function zi(I){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register($i,{scope:Ts}),I.swRegistration.update().catch(()=>{})}catch(w){throw un.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function Yo(){return(Yo=(0,P.Z)(function*(I,w){if(!w&&!I.swRegistration&&(yield zi(I)),w||!I.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");I.swRegistration=w}})).apply(this,arguments)}function Eu(){return(Eu=(0,P.Z)(function*(I,w){w?I.vapidKey=w:I.vapidKey||(I.vapidKey=Ss)})).apply(this,arguments)}function Bn(){return Bn=(0,P.Z)(function*(I,w){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield function Qo(I,w){return Eu.apply(this,arguments)}(I,w?.vapidKey),yield function Ko(I,w){return Yo.apply(this,arguments)}(I,w?.serviceWorkerRegistration),function os(I){return yu.apply(this,arguments)}(I)}),Bn.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(I,w,S){const H=function as(I){switch(I){case ui.NOTIFICATION_CLICKED:return"notification_open";case ui.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:S[pu],message_name:S[Fc],message_time:S[Lh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jo(){return Jo=(0,P.Z)(function*(I,w){const S=w.data;if(!S.isFirebaseMessaging)return;I.onMessageHandler&&S.messageType===ui.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(vu(S)):I.onMessageHandler.next(vu(S)));const H=S.data;(function en(I){return"object"==typeof I&&!!I&&pu in I})(H)&&"1"===H[Wi]&&(yield function dr(I,w,S){return ol.apply(this,arguments)}(I,S.messageType,H))}),Jo.apply(this,arguments)}const al="@firebase/messaging",Hc=I=>{const w=new Bc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function ci(I,w){return Jo.apply(this,arguments)}(w,S)),w},Ii=I=>{const w=I.getProvider("messaging").getImmediate();return{getToken:H=>function uo(I,w){return Bn.apply(this,arguments)}(w,H)}};function Iu(){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ul(){(0,J._registerComponent)(new ue.wA("messaging",Hc,"PUBLIC")),(0,J._registerComponent)(new ue.wA("messaging-internal",Ii,"PRIVATE")),(0,J.registerVersion)(al,"0.12.4"),(0,J.registerVersion)(al,"0.12.4","esm2017")}();const bu="analytics",jh="firebase_id",Er="origin",Zi=6e4,fn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ea="https://www.googletagmanager.com/gtag/js",Jn=new _e.Yd("@firebase/analytics"),Pr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Op(I){if(!I.startsWith(ea)){const w=Pr.create("invalid-gtag-resource",{gtagURL:I});return Jn.warn(w.message),""}return I}function $c(I){return Promise.all(I.map(w=>w.catch(S=>S)))}function qr(){return(qr=(0,P.Z)(function*(I,w,S,H,K,le){const ke=H[K];try{if(ke)yield w[ke];else{const st=(yield $c(S)).find(ot=>ot.measurementId===K);st&&(yield w[st.appId])}}catch(nt){Jn.error(nt)}I("config",K,le)})).apply(this,arguments)}function Kr(){return(Kr=(0,P.Z)(function*(I,w,S,H,K){try{let le=[];if(K&&K.send_to){let ke=K.send_to;Array.isArray(ke)||(ke=[ke]);const nt=yield $c(S);for(const st of ke){const ot=nt.find(It=>It.measurementId===st),zt=ot&&w[ot.appId];if(!zt){le=[];break}le.push(zt)}}0===le.length&&(le=Object.values(w)),yield Promise.all(le),I("event",H,K||{})}catch(le){Jn.error(le)}})).apply(this,arguments)}const ta=30,po=new class fl{constructor(w={},S=1e3){this.throttleMetadata=w,this.intervalMillis=S}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,S){this.throttleMetadata[w]=S}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function pl(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ps(){return(Ps=(0,P.Z)(function*(I){var w;const{appId:S,apiKey:H}=I,K={method:"GET",headers:pl(H)},le=fn.replace("{app-id}",S),ke=yield fetch(le,K);if(200!==ke.status&&304!==ke.status){let nt="";try{const st=yield ke.json();null!==(w=st.error)&&void 0!==w&&w.message&&(nt=st.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:nt})}return ke.json()})).apply(this,arguments)}function xs(){return(xs=(0,P.Z)(function*(I,w=po,S){const{appId:H,apiKey:K,measurementId:le}=I.options;if(!H)throw Pr.create("no-app-id");if(!K){if(le)return{measurementId:le,appId:H};throw Pr.create("no-api-key")}const ke=w.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new Wc;return setTimeout((0,P.Z)(function*(){nt.abort()}),void 0!==S?S:Zi),di({appId:H,apiKey:K,measurementId:le},ke,nt,w)})).apply(this,arguments)}function di(I,w,S){return mo.apply(this,arguments)}function mo(){return mo=(0,P.Z)(function*(I,{throttleEndTimeMillis:w,backoffCount:S},H,K=po){var le;const{appId:ke,measurementId:nt}=I;try{yield function _o(I,w){return new Promise((S,H)=>{const K=Math.max(w-Date.now(),0),le=setTimeout(S,K);I.addEventListener(()=>{clearTimeout(le),H(Pr.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(H,w)}catch(st){if(nt)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${st?.message}]`),{appId:ke,measurementId:nt};throw st}try{const st=yield function go(I){return Ps.apply(this,arguments)}(I);return K.deleteThrottleMetadata(ke),st}catch(st){const ot=st;if(!function na(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}(ot)){if(K.deleteThrottleMetadata(ke),nt)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:ke,measurementId:nt};throw st}const zt=503===Number(null===(le=ot?.customData)||void 0===le?void 0:le.httpStatus)?(0,oe.$s)(S,K.intervalMillis,ta):(0,oe.$s)(S,K.intervalMillis),It={throttleEndTimeMillis:Date.now()+zt,backoffCount:S+1};return K.setThrottleMetadata(ke,It),Jn.debug(`Calling attemptFetch again in ${zt} millis`),di(I,It,H,K)}}),mo.apply(this,arguments)}class Wc{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let ls,ks;function wi(){return(wi=(0,P.Z)(function*(I,w,S,H,K){if(K&&K.global)I("event",S,H);else{const le=yield w;I("event",S,Object.assign(Object.assign({},H),{send_to:le}))}})).apply(this,arguments)}function sa(){return(sa=(0,P.Z)(function*(){if(!(0,oe.hl)())return Jn.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return Jn.warn(Pr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function oa(){return oa=(0,P.Z)(function*(I,w,S,H,K,le,ke){var nt;const st=function Cn(I){return xs.apply(this,arguments)}(I);st.then(Fn=>{S[Fn.measurementId]=Fn.appId,I.options.measurementId&&Fn.measurementId!==I.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>Jn.error(Fn)),w.push(st);const ot=function zc(){return sa.apply(this,arguments)}().then(Fn=>{if(Fn)return H.getId()}),[zt,It]=yield Promise.all([st,ot]);(function Np(I){const w=window.document.getElementsByTagName("script");for(const S of Object.values(w))if(S.src&&S.src.includes(ea)&&S.src.includes(I))return S;return null})(le)||function co(I,w){const S=function hl(I,w){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(I,w)),S}("firebase-js-sdk-policy",{createScriptURL:Op}),H=document.createElement("script"),K=`${ea}?l=${I}&id=${w}`;H.src=S?S?.createScriptURL(K):K,H.async=!0,document.head.appendChild(H)}(le,zt.measurementId),ks&&(K("consent","default",ks),function cs(I){ks=I}(void 0)),K("js",new Date);const Wn=null!==(nt=ke?.config)&&void 0!==nt?nt:{};return Wn[Er]="firebase",Wn.update=!0,null!=It&&(Wn[jh]=It),K("config",zt.measurementId,Wn),ls&&(K("set",ls),function vo(I){ls=I}(void 0)),zt.measurementId}),oa.apply(this,arguments)}class Su{constructor(w){this.app=w}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},aa=[];const Di={};let la,wr,Co="dataLayer",ml="gtag",_l=!1;function Au(I,w,S){!function yl(){const I=[];if((0,oe.ru)()&&I.push("This is a browser extension environment."),(0,oe.zI)()||I.push("Cookies are not available."),I.length>0){const w=I.map((H,K)=>`(${K+1}) ${H}`).join(" "),S=Pr.create("invalid-analytics-context",{errorInfo:w});Jn.warn(S.message)}}();const H=I.options.appId;if(!H)throw Pr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Pr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[H])throw Pr.create("already-exists",{id:H});if(!_l){!function Rs(I){let w=[];Array.isArray(window[I])?w=window[I]:window[I]=w}(Co);const{wrappedGtag:le,gtagCore:ke}=function Tu(I,w,S,H,K){let le=function(...ke){window[H].push(arguments)};return window[K]&&"function"==typeof window[K]&&(le=window[K]),window[K]=function fo(I,w,S,H){function le(){return le=(0,P.Z)(function*(ke,nt,st){try{"event"===ke?yield function Du(I,w,S,H,K){return Kr.apply(this,arguments)}(I,w,S,nt,st):"config"===ke?yield function ho(I,w,S,H,K,le){return qr.apply(this,arguments)}(I,w,S,H,nt,st):"consent"===ke?I("consent","update",st):I("set",nt)}catch(ot){Jn.error(ot)}}),le.apply(this,arguments)}return function K(ke,nt,st){return le.apply(this,arguments)}}(le,I,w,S),{gtagCore:le,wrappedGtag:window[K]}}(Yr,aa,Di,Co,ml);wr=le,la=ke,_l=!0}return Yr[H]=function gl(I,w,S,H,K,le,ke){return oa.apply(this,arguments)}(I,aa,Di,w,la,Co,S),new Su(I)}function Ls(){return ds.apply(this,arguments)}function ds(){return(ds=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const vl="@firebase/analytics";!function El(){(0,J._registerComponent)(new ue.wA(bu,(w,{options:S})=>Au(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,J._registerComponent)(new ue.wA("analytics-internal",function I(w){try{const S=w.getProvider(bu).getImmediate();return{logEvent:(H,K,le)=>function qi(I,w,S,H){I=(0,oe.m9)(I),function ra(I,w,S,H,K){return wi.apply(this,arguments)}(wr,Yr[I.app.options.appId],w,S,H).catch(K=>Jn.error(K))}(S,H,K,le)}}catch(S){throw Pr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,J.registerVersion)(vl,"0.9.5"),(0,J.registerVersion)(vl,"0.9.5","esm2017")}();var Fp=L(4408),Lp=L(7565);const fs=new class Pu extends Lp.v{}(class Zc extends Fp.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}schedule(w,S=0){return S>0?super.schedule(w,S):(this.delay=S,this.state=w,this.scheduler.flush(this),this)}execute(w,S){return S>0||this.closed?super.execute(w,S):this._execute(w,S)}requestAsyncId(w,S,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(w,S,H):(w.flush(this),0)}});var Up=L(4986),kn=L(8505),xu=L(9468),Qr=L(5363);const Ou=new u.GfV("7.5.0"),xr="__angularfire_symbol__analyticsIsSupportedValue",Ki="__angularfire_symbol__analyticsIsSupported",Il="__angularfire_symbol__remoteConfigIsSupportedValue",ps="__angularfire_symbol__remoteConfigIsSupported",gs="__angularfire_symbol__messagingIsSupportedValue",Nu="__angularfire_symbol__messagingIsSupported";function Ti(I,w,S){if(w){if(1===w.length)return w[0];const le=w.filter(ke=>ke.app===S);if(1===le.length)return le[0]}return S.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ki]||(globalThis[Ki]=Ls().then(I=>globalThis[xr]=I).catch(()=>globalThis[xr]=!1)),globalThis[Nu]||(globalThis[Nu]=Iu().then(I=>globalThis[gs]=I).catch(()=>globalThis[gs]=!1)),globalThis[ps]||(globalThis[ps]=li().then(I=>globalThis[Il]=I).catch(()=>globalThis[Il]=!1));const it=(I,w)=>{const S=w?[w]:(0,j.C6)(),H=[];return S.forEach(K=>{K.container.getProvider(I).instances.forEach(ke=>{H.includes(ke)||H.push(ke)})}),H};function br(){}class Dr{constructor(w,S=fs){this.zone=w,this.delegate=S}now(){return this.delegate.now()}schedule(w,S,H){const K=this.zone;return this.delegate.schedule(function(ke){K.runGuarded(()=>{w.apply(this,[ke])})},S,H)}}class wo{constructor(w){this.zone=w,this.task=null}call(w,S){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br)),S.pipe((0,kn.b)({next:H,complete:H,error:H})).subscribe(w).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ua=(()=>{class I{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Dr(Zone.current)),this.insideAngular=S.run(()=>new Dr(Zone.current,Up.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(S){return new(S||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function hr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ms(I){return hr(),function ca(I){return function(S){return(S=S.lift(new wo(I.ngZone))).pipe((0,xu.R)(I.outsideAngular),(0,Qr.Q)(I.insideAngular))}}(hr())(I)}},3432:(ut,De,L)=>{"use strict";L.d(De,{$:()=>Ja,A:()=>W,C:()=>be,H:()=>Ga,I:()=>Rr,K:()=>St,M:()=>xn,N:()=>no,P:()=>xu,Q:()=>Fh,R:()=>qi,U:()=>pu,V:()=>Fc,W:()=>Ss,X:()=>ui,Y:()=>rs,Z:()=>mu,_:()=>Qa,a:()=>fl,a0:()=>An,a1:()=>Xa,a2:()=>yu,a3:()=>Zo,a4:()=>bt,a5:()=>tl,a6:()=>rl,a7:()=>vu,a8:()=>Mn,a9:()=>xe,aA:()=>Us,aB:()=>de,aC:()=>Z,aD:()=>zt,aE:()=>ms,aF:()=>Lu,aG:()=>qn,aK:()=>go,aN:()=>Wi,aa:()=>Cu,ab:()=>Vc,ac:()=>Zr,ad:()=>Yo,ae:()=>Eu,ah:()=>ol,ai:()=>ci,aj:()=>Jo,am:()=>Br,an:()=>wu,ap:()=>Jn,aq:()=>ho,ar:()=>q,as:()=>Gt,at:()=>tt,au:()=>Oe,av:()=>Vu,aw:()=>jn,ax:()=>yt,ay:()=>Se,az:()=>O,b:()=>ta,c:()=>qc,d:()=>Ti,e:()=>x_,f:()=>Dt,g:()=>le,h:()=>S,i:()=>gl,j:()=>st,k:()=>ys,l:()=>Fp,m:()=>td,p:()=>he,r:()=>Lp,s:()=>Cl,u:()=>Up});var u=L(5861),j=L(2090),P=L(9681),J=L(1877),oe=L(655),ue=L(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},We=function Le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},et=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new J.Yd("@firebase/auth");function Ie(_,...f){Ee.logLevel<=J.in.ERROR&&Ee.error(`Auth (${P.SDK_VERSION}): ${_}`,...f)}function Oe(_,...f){throw Te(_,...f)}function Se(_,...f){return Te(_,...f)}function Re(_,f,g){const y=Object.assign(Object.assign({},We()),{[f]:g});return new j.LL("auth","Firebase",y).create(f,{appName:_.name})}function ve(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Oe(_,"argument-error"),Re(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Te(_,...f){if("string"!=typeof _){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return et.create(_,...f)}function O(_,f,...g){if(!_)throw Te(f,...g)}function F(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Ie(f),new Error(f)}function q(_,f){_||F(f)}const fe=new Map;function de(_){q(_ instanceof Function,"Expected a class definition");let f=fe.get(_);return f?(q(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,fe.set(_,f),f)}function ne(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ae(){return"http:"===ee()||"https:"===ee()}function ee(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Ne{constructor(f,g){this.shortDelay=f,this.longDelay=g,q(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ae()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function He(_,f){q(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ge{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void F("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void F("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void F("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ht={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qe=new Ne(3e4,6e4);function Ge(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ve(_,f,g,y){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(_,f,g,y,T={}){return Ut(_,T,(0,u.Z)(function*(){let N={},re={};y&&("GET"===f?re=y:N={body:JSON.stringify(y)});const Ae=(0,j.xO)(Object.assign({key:_.config.apiKey},re)).slice(1),qe=yield _._getAdditionalHeaders();return qe["Content-Type"]="application/json",_.languageCode&&(qe["X-Firebase-Locale"]=_.languageCode),ge.fetch()(Jt(_,_.config.apiHost,g,Ae),Object.assign({method:f,headers:qe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ut(_,f,g){return ze.apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(_,f,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},ht),f);try{const T=new jt(_),N=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const re=yield N.json();if("needConfirmation"in re)throw qt(_,"account-exists-with-different-credential",re);if(N.ok&&!("errorMessage"in re))return re;{const Ae=N.ok?re.errorMessage:re.error.message,[qe,dt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw qt(_,"credential-already-in-use",re);if("EMAIL_EXISTS"===qe)throw qt(_,"email-already-in-use",re);if("USER_DISABLED"===qe)throw qt(_,"user-disabled",re);const Vt=y[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Re(_,Vt,dt);Oe(_,Vt)}}catch(T){if(T instanceof j.ZR)throw T;Oe(_,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function lt(_,f,g,y){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(_,f,g,y,T={}){const N=yield Ve(_,f,g,y,T);return"mfaPendingCredential"in N&&Oe(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Jt(_,f,g,y){const T=`${f}${g}?${y}`;return _.config.emulator?He(_.config,T):`${_.config.apiScheme}://${T}`}class jt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(Se(this.auth,"network-request-failed")),Qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(_,f,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const T=Se(_,f,y);return T.customData._tokenResponse=g,T}function $t(){return($t=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function cn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function bn(){return(bn=(0,u.Z)(function*(_,f=!1){const g=(0,j.m9)(_),y=yield g.getIdToken(f),T=rt(y);O(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,re=N?.sign_in_provider;return{claims:T,token:y,authTime:cn(Ke(T.auth_time)),issuedAtTime:cn(Ke(T.iat)),expirationTime:cn(Ke(T.exp)),signInProvider:re||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Ke(_){return 1e3*Number(_)}function rt(_){const[f,g,y]=_.split(".");if(void 0===f||void 0===g||void 0===y)return Ie("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,j.tV)(g);return T?JSON.parse(T):(Ie("Failed to decode base64 JWT payload"),null)}catch(T){return Ie("Caught error parsing JWT payload as JSON",T?.toString()),null}}function rn(_,f){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof j.ZR&&function dn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class mn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class on{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=cn(this.lastLoginAt),this.creationTime=cn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zn(_){return ft.apply(this,arguments)}function ft(){return ft=(0,u.Z)(function*(_){var f;const g=_.auth,y=yield _.getIdToken(),T=yield rn(_,function Ze(_,f){return gn.apply(this,arguments)}(g,{idToken:y}));O(T?.users.length,g,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const re=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Pn(_){return _.map(f=>{var{providerId:g}=f,y=(0,oe._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(N.providerUserInfo):[],Ae=function _r(_,f){return[..._.filter(y=>!f.some(T=>T.providerId===y.providerId)),...f]}(_.providerData,re),Vt=!!_.isAnonymous&&!(_.email&&N.passwordHash||Ae?.length),Dn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Ae,metadata:new on(N.createdAt,N.lastLoginAt),isAnonymous:Vt};Object.assign(_,Dn)}),ft.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(_){const f=(0,j.m9)(_);yield Zn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function we(){return(we=(0,u.Z)(function*(_,f){const g=yield Ut(_,{},(0,u.Z)(function*(){const y=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,re=Jt(_,T,"/v1/token",`key=${N}`),Ae=yield _._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(re,{method:"POST",headers:Ae,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){O(f.idToken,"internal-error"),O(typeof f.idToken<"u","internal-error"),O(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ct(_){const f=rt(_);return O(f,"internal-error"),O(typeof f.exp<"u","internal-error"),O(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,u.Z)(function*(){return O(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:re}=yield function Be(_,f){return we.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(T,N,Number(re))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:T,expirationTime:N}=g,re=new Je;return y&&(O("string"==typeof y,"internal-error",{appName:f}),re.refreshToken=y),T&&(O("string"==typeof T,"internal-error",{appName:f}),re.accessToken=T),N&&(O("number"==typeof N,"internal-error",{appName:f}),re.expirationTime=N),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return F("not implemented")}}function pt(_,f){O("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class Ct{constructor(f){var{uid:g,auth:y,stsTokenManager:T}=f,N=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new on(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const y=yield rn(g,g.stsTokenManager.getToken(g.auth,f));return O(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function kt(_){return bn.apply(this,arguments)}(this,f)}reload(){return function ar(_){return Tt.apply(this,arguments)}(this)}_assign(f){this!==f&&(O(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Ct(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,u.Z)(function*(){let T=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),T=!0),g&&(yield Zn(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield rn(f,function Xt(_,f){return $t.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,T,N,re,Ae,qe,dt,Vt;const Dn=null!==(y=g.displayName)&&void 0!==y?y:void 0,pi=null!==(T=g.email)&&void 0!==T?T:void 0,Hs=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Ao=null!==(re=g.photoURL)&&void 0!==re?re:void 0,Xh=null!==(Ae=g.tenantId)&&void 0!==Ae?Ae:void 0,id=null!==(qe=g._redirectEventId)&&void 0!==qe?qe:void 0,ef=null!==(dt=g.createdAt)&&void 0!==dt?dt:void 0,tf=null!==(Vt=g.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Hu,emailVerified:pa,isAnonymous:ga,providerData:Pl,stsTokenManager:js}=g;O(Hu&&js,f,"internal-error");const sd=Je.fromJSON(this.name,js);O("string"==typeof Hu,f,"internal-error"),pt(Dn,f.name),pt(pi,f.name),O("boolean"==typeof pa,f,"internal-error"),O("boolean"==typeof ga,f,"internal-error"),pt(Hs,f.name),pt(Ao,f.name),pt(Xh,f.name),pt(id,f.name),pt(ef,f.name),pt(tf,f.name);const od=new Ct({uid:Hu,auth:f,email:pi,emailVerified:pa,displayName:Dn,isAnonymous:ga,photoURL:Ao,phoneNumber:Hs,tenantId:Xh,stsTokenManager:sd,createdAt:ef,lastLoginAt:tf});return Pl&&Array.isArray(Pl)&&(od.providerData=Pl.map(ad=>Object.assign({},ad))),id&&(od._redirectEventId=id),od}static _fromIdTokenResponse(f,g,y=!1){return(0,u.Z)(function*(){const T=new Je;T.updateFromServerResponse(g);const N=new Ct({uid:g.localId,auth:f,stsTokenManager:T,isAnonymous:y});return yield Zn(N),N})()}}const xn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,y){var T=this;return(0,u.Z)(function*(){T.storage[g]=y})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=y.storage[g];return void 0===T?null:T})()}_remove(g){var y=this;return(0,u.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function Z(_,f,g){return`firebase:${_}:${f}:${g}`}class ${constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:T,name:N}=this.auth;this.fullUserKey=Z(this.userKey,T.apiKey,N),this.fullPersistenceKey=Z("persistence",T.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ct._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,u.Z)(function*(){if(!g.length)return new $(de(xn),f,y);const T=(yield Promise.all(g.map(function(){var dt=(0,u.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let N=T[0]||de(xn);const re=Z(y,f.config.apiKey,f.name);let Ae=null;for(const dt of g)try{const Vt=yield dt._get(re);if(Vt){const Dn=Ct._fromJSON(f,Vt);dt!==N&&(Ae=Dn),N=dt;break}}catch{}const qe=T.filter(dt=>dt._shouldAllowMigration);return N._shouldAllowMigration&&qe.length?(N=qe[0],Ae&&(yield N._set(re,Ae.toJSON())),yield Promise.all(g.map(function(){var dt=(0,u.Z)(function*(Vt){if(Vt!==N)try{yield Vt._remove(re)}catch{}});return function(Vt){return dt.apply(this,arguments)}}())),new $(N,f,y)):new $(N,f,y)})()}}function x(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ce(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(k(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_t(f))return"Blackberry";if(Et(f))return"Webos";if(R(f))return"Safari";if((f.includes("chrome/")||X(f))&&!f.includes("edge/"))return"Chrome";if(tt(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function k(_=(0,j.z$)()){return/firefox\//i.test(_)}function R(_=(0,j.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function X(_=(0,j.z$)()){return/crios\//i.test(_)}function ce(_=(0,j.z$)()){return/iemobile/i.test(_)}function tt(_=(0,j.z$)()){return/android/i.test(_)}function _t(_=(0,j.z$)()){return/blackberry/i.test(_)}function Et(_=(0,j.z$)()){return/webos/i.test(_)}function Gt(_=(0,j.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function yt(_=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function yr(_=(0,j.z$)()){return Gt(_)||tt(_)||Et(_)||_t(_)||/windows phone/i.test(_)||ce(_)}function Bo(_,f=[]){let g;switch(_){case"Browser":g=x((0,j.z$)());break;case"Worker":g=`${x((0,j.z$)())}-${_}`;break;default:g=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${y}`}class Wa{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=N=>new Promise((re,Ae)=>{try{re(f(N))}catch(qe){Ae(qe)}});y.onAbort=g,this.queue.push(y);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const T of g.queue)yield T(f),T.onAbort&&y.push(T.onAbort)}catch(T){y.reverse();for(const N of y)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Ho{constructor(f,g,y){this.app=f,this.heartbeatServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xs(this),this.idTokenSubscription=new Xs(this),this.beforeStateQueue=new Wa(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=et,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=de(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,N;if(!y._deleted&&(y.persistenceManager=yield $.create(y,f),!y._deleted)){if(null!==(T=y._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(N=y.currentUser)||void 0===N?void 0:N.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var y;const T=yield g.assertedPersistence.getCurrentUser();let N=T,re=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Ae=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,qe=N?._redirectEventId,dt=yield g.tryRedirectSignIn(f);(!Ae||Ae===qe)&&dt?.user&&(N=dt.user,re=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(re)try{yield g.beforeStateQueue.runMiddleware(N)}catch(Ae){N=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Ae))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return O(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield Zn(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function pe(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const y=f?(0,j.m9)(f):null;return y&&O(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return f&&O(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(de(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,u.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(g);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&de(f)||g._popupRedirectResolver;O(y,g,"argument-error"),g.redirectPersistenceManager=yield $.create(g,[de(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var y,T;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,T){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),re=this._isInitialized?Promise.resolve():this._initializationPromise;return O(re,this,"internal-error"),re.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,y,T):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Bo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function qn(_){return(0,j.m9)(_)}class Xs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ga(_,f,g){const y=qn(_);O(y._canInitEmulator,y,"emulator-config-failed"),O(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const T=!!g?.disableWarnings,N=za(f),{host:re,port:Ae}=function sn(_){const f=za(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const N=T[1];return{host:N,port:On(y.substr(N.length+1))}}{const[N,re]=y.split(":");return{host:N,port:On(re)}}}(f);y.config.emulator={url:`${N}//${re}${null===Ae?"":`:${Ae}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:re,port:Ae,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function er(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function za(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function On(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Rr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return F("not implemented")}_getIdTokenResponse(f){return F("not implemented")}_linkToIdToken(f,g){return F("not implemented")}_getReauthenticationResolver(f){return F("not implemented")}}function vr(_,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:resetPassword",Ge(_,f))})).apply(this,arguments)}function Za(_,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:update",Ge(_,f))})).apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithPassword",Ge(_,f))})).apply(this,arguments)}function Cr(_,f){return _i.apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:sendOobCode",Ge(_,f))})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(_,f){return Cr(_,f)})).apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(_,f){return Cr(_,f)})).apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(_,f){return Cr(_,f)})).apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(_,f){return Cr(_,f)})).apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithEmailLink",Ge(_,f))})).apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithEmailLink",Ge(_,f))})).apply(this,arguments)}class vi extends Rr{constructor(f,g,y,T=null){super("password",y),this._email=f,this._password=g,this._tenantId=T}static _fromEmailAndPassword(f,g){return new vi(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new vi(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function Lt(_,f){return pn.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function eo(_,f){return ns.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Oe(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return Za(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function lr(_,f){return Hi.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:Oe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Kn(_,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithIdp",Ge(_,f))})).apply(this,arguments)}class St extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new St(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T}=g,N=(0,oe._T)(g,["providerId","signInMethod"]);if(!y||!T)return null;const re=new St(y,T);return re.idToken=N.idToken||void 0,re.accessToken=N.accessToken||void 0,re.secret=N.secret,re.nonce=N.nonce,re.pendingToken=N.pendingToken||null,re}_getIdTokenResponse(f){return Kn(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,Kn(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Kn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,j.xO)(g)}return f}}function to(){return(to=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:sendVerificationCode",Ge(_,f))})).apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,f))})).apply(this,arguments)}function ji(){return(ji=(0,u.Z)(function*(_,f){const g=yield lt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,f));if(g.temporaryProof)throw qt(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ur={USER_NOT_FOUND:"user-not-found"};function cr(){return(cr=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ur)})).apply(this,arguments)}class Yn extends Rr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Yn({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Yn({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function fu(_,f){return Ci.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function oi(_,f){return ji.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function kh(_,f){return cr.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:T}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:N}=f;return y||g||T||N?new Yn({verificationId:g,verificationCode:y,phoneNumber:T,temporaryProof:N}):null}}class ai{constructor(f){var g,y,T,N,re,Ae;const qe=(0,j.zd)((0,j.pd)(f)),dt=null!==(g=qe.apiKey)&&void 0!==g?g:null,Vt=null!==(y=qe.oobCode)&&void 0!==y?y:null,Dn=function Ka(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=qe.mode)&&void 0!==T?T:null);O(dt&&Vt&&Dn,"argument-error"),this.apiKey=dt,this.operation=Dn,this.code=Vt,this.continueUrl=null!==(N=qe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(re=qe.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Ae=qe.tenantId)&&void 0!==Ae?Ae:null}static parseLink(f){const g=function $o(_){const f=(0,j.zd)((0,j.pd)(_)).link,g=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,y=(0,j.zd)((0,j.pd)(_)).deep_link_id;return(y?(0,j.zd)((0,j.pd)(y)).link:null)||y||g||f||_}(f);try{return new ai(g)}catch{return null}}}let no=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return vi._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const T=ai.parseLink(y);return O(T,"argument-error"),vi._fromEmailAndCode(g,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class $i{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ts extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ss extends Ts{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return O("providerId"in g&&"signInMethod"in g,"argument-error"),St._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return O(f.idToken||f.accessToken,"argument-error"),St._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ss.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ss.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:N,nonce:re,providerId:Ae}=f;if(!y&&!T&&!g&&!N||!Ae)return null;try{return new Ss(Ae)._credential({idToken:g,accessToken:y,nonce:re,pendingToken:N})}catch{return null}}}let Fh=(()=>{class _ extends Ts{constructor(){super("facebook.com")}static credential(g){return St._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),pu=(()=>{class _ extends Ts{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return St._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:T}=g;if(!y&&!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Fc=(()=>{class _ extends Ts{constructor(){super("github.com")}static credential(g){return St._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Wi extends Rr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Kn(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,Kn(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Kn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:T,pendingToken:N}=g;return y&&T&&N&&y===T?new Wi(y,N):null}static _create(f,g){return new Wi(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends $i{constructor(f){O(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Wi.fromJSON(f);return O(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return Wi._create(y,g)}catch{return null}}}let rs=(()=>{class _ extends Ts{constructor(){super("twitter.com")}static credential(g,y){return St._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=g;if(!y||!T)return null;try{return _.credential(y,T)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Uh(_,f){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signUp",Ge(_,f))})).apply(this,arguments)}class Vr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,T=!1){return(0,u.Z)(function*(){const N=yield Ct._fromIdTokenResponse(f,y,T),re=gu(y);return new Vr({user:N,providerId:re,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const T=gu(y);return new Vr({user:f,providerId:T,_tokenResponse:y,operationType:g})})()}}function gu(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function mu(_){return As.apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(_){var f;const g=qn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Vr({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield Uh(g,{returnSecureToken:!0}),T=yield Vr._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class _u extends j.ZR{constructor(f,g,y,T){var N;super(g.code,g.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,_u.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,T){return new _u(f,g,y,T)}}function Uc(_,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?_u._fromErrorAndOperation(_,N,f,y):N})}function Vh(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Br(_,f){return Wo.apply(this,arguments)}function Wo(){return Wo=(0,u.Z)(function*(_,f){const g=(0,j.m9)(_);yield ss(!0,g,f);const{providerUserInfo:y}=yield function Wt(_,f){return an.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),T=Vh(y||[]);return g.providerData=g.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Wo.apply(this,arguments)}function is(_,f){return io.apply(this,arguments)}function io(){return(io=(0,u.Z)(function*(_,f,g=!1){const y=yield rn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Vr._forOperation(_,"link",y)})).apply(this,arguments)}function ss(_,f,g){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(_,f,g){yield Zn(f);const T=!1===_?"provider-already-linked":"no-such-provider";O(Vh(f.providerData).has(g)===_,f.auth,T)})).apply(this,arguments)}function Go(_,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(_,f,g=!1){const{auth:y}=_,T="reauthenticate";try{const N=yield rn(_,Uc(y,T,f,_),g);O(N.idToken,y,"internal-error");const re=rt(N.idToken);O(re,y,"internal-error");const{sub:Ae}=re;return O(_.uid===Ae,y,"user-mismatch"),Vr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===N?.code&&Oe(y,"user-mismatch"),N}})).apply(this,arguments)}function Ya(_,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(_,f,g=!1){const y="signIn",T=yield Uc(_,y,f),N=yield Vr._fromIdTokenResponse(_,y,T);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Qa(_,f){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(_,f){return Ya(qn(_),f)})).apply(this,arguments)}function Ja(_,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(_,f){const g=(0,j.m9)(_);return yield ss(!1,g,f.providerId),is(g,f)})).apply(this,arguments)}function An(_,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(_,f){return Go((0,j.m9)(_),f)})).apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(_,f){return lt(_,"POST","/v1/accounts:signInWithCustomToken",Ge(_,f))})).apply(this,arguments)}function Xa(_,f){return ao.apply(this,arguments)}function ao(){return ao=(0,u.Z)(function*(_,f){const g=qn(_),y=yield function Gi(_,f){return Qn.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),T=yield Vr._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(T.user),T}),ao.apply(this,arguments)}class Hr{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?nr._fromServerResponse(f,g):"totpInfo"in g?el._fromServerResponse(f,g):Oe(f,"internal-error")}}class nr extends Hr{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new nr(g)}}class el extends Hr{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new el(g)}}function os(_,f,g){var y;O((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),O(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(O(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(O(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function yu(_,f,g){return zr.apply(this,arguments)}function zr(){return zr=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_),T={requestType:"PASSWORD_RESET",email:f};g&&os(y,T,g),yield function Sn(_,f){return Ur.apply(this,arguments)}(y,T)}),zr.apply(this,arguments)}function Zo(_,f,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(_,f,g){yield vr((0,j.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function bt(_,f){return qo.apply(this,arguments)}function qo(){return qo=(0,u.Z)(function*(_,f){yield function si(_,f){return Xe.apply(this,arguments)}((0,j.m9)(_),{oobCode:f})}),qo.apply(this,arguments)}function tl(_,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(_,f){const g=(0,j.m9)(_),y=yield vr(g,{oobCode:f}),T=y.requestType;switch(O(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":O(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":O(y.mfaInfo,g,"internal-error");default:O(y.email,g,"internal-error")}let N=null;return y.mfaInfo&&(N=Hr._fromServerResponse(qn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function rl(_,f){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(_,f){const{data:g}=yield tl((0,j.m9)(_),f);return g.email})).apply(this,arguments)}function vu(_,f,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(_,f,g){const y=qn(_),T=yield Uh(y,{returnSecureToken:!0,email:f,password:g}),N=yield Vr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(N.user),N})).apply(this,arguments)}function Mn(_,f,g){return Qa((0,j.m9)(_),no.credential(f,g))}function xe(_,f,g){return en.apply(this,arguments)}function en(){return en=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};O(g.handleCodeInApp,y,"argument-error"),g&&os(y,T,g),yield function qa(_,f){return xt.apply(this,arguments)}(y,T)}),en.apply(this,arguments)}function Cu(_,f){return"EMAIL_SIGNIN"===ai.parseLink(f)?.operation}function Vc(_,f,g){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_),T=no.credentialWithLink(f,g||ne());return O(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Qa(y,T)})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:createAuthUri",Ge(_,f))})).apply(this,arguments)}function Zr(_,f){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,u.Z)(function*(_,f){const y={identifier:f,continueUri:ae()?ne():"http://localhost"},{signinMethods:T}=yield function Bc(_,f){return zi.apply(this,arguments)}((0,j.m9)(_),y);return T||[]}),Ko.apply(this,arguments)}function Yo(_,f){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,u.Z)(function*(_,f){const g=(0,j.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&os(g.auth,T,f);const{email:N}=yield function Tn(_,f){return yi.apply(this,arguments)}(g.auth,T);N!==_.email&&(yield _.reload())}),Qo.apply(this,arguments)}function Eu(_,f,g){return uo.apply(this,arguments)}function uo(){return uo=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&os(y.auth,N,g);const{email:re}=yield function jo(_,f){return Bi.apply(this,arguments)}(y.auth,N);re!==_.email&&(yield _.reload())}),uo.apply(this,arguments)}function dr(){return(dr=(0,u.Z)(function*(_,f){return Ve(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ol(_,f){return as.apply(this,arguments)}function as(){return as=(0,u.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,j.m9)(_),N={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},re=yield rn(y,function Bn(_,f){return dr.apply(this,arguments)}(y.auth,N));y.displayName=re.displayName||null,y.photoURL=re.photoUrl||null;const Ae=y.providerData.find(({providerId:qe})=>"password"===qe);Ae&&(Ae.displayName=y.displayName,Ae.photoURL=y.photoURL),yield y._updateTokensIfNecessary(re)}),as.apply(this,arguments)}function ci(_,f){return al((0,j.m9)(_),f,null)}function Jo(_,f){return al((0,j.m9)(_),null,f)}function al(_,f,g){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(_,f,g){const{auth:y}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const re=yield rn(_,Za(y,N));yield _._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Ii{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class ul extends Ii{constructor(f,g,y,T){super(f,g,y),this.username=T}}class Iu extends Ii{constructor(f,g){super(f,"facebook.com",g)}}class Xo extends ul{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Bh extends Ii{constructor(f,g){super(f,"google.com",g)}}class cl extends ul{constructor(f,g,y){super(f,"twitter.com",g,y)}}function wu(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Hc(_){var f,g;if(!_)return null;const{providerId:y}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const re=null===(g=null===(f=rt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(re)return new Ii(N,"anonymous"!==re&&"custom"!==re?re:null)}if(!y)return null;switch(y){case"facebook.com":return new Iu(N,T);case"github.com":return new Xo(N,T);case"google.com":return new Bh(N,T);case"twitter.com":return new cl(N,T,_.screenName||null);case"custom":case"anonymous":return new Ii(N,null);default:return new Ii(N,y,T)}}(g)}class fn{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new fn("enroll",f,g)}static _fromMfaPendingCredential(f){return new fn("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return fn._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return fn._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ea{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=qn(f),T=g.customData._serverResponse,N=(T.mfaInfo||[]).map(Ae=>Hr._fromServerResponse(y,Ae));O(T.mfaPendingCredential,y,"internal-error");const re=fn._fromMfaPendingCredential(T.mfaPendingCredential);return new ea(re,N,function(){var Ae=(0,u.Z)(function*(qe){const dt=yield qe._process(y,re);delete T.mfaInfo,delete T.mfaPendingCredential;const Vt=Object.assign(Object.assign({},T),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(g.operationType){case"signIn":const Dn=yield Vr._fromIdTokenResponse(y,g.operationType,Vt);return yield y._updateCurrentUser(Dn.user),Dn;case"reauthenticate":return O(g.user,y,"internal-error"),Vr._forOperation(g.user,g.operationType,Vt);default:Oe(y,"internal-error")}});return function(qe){return Ae.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function Jn(_,f){var g;const y=(0,j.m9)(_),T=f;return O(f.customData.operationType,y,"argument-error"),O(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),ea._fromError(y,T)}class co{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>Hr._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new co(f)}getSession(){var f=this;return(0,u.Z)(function*(){return fn._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,u.Z)(function*(){const T=f,N=yield y.getSession(),re=yield rn(y.user,T._process(y.user.auth,N,g));return yield y.user._updateTokensIfNecessary(re),y.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const y="string"==typeof f?f:f.uid,T=yield g.user.getIdToken();try{const N=yield rn(g.user,function hl(_,f){return Ve(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(_,f))}(g.user.auth,{idToken:T,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:re})=>re!==y),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Rs=new WeakMap;function ho(_){const f=(0,j.m9)(_);return Rs.has(f)||Rs.set(f,co._fromUser(f)),Rs.get(f)}const qr="__sak";class Du{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(qr,"1"),this.storage.removeItem(qr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ta=(()=>{class _ extends Du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Kr(){const _=(0,j.z$)();return R(_)||Gt(_)}()&&function $a(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=yr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),N=this.localCache[y];T!==N&&g(y,N,T)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((Ae,qe,dt)=>{this.notifyListeners(Ae,dt)});const T=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(T);if(g.newValue!==Ae)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!y)return}const N=()=>{const Ae=this.storage.getItem(T);!y&&this.localCache[T]===Ae||this.notifyListeners(T,Ae)},re=this.storage.getItem(T);!function Ft(){return(0,j.w1)()&&10===document.documentMode}()||re===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var T=()=>super._set,N=this;return(0,u.Z)(function*(){yield T().call(N,g,y),N.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,T=this;return(0,u.Z)(function*(){const N=yield y().call(T,g);return T.localCache[g]=JSON.stringify(N),N})()}_remove(g){var y=()=>super._remove,T=this;return(0,u.Z)(function*(){yield y().call(T,g),delete T.localCache[g]})()}}return _.type="LOCAL",_})(),fl=(()=>{class _ extends Du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let pl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(N=>N.isListeningto(g));if(y)return y;const T=new _(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,u.Z)(function*(){const T=g,{eventId:N,eventType:re,data:Ae}=T.data,qe=y.handlersMap[re];if(!qe?.size)return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:re});const dt=Array.from(qe).map(function(){var Dn=(0,u.Z)(function*(pi){return pi(T.origin,Ae)});return function(pi){return Dn.apply(this,arguments)}}()),Vt=yield function po(_){return Promise.all(_.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(dt);T.ports[0].postMessage({status:"done",eventId:N,eventType:re,response:Vt})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function go(_="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return _+g}class Ps{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var T=this;return(0,u.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let re,Ae;return new Promise((qe,dt)=>{const Vt=go("",20);N.port1.start();const Dn=setTimeout(()=>{dt(new Error("unsupported_event"))},y);Ae={messageChannel:N,onMessage(pi){const Hs=pi;if(Hs.data.eventId===Vt)switch(Hs.data.status){case"ack":clearTimeout(Dn),re=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),qe(Hs.data.response);break;default:clearTimeout(Dn),clearTimeout(re),dt(new Error("invalid_response"))}}},T.handlers.add(Ae),N.port1.addEventListener("message",Ae.onMessage),T.target.postMessage({eventType:f,eventId:Vt,data:g},[N.port2])}).finally(()=>{Ae&&T.removeMessageHandler(Ae)})})()}}function Cn(){return window}function di(){return typeof Cn().WorkerGlobalScope<"u"&&"function"==typeof Cn().importScripts}function _o(){return(_o=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ls="firebaseLocalStorageDb",ra=1,wi="firebaseLocalStorage",Gc="fbase_key";class bi{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Os(_,f){return _.transaction([wi],f?"readwrite":"readonly").objectStore(wi)}function Ir(){const _=indexedDB.open(ls,ra);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(wi,{keyPath:Gc})}catch(T){g(T)}}),_.addEventListener("success",(0,u.Z)(function*(){const y=_.result;y.objectStoreNames.contains(wi)?f(y):(y.close(),yield function yo(){const _=indexedDB.deleteDatabase(ls);return new bi(_).toPromise()}(),f(yield Ir()))}))})}function ia(_,f,g){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(_,f,g){const y=Os(_,!0).put({[Gc]:f,value:g});return new bi(y).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(_,f){const g=Os(_,!1).get(f),y=yield new bi(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function cs(_,f){const g=Os(_,!0).delete(f);return new bi(g).toPromise()}const gl=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Ir()),g.db})()}_withRetries(g){var y=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const N=yield y._openDb();return yield g(N)}catch(N){if(T++>3)throw N;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return di()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=pl._getInstance(function Wc(){return di()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(T,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(T,N){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var y,T;if(g.activeServiceWorker=yield function mo(){return _o.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ps(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(y=N[0])&&void 0!==y&&y.fulfilled&&null!==(T=N[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function na(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ir();return yield ia(g,qr,"1"),yield cs(g,qr),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(N=>ia(N,g,y)),T.localCache[g]=y,T.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,u.Z)(function*(){const T=yield y._withRetries(N=>function Ns(_,f){return ks.apply(this,arguments)}(N,g));return y.localCache[g]=T,T})()}_remove(g){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(T=>cs(T,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const y=yield g._withRetries(re=>{const Ae=Os(re,!1).getAll();return new bi(Ae).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:re,value:Ae}of y)N.add(re),JSON.stringify(g.localCache[re])!==JSON.stringify(Ae)&&(g.notifyListeners(re,Ae),T.push(re));for(const re of Object.keys(g.localCache))g.localCache[re]&&!N.has(re)&&(g.notifyListeners(re,null),T.push(re));return T})()}notifyListeners(g,y){this.localCache[g]=y;const T=this.listeners[g];if(T)for(const N of Array.from(T))N(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Di(){return(Di=(0,u.Z)(function*(_){return(yield Ve(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ml(_){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=T=>{const N=Se("internal-error");N.customData=T,g(N)},y.type="text/javascript",y.charset="UTF-8",function Co(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function la(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Eo=1e12;class yl{constructor(f){this.auth=f,this.counter=Eo,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new Au(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||Eo;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Eo))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var y;return null===(y=g._widgets.get(f||Eo))||void 0===y||y.execute(),""})()}}class Au{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;O(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mu(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Fs=la("rcb"),Ls=new Ne(3e4,6e4);class Io{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Cn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return O(function Wh(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Cn().grecaptcha):new Promise((y,T)=>{const N=Cn().setTimeout(()=>{T(Se(f,"network-request-failed"))},Ls.get());Cn()[Fs]=()=>{Cn().clearTimeout(N),delete Cn()[Fs];const Ae=Cn().grecaptcha;if(!Ae)return void T(Se(f,"internal-error"));const qe=Ae.render;Ae.render=(dt,Vt)=>{const Dn=qe(dt,Vt);return this.counter++,Dn},this.hostLanguage=g,y(Ae)},ml(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Fs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),T(Se(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Cn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ru{load(f){return(0,u.Z)(function*(){return new yl(f)})()}clearedOneInstance(){}}const hs="recaptcha",Gh={theme:"light",type:"image"};class qi{constructor(f,g=Object.assign({},Gh),y){this.parameters=g,this.type=hs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(y),this.isInvisible="invisible"===this.parameters.size,O(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;O(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ru:new Io,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(N=>{const re=Ae=>{Ae&&(f.tokenChangeListeners.delete(re),N(Ae))};f.tokenChangeListeners.add(re),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){O(!this.parameters.sitekey,this.auth,"argument-error"),O(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),O(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=Cn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){O(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){O(ae()&&!di(),f.auth,"internal-error"),yield function vn(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function aa(_){return Di.apply(this,arguments)}(f.auth);O(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return O(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vl{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Yn._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Cl(_,f,g){return El.apply(this,arguments)}function El(){return(El=(0,u.Z)(function*(_,f,g){const y=qn(_),T=yield fs(y,f,(0,j.m9)(g));return new vl(T,N=>Qa(y,N))})).apply(this,arguments)}function Fp(_,f,g){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_);yield ss(!1,y,"phone");const T=yield fs(y.auth,f,(0,j.m9)(g));return new vl(T,N=>Ja(y,N))})).apply(this,arguments)}function Lp(_,f,g){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_),T=yield fs(y.auth,f,(0,j.m9)(g));return new vl(T,N=>An(y,N))})).apply(this,arguments)}function fs(_,f,g){return zh.apply(this,arguments)}function zh(){return zh=(0,u.Z)(function*(_,f,g){var y;const T=yield g.verify();try{let N;if(O("string"==typeof T,_,"argument-error"),O(g.type===hs,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const re=N.session;if("phoneNumber"in N)return O("enroll"===re.type,_,"internal-error"),(yield function $h(_,f){return Ve(_,"POST","/v2/accounts/mfaEnrollment:start",Ge(_,f))}(_,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{O("signin"===re.type,_,"internal-error");const Ae=(null===(y=N.multiFactorHint)||void 0===y?void 0:y.uid)||N.multiFactorUid;return O(Ae,_,"missing-multi-factor-info"),(yield function oa(_,f){return Ve(_,"POST","/v2/accounts/mfaSignIn:start",Ge(_,f))}(_,{mfaPendingCredential:re.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield function Nh(_,f){return to.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return re}}finally{g._reset()}}),zh.apply(this,arguments)}function Up(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(_,f){yield is((0,j.m9)(_),f)})).apply(this,arguments)}let xu=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=qn(g)}verifyPhoneNumber(g,y){return fs(this.auth,g,(0,j.m9)(y))}static credential(g,y){return Yn._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:T}=g;return y&&T?Yn._fromTokenResponse(y,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Qr(_,f){return f?de(f):(O(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ou extends Rr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Kn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Kn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Kn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function xr(_){return Ya(_.auth,new Ou(_),_.bypassAuthState)}function Ki(_){const{auth:f,user:g}=_;return O(g,f,"internal-error"),Go(g,new Ou(_),_.bypassAuthState)}function Il(_){return ps.apply(this,arguments)}function ps(){return(ps=(0,u.Z)(function*(_){const{auth:f,user:g}=_;return O(g,f,"internal-error"),is(g,new Ou(_),_.bypassAuthState)})).apply(this,arguments)}class gs{constructor(f,g,y,T,N=!1){this.auth=f,this.resolver=y,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(y,T){f.pendingPromise={resolve:y,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(y,T){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:N,tenantId:re,error:Ae,type:qe}=f;if(Ae)return void g.reject(Ae);const dt={auth:g.auth,requestUri:y,sessionId:T,tenantId:re||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(qe)(dt))}catch(Vt){g.reject(Vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return xr;case"linkViaPopup":case"linkViaRedirect":return Il;case"reauthViaPopup":case"reauthViaRedirect":return Ki;default:Oe(this.auth,"internal-error")}}resolve(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nu=new Ne(2e3,1e4);function qc(_,f,g){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(_,f,g){const y=qn(_);ve(_,f,$i);const T=Qr(y,g);return new br(y,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function x_(_,f,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_);ve(y.auth,f,$i);const T=Qr(y.auth,g);return new br(y.auth,"reauthViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}function Ti(_,f,g){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_);ve(y.auth,f,$i);const T=Qr(y.auth,g);return new br(y.auth,"linkViaPopup",f,T,y).executeNotNull()})).apply(this,arguments)}let br=(()=>{class _ extends gs{constructor(g,y,T,N,re){super(g,y,N,re),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const y=yield g.execute();return O(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,u.Z)(function*(){q(1===g.filter.length,"Popup operations only handle one event");const y=go();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Se(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,T;this.pollId=null!==(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Nu.get())};g()}}return _.currentPopupAction=null,_})();const Dr="pendingRedirect",wo=new Map;class ua extends gs{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let y=wo.get(g.auth._key());if(!y){try{const N=(yield function hr(_,f){return wl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(N)}catch(T){y=()=>Promise.reject(T)}wo.set(g.auth._key(),y)}return g.bypassAuthState||wo.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const T=yield y.auth._redirectUserForId(f.eventId);if(T)return y.user=T,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function wl(){return(wl=(0,u.Z)(function*(_,f){const g=Jr(f),y=ca(_);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(g));return yield y._remove(g),T})).apply(this,arguments)}function Si(_,f){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,u.Z)(function*(_,f){return ca(_)._set(Jr(f),"true")})).apply(this,arguments)}function Lu(){wo.clear()}function ms(_,f){wo.set(_._key(),f)}function ca(_){return de(_._redirectPersistence)}function Jr(_){return Z(Dr,_.config.apiKey,_.name)}function Dt(_,f,g){return function I(_,f,g){return w.apply(this,arguments)}(_,f,g)}function w(){return(w=(0,u.Z)(function*(_,f,g){const y=qn(_);ve(_,f,$i),yield y._initializationPromise;const T=Qr(y,g);return yield Si(T,y),T._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function S(_,f,g){return function H(_,f,g){return K.apply(this,arguments)}(_,f,g)}function K(){return(K=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_);ve(y.auth,f,$i),yield y.auth._initializationPromise;const T=Qr(y.auth,g);yield Si(T,y.auth);const N=yield Wn(y);return T._openRedirect(y.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function le(_,f,g){return function ke(_,f,g){return nt.apply(this,arguments)}(_,f,g)}function nt(){return(nt=(0,u.Z)(function*(_,f,g){const y=(0,j.m9)(_);ve(y.auth,f,$i),yield y.auth._initializationPromise;const T=Qr(y.auth,g);yield ss(!1,y,f.providerId),yield Si(T,y.auth);const N=yield Wn(y);return T._openRedirect(y.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function st(_,f){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(_,f){return yield qn(_)._initializationPromise,zt(_,f,!1)})).apply(this,arguments)}function zt(_,f){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(_,f,g=!1){const y=qn(_),T=Qr(y,f),re=yield new ua(y,T,g).execute();return re&&!g&&(delete re.user._redirectEventId,yield y._persistUserIfCurrent(re.user),yield y._setRedirectUser(null,f)),re})).apply(this,arguments)}function Wn(_){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(_){const f=go(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Us{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Or(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hn(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!Hn(f)){const T=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(Se(this.auth,T))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hi(f))}saveEventToCache(f){this.cachedEventUids.add(hi(f)),this.lastProcessedEventTime=Date.now()}}function hi(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Hn({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function jn(_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(_,f={}){return Ve(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Kc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rr=/^https?/;function Zh(){return(Zh=(0,u.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield jn(_);for(const g of f)try{if(_s(g))return}catch{}Oe(_,"unauthorized-domain")})).apply(this,arguments)}function _s(_){const f=ne(),{protocol:g,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const re=new URL(_);return""===re.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&re.hostname===y}if(!rr.test(g))return!1;if(Kc.test(_))return y===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const Nr=new Ne(3e4,6e4);function bo(){const _=Cn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Yc=null;const ha=new Ne(5e3,15e3),kr="__/auth/iframe",Do="emulator/auth/iframe",O_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jc(_){const f=_.config;O(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?He(f,Do):`https://${_.config.authDomain}/${kr}`,y={apiKey:f.apiKey,appName:_.name,v:P.SDK_VERSION},T=Qc.get(_.config.apiHost);T&&(y.eid=T);const N=_._getFrameworks();return N.length&&(y.fw=N.join(",")),`${g}?${(0,j.xO)(y).slice(1)}`}function Tl(){return Tl=(0,u.Z)(function*(_){const f=yield function Ai(_){return Yc=Yc||function Vp(_){return new Promise((f,g)=>{var y,T,N;function re(){bo(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{bo(),g(Se(_,"network-request-failed"))},timeout:Nr.get()})}if(null!==(T=null===(y=Cn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(N=Cn().gapi)||void 0===N||!N.load){const Ae=la("iframefcb");return Cn()[Ae]=()=>{gapi.load?re():g(Se(_,"network-request-failed"))},ml(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(qe=>g(qe))}re()}}).catch(f=>{throw Yc=null,f})}(_),Yc}(_),g=Cn().gapi;return O(g,_,"internal-error"),f.open({where:document.body,url:Jc(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O_,dontclear:!0},y=>new Promise(function(){var T=(0,u.Z)(function*(N,re){yield y.restyle({setHideOnLeave:!1});const Ae=Se(_,"network-request-failed"),qe=Cn().setTimeout(()=>{re(Ae)},ha.get());function dt(){Cn().clearTimeout(qe),N(y)}y.ping(dt).then(dt,()=>{re(Ae)})});return function(N,re){return T.apply(this,arguments)}}()))}),Tl.apply(this,arguments)}const qh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uu=500,Ot=600,jr="_blank",Bp="http://localhost";class To{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fi="__/auth/handler",Yh="emulator/auth/handler";function Vu(_,f,g,y,T,N){O(_.config.authDomain,_,"auth-domain-config-required"),O(_.config.apiKey,_,"invalid-api-key");const re={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:P.SDK_VERSION,eventId:T};if(f instanceof $i){f.setDefaultLanguage(_.languageCode),re.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(re.customParameters=JSON.stringify(f.getCustomParameters()));for(const[qe,dt]of Object.entries(N||{}))re[qe]=dt}if(f instanceof Ts){const qe=f.getScopes().filter(dt=>""!==dt);qe.length>0&&(re.scopes=qe.join(","))}_.tenantId&&(re.tid=_.tenantId);const Ae=re;for(const qe of Object.keys(Ae))void 0===Ae[qe]&&delete Ae[qe];return`${function Qh({config:_}){return _.emulator?He(_,Yh):`https://${_.authDomain}/${fi}`}(_)}?${(0,j.xO)(Ae).slice(1)}`}const ed="webStorageSupport",ys=class fr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fl,this._completeRedirectFn=zt,this._overrideRedirectResult=ms}_openPopup(f,g,y,T){var N=this;return(0,u.Z)(function*(){var re;q(null===(re=N.eventManagers[f._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Ae=Vu(f,g,y,ne(),T);return function Hp(_,f,g,y=Uu,T=Ot){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),re=Math.max((window.screen.availWidth-y)/2,0).toString();let Ae="";const qe=Object.assign(Object.assign({},qh),{width:y.toString(),height:T.toString(),top:N,left:re}),dt=(0,j.z$)().toLowerCase();g&&(Ae=X(dt)?jr:g),k(dt)&&(f=f||Bp,qe.scrollbars="yes");const Vt=Object.entries(qe).reduce((pi,[Hs,Ao])=>`${pi}${Hs}=${Ao},`,"");if(function yn(_=(0,j.z$)()){var f;return Gt(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(dt)&&"_self"!==Ae)return function Kh(_,f){const g=document.createElement("a");g.href=_,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",Ae),new To(null);const Dn=window.open(f||"",Ae,Vt);O(Dn,_,"popup-blocked");try{Dn.focus()}catch{}return new To(Dn)}(f,Ae,go())})()}_openRedirect(f,g,y,T){var N=this;return(0,u.Z)(function*(){return yield N._originValidation(f),function xs(_){Cn().location.href=_}(Vu(f,g,y,ne(),T)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:T,promise:N}=this.eventManagers[g];return T?Promise.resolve(T):(q(N,"If manager is not set, promise should be"),N)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const y=yield function Xc(_){return Tl.apply(this,arguments)}(f),T=new Us(f);return y.register("authEvent",N=>(O(N?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:T},g.iframes[f._key()]=y,T})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ed,{type:ed},T=>{var N;const re=null===(N=T?.[0])||void 0===N?void 0:N[ed];void 0!==re&&g(!!re),Oe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function da(_){return Zh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return yr()||R()||Gt()}};class pr{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return F("unexpected MultiFactorSessionType")}}}class Sl extends pr{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Sl(f)}_finalizeEnroll(f,g,y){return function Pr(_,f){return Ve(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(_,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Su(_,f){return Ve(_,"POST","/v2/accounts/mfaSignIn:finalize",Ge(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let td=(()=>{class _{constructor(){}static assertion(g){return Sl._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var Bu="@firebase/auth";class Ml{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,j.Pz)("authIdTokenMaxAge"),function Kt(_){(0,P._registerComponent)(new ue.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),{apiKey:N,authDomain:re}=y.options;return((Ae,qe)=>{O(N&&!N.includes(":"),"invalid-api-key",{appName:Ae.name}),O(!re?.includes(":"),"argument-error",{appName:Ae.name});const dt={apiKey:N,authDomain:re,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bo(_)},Vt=new Ho(Ae,qe,dt);return function Pe(_,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(de);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(Vt,g),Vt})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ue.wA("auth-internal",f=>{const g=qn(f.getProvider("auth").getImmediate());return new Ml(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Bu,"0.22.0",function Vs(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,P.registerVersion)(Bu,"0.22.0","esm2017")}("Browser")},2090:(ut,De,L)=>{"use strict";L.d(De,{$s:()=>pt,BH:()=>ve,DV:()=>Xt,Dv:()=>dn,GJ:()=>jt,L:()=>te,LL:()=>Qe,Pz:()=>Re,Sg:()=>Te,UG:()=>q,UI:()=>Wt,US:()=>ue,Wj:()=>Zn,Wl:()=>Ut,Yr:()=>ee,ZB:()=>Q,ZR:()=>ht,aH:()=>Se,b$:()=>Ue,cI:()=>gt,dS:()=>ar,eu:()=>Ne,g5:()=>P,gK:()=>mn,gQ:()=>bn,h$:()=>he,hl:()=>pe,hu:()=>j,jU:()=>fe,lb:()=>ft,m9:()=>xn,ne:()=>Ke,p$:()=>W,pd:()=>kt,r3:()=>qt,ru:()=>de,tV:()=>G,uI:()=>F,ug:()=>Tt,vZ:()=>an,w1:()=>ne,w9:()=>Jt,xO:()=>cn,xb:()=>$t,z$:()=>O,zI:()=>He,zd:()=>Mt});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(Z,$){if(!Z)throw P($)},P=function(Z){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Z)},J=function(Z){const $=[];let x=0;for(let k=0;k<Z.length;k++){let R=Z.charCodeAt(k);R<128?$[x++]=R:R<2048?($[x++]=R>>6|192,$[x++]=63&R|128):55296==(64512&R)&&k+1<Z.length&&56320==(64512&Z.charCodeAt(k+1))?(R=65536+((1023&R)<<10)+(1023&Z.charCodeAt(++k)),$[x++]=R>>18|240,$[x++]=R>>12&63|128,$[x++]=R>>6&63|128,$[x++]=63&R|128):($[x++]=R>>12|224,$[x++]=R>>6&63|128,$[x++]=63&R|128)}return $},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,$){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const x=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let R=0;R<Z.length;R+=3){const X=Z[R],ce=R+1<Z.length,tt=ce?Z[R+1]:0,_t=R+2<Z.length,Et=_t?Z[R+2]:0;let yn=(15&tt)<<2|Et>>6,Ft=63&Et;_t||(Ft=64,ce||(yn=64)),k.push(x[X>>2],x[(3&X)<<4|tt>>4],x[yn],x[Ft])}return k.join("")},encodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(Z):this.encodeByteArray(J(Z),$)},decodeString(Z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(Z):function(Z){const $=[];let x=0,k=0;for(;x<Z.length;){const R=Z[x++];if(R<128)$[k++]=String.fromCharCode(R);else if(R>191&&R<224){const X=Z[x++];$[k++]=String.fromCharCode((31&R)<<6|63&X)}else if(R>239&&R<365){const _t=((7&R)<<18|(63&Z[x++])<<12|(63&Z[x++])<<6|63&Z[x++])-65536;$[k++]=String.fromCharCode(55296+(_t>>10)),$[k++]=String.fromCharCode(56320+(1023&_t))}else{const X=Z[x++],ce=Z[x++];$[k++]=String.fromCharCode((15&R)<<12|(63&X)<<6|63&ce)}}return $.join("")}(this.decodeStringToByteArray(Z,$))},decodeStringToByteArray(Z,$){this.init_();const x=$?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let R=0;R<Z.length;){const X=x[Z.charAt(R++)],tt=R<Z.length?x[Z.charAt(R)]:0;++R;const Et=R<Z.length?x[Z.charAt(R)]:64;++R;const yt=R<Z.length?x[Z.charAt(R)]:64;if(++R,null==X||null==tt||null==Et||null==yt)throw new _e;k.push(X<<2|tt>>4),64!==Et&&(k.push(tt<<4&240|Et>>2),64!==yt&&k.push(Et<<6&192|yt))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const he=function(Z){const $=J(Z);return ue.encodeByteArray($,!0)},te=function(Z){return he(Z).replace(/\./g,"")},G=function(Z){try{return ue.decodeString(Z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(Z){return Q(void 0,Z)}function Q(Z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return $}for(const x in $)!$.hasOwnProperty(x)||!Le(x)||(Z[x]=Q(Z[x],$[x]));return Z}function Le(Z){return"__proto__"!==Z}const Ee=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=Z&&G(Z[1]);return $&&JSON.parse($)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Se=()=>{var Z;return null===(Z=Ee())||void 0===Z?void 0:Z.config},Re=Z=>{var $;return null===($=Ee())||void 0===$?void 0:$[`_${Z}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,x)=>{this.resolve=$,this.reject=x})}wrapCallback($){return(x,k)=>{x?this.reject(x):this.resolve(k),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(x):$(x,k))}}}function Te(Z,$){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=$||"demo-project",R=Z.iat||0,X=Z.sub||Z.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ce=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:R,exp:R+3600,auth_time:R,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(ce)),""].join(".")}function O(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O())}function q(){var Z;const $=null===(Z=Ee())||void 0===Z?void 0:Z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function fe(){return"object"==typeof self&&self.self===self}function de(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ne(){const Z=O();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function ee(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function pe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((Z,$)=>{try{let x=!0;const k="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(k);R.onsuccess=()=>{R.result.close(),x||self.indexedDB.deleteDatabase(k),Z(!0)},R.onupgradeneeded=()=>{x=!1},R.onerror=()=>{var X;$((null===(X=R.error)||void 0===X?void 0:X.message)||"")}}catch(x){$(x)}})}function He(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ht extends Error{constructor($,x,k){super(x),this.code=$,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor($,x,k){this.service=$,this.serviceName=x,this.errors=k}create($,...x){const k=x[0]||{},R=`${this.service}/${$}`,X=this.errors[$],ce=X?function Ge(Z,$){return Z.replace(Ve,(x,k)=>{const R=$[k];return null!=R?String(R):`<${k}?>`})}(X,k):"Error";return new ht(R,`${this.serviceName}: ${ce} (${R}).`,k)}}const Ve=/\{\$([^}]+)}/g;function gt(Z){return JSON.parse(Z)}function Ut(Z){return JSON.stringify(Z)}const ze=function(Z){let $={},x={},k={},R="";try{const X=Z.split(".");$=gt(G(X[0])||""),x=gt(G(X[1])||""),R=X[2],k=x.d||{},delete x.d}catch{}return{header:$,claims:x,data:k,signature:R}},Jt=function(Z){const x=ze(Z).claims;return!!x&&"object"==typeof x&&x.hasOwnProperty("iat")},jt=function(Z){const $=ze(Z).claims;return"object"==typeof $&&!0===$.admin};function qt(Z,$){return Object.prototype.hasOwnProperty.call(Z,$)}function Xt(Z,$){if(Object.prototype.hasOwnProperty.call(Z,$))return Z[$]}function $t(Z){for(const $ in Z)if(Object.prototype.hasOwnProperty.call(Z,$))return!1;return!0}function Wt(Z,$,x){const k={};for(const R in Z)Object.prototype.hasOwnProperty.call(Z,R)&&(k[R]=$.call(x,Z[R],R,Z));return k}function an(Z,$){if(Z===$)return!0;const x=Object.keys(Z),k=Object.keys($);for(const R of x){if(!k.includes(R))return!1;const X=Z[R],ce=$[R];if(Ze(X)&&Ze(ce)){if(!an(X,ce))return!1}else if(X!==ce)return!1}for(const R of k)if(!x.includes(R))return!1;return!0}function Ze(Z){return null!==Z&&"object"==typeof Z}function cn(Z){const $=[];for(const[x,k]of Object.entries(Z))Array.isArray(k)?k.forEach(R=>{$.push(encodeURIComponent(x)+"="+encodeURIComponent(R))}):$.push(encodeURIComponent(x)+"="+encodeURIComponent(k));return $.length?"&"+$.join("&"):""}function Mt(Z){const $={};return Z.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[R,X]=k.split("=");$[decodeURIComponent(R)]=decodeURIComponent(X)}}),$}function kt(Z){const $=Z.indexOf("?");if(!$)return"";const x=Z.indexOf("#",$);return Z.substring($,x>0?x:void 0)}class bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,x){x||(x=0);const k=this.W_;if("string"==typeof $)for(let yt=0;yt<16;yt++)k[yt]=$.charCodeAt(x)<<24|$.charCodeAt(x+1)<<16|$.charCodeAt(x+2)<<8|$.charCodeAt(x+3),x+=4;else for(let yt=0;yt<16;yt++)k[yt]=$[x]<<24|$[x+1]<<16|$[x+2]<<8|$[x+3],x+=4;for(let yt=16;yt<80;yt++){const yn=k[yt-3]^k[yt-8]^k[yt-14]^k[yt-16];k[yt]=4294967295&(yn<<1|yn>>>31)}let Et,Gt,R=this.chain_[0],X=this.chain_[1],ce=this.chain_[2],tt=this.chain_[3],_t=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(Et=tt^X&(ce^tt),Gt=1518500249):(Et=X^ce^tt,Gt=1859775393):yt<60?(Et=X&ce|tt&(X|ce),Gt=2400959708):(Et=X^ce^tt,Gt=3395469782);const yn=(R<<5|R>>>27)+Et+_t+Gt+k[yt]&4294967295;_t=tt,tt=ce,ce=4294967295&(X<<30|X>>>2),X=R,R=yn}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+X&4294967295,this.chain_[2]=this.chain_[2]+ce&4294967295,this.chain_[3]=this.chain_[3]+tt&4294967295,this.chain_[4]=this.chain_[4]+_t&4294967295}update($,x){if(null==$)return;void 0===x&&(x=$.length);const k=x-this.blockSize;let R=0;const X=this.buf_;let ce=this.inbuf_;for(;R<x;){if(0===ce)for(;R<=k;)this.compress_($,R),R+=this.blockSize;if("string"==typeof $){for(;R<x;)if(X[ce]=$.charCodeAt(R),++ce,++R,ce===this.blockSize){this.compress_(X),ce=0;break}}else for(;R<x;)if(X[ce]=$[R],++ce,++R,ce===this.blockSize){this.compress_(X),ce=0;break}}this.inbuf_=ce,this.total_+=x}digest(){const $=[];let x=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&x,x/=256;this.compress_(this.buf_);let k=0;for(let R=0;R<5;R++)for(let X=24;X>=0;X-=8)$[k]=this.chain_[R]>>X&255,++k;return $}}function Ke(Z,$){const x=new rt(Z,$);return x.subscribe.bind(x)}class rt{constructor($,x){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=x,this.task.then(()=>{$(this)}).catch(k=>{this.error(k)})}next($){this.forEachObserver(x=>{x.next($)})}error($){this.forEachObserver(x=>{x.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,x,k){let R;if(void 0===$&&void 0===x&&void 0===k)throw new Error("Missing Observer.");R=function rn(Z,$){if("object"!=typeof Z||null===Z)return!1;for(const x of $)if(x in Z&&"function"==typeof Z[x])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:x,complete:k},void 0===R.next&&(R.next=ln),void 0===R.error&&(R.error=ln),void 0===R.complete&&(R.complete=ln);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch{}}),this.observers.push(R),X}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let x=0;x<this.observers.length;x++)this.sendOne(x,$)}sendOne($,x){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{x(this.observers[$])}catch(k){typeof console<"u"&&console.error&&console.error(k)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ln(){}const dn=function(Z,$,x,k){let R;if(k<$?R="at least "+$:k>x&&(R=0===x?"none":"no more than "+x),R)throw new Error(Z+" failed: Was called with "+k+(1===k?" argument.":" arguments.")+" Expects "+R+".")};function mn(Z,$){return`${Z} failed: ${$} argument `}function Zn(Z,$,x,k){if((!k||x)&&"function"!=typeof x)throw new Error(mn(Z,$)+"must be a valid function.")}function ft(Z,$,x,k){if((!k||x)&&("object"!=typeof x||null===x))throw new Error(mn(Z,$)+"must be a valid context object.")}const ar=function(Z){const $=[];let x=0;for(let k=0;k<Z.length;k++){let R=Z.charCodeAt(k);if(R>=55296&&R<=56319){const X=R-55296;k++,j(k<Z.length,"Surrogate pair missing trail surrogate."),R=65536+(X<<10)+(Z.charCodeAt(k)-56320)}R<128?$[x++]=R:R<2048?($[x++]=R>>6|192,$[x++]=63&R|128):R<65536?($[x++]=R>>12|224,$[x++]=R>>6&63|128,$[x++]=63&R|128):($[x++]=R>>18|240,$[x++]=R>>12&63|128,$[x++]=R>>6&63|128,$[x++]=63&R|128)}return $},Tt=function(Z){let $=0;for(let x=0;x<Z.length;x++){const k=Z.charCodeAt(x);k<128?$++:k<2048?$+=2:k>=55296&&k<=56319?($+=4,x++):$+=3}return $},Pn=1e3,Be=2,we=144e5,Je=.5;function pt(Z,$=Pn,x=Be){const k=$*Math.pow(x,Z),R=Math.round(Je*k*(Math.random()-.5)*2);return Math.min(we,k+R)}function xn(Z){return Z&&Z._delegate?Z._delegate:Z}},4145:(ut,De,L)=>{"use strict";var u=L(4650);let j=null;function P(){return j}class oe{}const ue=new u.OlP("DocumentToken");let _e=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function he(){return(0,u.LFG)(G)}()},providedIn:"platform"}),n})();const te=new u.OlP("Location Initialized");let G=(()=>{class n extends _e{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,a){W()?this._history.pushState(e,i,a):this._location.hash=a}replaceState(e,i,a){W()?this._history.replaceState(e,i,a):this._location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Q(){return new G((0,u.LFG)(ue))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function Le(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let et=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Ee)},providedIn:"root"}),n})();const me=new u.OlP("appBaseHref");let Ee=(()=>{class n extends et{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Le(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,d){const p=this.prepareExternalUrl(a+We(d));this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,d){const p=this.prepareExternalUrl(a+We(d));this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_e),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ie=(()=>{class n extends et{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Le(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,d){let p=this.prepareExternalUrl(a+We(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,i,p)}replaceState(e,i,a,d){let p=this.prepareExternalUrl(a+We(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(_e),u.LFG(me,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(e){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Te(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(be(ve(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+We(i))}normalize(e){return n.stripTrailingSlash(function Re(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}}return n.normalizeQueryParams=We,n.joinWithSlash=Le,n.stripTrailingSlash=be,n.\u0275fac=function(e){return new(e||n)(u.LFG(et))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(){return new Oe((0,u.LFG)(et))}()},providedIn:"root"}),n})();function ve(n){return n.replace(/\/index.html$/,"")}const O={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var F=(()=>((F=F||{})[F.Decimal=0]="Decimal",F[F.Percent=1]="Percent",F[F.Currency=2]="Currency",F[F.Scientific=3]="Scientific",F))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function Ve(n,t){const e=(0,u.cg1)(n),i=e[u.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===Pe.CurrencyDecimal)return e[u.wAp.NumberSymbols][Pe.Decimal];if(t===Pe.CurrencyGroup)return e[u.wAp.NumberSymbols][Pe.Group]}return i}function gt(n,t){return(0,u.cg1)(n)[u.wAp.NumberFormats][t]}const gn=2,tt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_t=22,Et=".",Gt="0",yt=";",yn=",",Ft="#",yr="\xa4";function Bo(n,t,e,i,a,d,p=!1){let C="",b=!1;if(isFinite(n)){let A=function za(n){let i,a,d,p,C,t=Math.abs(n)+"",e=0;for((a=t.indexOf(Et))>-1&&(t=t.replace(Et,"")),(d=t.search(/e/i))>0?(a<0&&(a=d),a+=+t.slice(d+1),t=t.substring(0,d)):a<0&&(a=t.length),d=0;t.charAt(d)===Gt;d++);if(d===(C=t.length))i=[0],a=1;else{for(C--;t.charAt(C)===Gt;)C--;for(a-=d,i=[],p=0;d<=C;d++,p++)i[p]=Number(t.charAt(d))}return a>_t&&(i=i.splice(0,_t-1),e=a-1,a=1),{digits:i,exponent:e,integerLen:a}}(n);p&&(A=function Ga(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(A));let B=t.minInt,z=t.minFrac,se=t.maxFrac;if(d){const Vn=d.match(tt);if(null===Vn)throw new Error(`${d} is not a valid digit info`);const ii=Vn[1],zn=Vn[3],Js=Vn[5];null!=ii&&(B=On(ii)),null!=zn&&(z=On(zn)),null!=Js?se=On(Js):null!=zn&&z>se&&(se=z)}!function sn(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,a=i.length-n.integerLen;const d=Math.min(Math.max(t,a),e);let p=d+n.integerLen,C=i[p];if(p>0){i.splice(Math.max(n.integerLen,p));for(let z=p;z<i.length;z++)i[z]=0}else{a=Math.max(0,a),n.integerLen=1,i.length=Math.max(1,p=d+1),i[0]=0;for(let z=1;z<p;z++)i[z]=0}if(C>=5)if(p-1<0){for(let z=0;z>p;z--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[p-1]++;for(;a<Math.max(0,d);a++)i.push(0);let b=0!==d;const A=t+n.integerLen,B=i.reduceRight(function(z,se,Me,$e){return $e[Me]=(se+=z)<10?se:se-10,b&&(0===$e[Me]&&Me>=A?$e.pop():b=!1),se>=10?1:0},0);B&&(i.unshift(B),n.integerLen++)}(A,z,se);let Me=A.digits,$e=A.integerLen;const mt=A.exponent;let Rt=[];for(b=Me.every(Vn=>!Vn);$e<B;$e++)Me.unshift(0);for(;$e<0;$e++)Me.unshift(0);$e>0?Rt=Me.splice($e,Me.length):(Rt=Me,Me=[0]);const Un=[];for(Me.length>=t.lgSize&&Un.unshift(Me.splice(-t.lgSize,Me.length).join(""));Me.length>t.gSize;)Un.unshift(Me.splice(-t.gSize,Me.length).join(""));Me.length&&Un.unshift(Me.join("")),C=Un.join(Ve(e,i)),Rt.length&&(C+=Ve(e,a)+Rt.join("")),mt&&(C+=Ve(e,Pe.Exponential)+"+"+mt)}else C=Ve(e,Pe.Infinity);return C=n<0&&!b?t.negPre+C+t.negSuf:t.posPre+C+t.posSuf,C}function Xs(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(yt),a=i[0],d=i[1],p=-1!==a.indexOf(Et)?a.split(Et):[a.substring(0,a.lastIndexOf(Gt)+1),a.substring(a.lastIndexOf(Gt)+1)],C=p[0],b=p[1]||"";e.posPre=C.substring(0,C.indexOf(Ft));for(let B=0;B<b.length;B++){const z=b.charAt(B);z===Gt?e.minFrac=e.maxFrac=B+1:z===Ft?e.maxFrac=B+1:e.posSuf+=z}const A=C.split(yn);if(e.gSize=A[1]?A[1].length:0,e.lgSize=A[2]||A[1]?(A[2]||A[1]).length:0,d){const B=a.length-e.posPre.length-e.posSuf.length,z=d.indexOf(Ft);e.negPre=d.substring(0,z).replace(/'/g,""),e.negSuf=d.slice(z+B).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function On(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class _i{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,d,p)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new _i(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)i.remove(null===d?void 0:d);else if(null!==d){const C=i.get(d);i.move(C,p),yi(C,a)}});for(let a=0,d=i.length;a<d;a++){const C=i.get(a).context;C.index=a,C.count=d,C.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{yi(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function yi(n,t){n.context.$implicit=t.item}let Ur=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new qa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){xt("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){xt("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qa{constructor(){this.$implicit=null,this.ngIf=null}}function xt(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(t)}'.`)}function St(n,t){return new u.vHH(2100,!1)}let Fc=(()=>{class n{constructor(e){this._locale=e}transform(e,i,a){if(!Lc(e))return null;a=a||this._locale;try{return function qn(n,t,e){return Bo(n,Xs(gt(t,F.Decimal),Ve(t,Pe.MinusSign)),t,Pe.Group,Pe.Decimal,e)}(ui(e),a,i)}catch(d){throw St()}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.soG,16))},n.\u0275pipe=u.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),Wi=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,a="symbol",d,p){if(!Lc(e))return null;p=p||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let C=i||this._defaultCurrencyCode;"code"!==a&&(C="symbol"===a||"symbol-narrow"===a?function Ze(n,t,e="en"){const i=function Pt(n){return(0,u.cg1)(n)[u.wAp.Currencies]}(e)[n]||O[n]||[],a=i[1];return"narrow"===t&&"string"==typeof a?a:i[0]||n}(C,"symbol"===a?"wide":"narrow",p):a);try{return function Wa(n,t,e,i,a){const p=Xs(gt(t,F.Currency),Ve(t,Pe.MinusSign));return p.minFrac=function cn(n){let t;const e=O[n];return e&&(t=e[2]),"number"==typeof t?t:gn}(i),p.maxFrac=p.minFrac,Bo(n,p,t,Pe.CurrencyGroup,Pe.CurrencyDecimal,a).replace(yr,e).replace(yr,"").trim()}(ui(e),p,C,i,d)}catch(b){throw St()}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.soG,16),u.Y36(u.EJc,16))},n.\u0275pipe=u.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function Lc(n){return!(null==n||""===n||n!=n)}function ui(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let is=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new io((0,u.LFG)(ue),window)}),n})();class io{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function so(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(i-d[0],a-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ss(this.window.history)||ss(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ss(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Rs extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ho extends Rs{static makeCurrent(){!function J(n){j||(j=n)}(new ho)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Du(){return qr=qr||document.querySelector("base"),qr?qr.getAttribute("href"):null}();return null==e?null:function fo(n){Kr=Kr||document.createElement("a"),Kr.setAttribute("href",n);const t=Kr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Za(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,d]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Kr,qr=null;const Tu=new u.OlP("TRANSITION_ID"),ta=[{provide:u.ip1,useFactory:function Np(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)i.remove(a[d])})}},deps:[Tu,ue,u.zs3],multi:!0}];let fl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const po=new u.OlP("EventManagerPlugins");let pl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}addGlobalEventListener(e,i,a){return this._findPluginFor(i).addGlobalEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(po),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class go{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,i)}}let Ps=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const a=this.usageCount;let d=a.get(e)??0;return d+=i,d>0?a.set(e,d):a.delete(e),d}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cn=(()=>{class n extends Ps{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(d=>d.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const a=this.doc.createElement("style");a.textContent=i,e.appendChild(a);const d=this.styleRef.get(i);d?d.push(a):this.styleRef.set(i,[a])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},di=/%COMP%/g,ra=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function bi(n,t){return t.flat(100).map(e=>e.replace(di,n))}function Os(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let yo=(()=>{class n{constructor(e,i,a,d){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestory=d,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const a=this.getOrCreateRenderer(e,i);return a instanceof vo?a.applyToHost(e):a instanceof cs&&a.applyStyles(),a}getOrCreateRenderer(e,i){const a=this.rendererByCompId;let d=a.get(i.id);if(!d){const p=this.eventManager,C=this.sharedStylesHost,b=this.removeStylesOnCompDestory;switch(i.encapsulation){case u.ifc.Emulated:d=new vo(p,C,i,this.appId,b);break;case u.ifc.ShadowDom:return new ks(p,C,e,i);default:d=new cs(p,C,i,b)}d.onDestroy=()=>a.delete(i.id),a.set(i.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(pl),u.LFG(Cn),u.LFG(u.AFp),u.LFG(ra))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ir{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(xs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ns(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ns(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const d=xs[a];d?t.setAttributeNS(d,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=xs[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,a&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Os(i)):this.eventManager.addEventListener(t,e,Os(i))}}function Ns(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ks extends Ir{constructor(t,e,i,a){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=bi(a.id,a.styles);for(const p of d){const C=document.createElement("style");C.textContent=p,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class cs extends Ir{constructor(t,e,i,a,d=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=a,this.rendererUsageCount=0,this.styles=bi(d,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class vo extends cs{constructor(t,e,i,a,d){const p=a+"-"+i.id;super(t,e,i,d,p),this.contentAttr=function wi(n){return"_ngcontent-%COMP%".replace(di,n)}(p),this.hostAttr=function Gc(n){return"_nghost-%COMP%".replace(di,n)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let zc=(()=>{class n extends go{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sa=["alt","control","meta","shift"],gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Su=(()=>{class n extends go{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const d=n.parseEventName(i),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(i.pop());let p="",C=i.indexOf("code");if(C>-1&&(i.splice(C,1),p="code."),sa.forEach(A=>{const B=i.indexOf(A);B>-1&&(i.splice(B,1),p+=A+".")}),p+=d,0!=i.length||0===d.length)return null;const b={};return b.domEventName=a,b.fullKey=p,b}static matchEventFullKeyCode(e,i){let a=gl[e.key]||e.key,d="";return i.indexOf("code.")>-1&&(a=e.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),sa.forEach(p=>{p!==a&&(0,oa[p])(e)&&(d+=p+".")}),d+=a,d===i)}static eventCallback(e,i,a){return d=>{n.matchEventFullKeyCode(d,e)&&a.runGuarded(()=>i(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function la(){ho.makeCurrent()},multi:!0},{provide:ue,useFactory:function _l(){return(0,u.RDi)(document),document},deps:[]}]),Au=new u.OlP(""),Mu=[{provide:u.rWj,useClass:class kp{addToWindow(t){u.dqk.getAngularTestability=(i,a=!0)=>{const d=t.findTestabilityInTree(i,a);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const a=u.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const C=function(b){p=p||b,d--,0==d&&i(p)};a.forEach(function(b){b.whenStable(C)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Fs=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function wr(){return new u.qLn},deps:[]},{provide:po,useClass:zc,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:po,useClass:Su,multi:!0,deps:[ue]},{provide:yo,useClass:yo,deps:[pl,Cn,u.AFp,ra]},{provide:u.FYo,useExisting:yo},{provide:Ps,useExisting:Cn},{provide:Cn,useClass:Cn,deps:[ue]},{provide:pl,useClass:pl,deps:[po,u.R0b]},{provide:class zo{},useClass:fl,deps:[]},[]];let Ls=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:Tu,useExisting:u.AFp},ta]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Au,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...Fs,...Mu],imports:[ro,u.hGG]}),n})(),hs=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ru(){return new hs((0,u.LFG)(ue))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;var nn=L(8996),Ti=L(7669);function it(...n){const t=(0,Ti.yG)(n);return(0,nn.D)(n,t)}var br=L(7579);class Dr extends br.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ua=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var hr=L(9751);const{isArray:wl}=Array,{getPrototypeOf:Si,prototype:Fu,keys:Lu}=Object;function ms(n){if(1===n.length){const t=n[0];if(wl(t))return{args:t,keys:null};if(function ca(n){return n&&"object"==typeof n&&Si(n)===Fu}(t)){const e=Lu(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Jr=L(4671),Dt=L(4004);const{isArray:I}=Array;function S(n){return(0,Dt.U)(t=>function w(n,t){return I(t)?n(...t):n(t)}(n,t))}function H(n,t){return n.reduce((e,i,a)=>(e[i]=t[a],e),{})}var K=L(5403),le=L(9672);function ke(...n){const t=(0,Ti.yG)(n),e=(0,Ti.jO)(n),{args:i,keys:a}=ms(n);if(0===i.length)return(0,nn.D)([],t);const d=new hr.y(function nt(n,t,e=Jr.y){return i=>{st(t,()=>{const{length:a}=n,d=new Array(a);let p=a,C=a;for(let b=0;b<a;b++)st(t,()=>{const A=(0,nn.D)(n[b],t);let B=!1;A.subscribe((0,K.x)(i,z=>{d[b]=z,B||(B=!0,C--),C||i.next(e(d.slice()))},()=>{--p||i.complete()}))},i)},i)}}(i,t,a?p=>H(a,p):Jr.y));return e?d.pipe(S(e)):d}function st(n,t,e){n?(0,le.f)(e,n,t):t()}var ot=L(8189);function It(...n){return function zt(){return(0,ot.J)(1)}()((0,nn.D)(n,(0,Ti.yG)(n)))}var Wn=L(8421);function Fn(n){return new hr.y(t=>{(0,Wn.Xf)(n()).subscribe(t)})}var bl=L(9635),Us=L(576);function hi(n,t){const e=(0,Us.m)(n)?n:()=>n,i=a=>a.error(e());return new hr.y(t?a=>t.schedule(i,0,a):i)}var Hn=L(515),Or=L(727),jn=L(4482);function Dl(){return(0,jn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,K.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Kc extends hr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Or.w0;const e=this.getSubject();t.add(this.source.subscribe((0,K.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Or.w0.EMPTY)}return t}refCount(){return Dl()(this)}}function rr(n,t){return(0,jn.e)((e,i)=>{let a=null,d=0,p=!1;const C=()=>p&&!a&&i.complete();e.subscribe((0,K.x)(i,b=>{a?.unsubscribe();let A=0;const B=d++;(0,Wn.Xf)(n(b,B)).subscribe(a=(0,K.x)(i,z=>i.next(t?t(b,z,B,A++):z),()=>{a=null,C()}))},()=>{p=!0,C()}))})}function da(n){return n<=0?()=>Hn.E:(0,jn.e)((t,e)=>{let i=0;t.subscribe((0,K.x)(e,a=>{++i<=n&&(e.next(a),n<=i&&e.complete())}))})}function _s(n,t){return(0,jn.e)((e,i)=>{let a=0;e.subscribe((0,K.x)(i,d=>n.call(t,d,a++)&&i.next(d)))})}var Nr=L(5577);function bo(n){return(0,jn.e)((t,e)=>{let i=!1;t.subscribe((0,K.x)(e,a=>{i=!0,e.next(a)},()=>{i||e.next(n),e.complete()}))})}function Vp(n=Yc){return(0,jn.e)((t,e)=>{let i=!1;t.subscribe((0,K.x)(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(n())))})}function Yc(){return new ua}function Ai(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_s((a,d)=>n(a,d,i)):Jr.y,da(1),e?bo(t):Vp(()=>new ua))}function ha(n,t){return(0,Us.m)(t)?(0,Nr.z)(n,t,1):(0,Nr.z)(n,1)}var kr=L(8505);function Do(n){return(0,jn.e)((t,e)=>{let d,i=null,a=!1;i=t.subscribe((0,K.x)(e,void 0,void 0,p=>{d=(0,Wn.Xf)(n(p,Do(n)(t))),i?(i.unsubscribe(),i=null,d.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,d.subscribe(e))})}function Qc(n,t){return(0,jn.e)(function O_(n,t,e,i,a){return(d,p)=>{let C=e,b=t,A=0;d.subscribe((0,K.x)(p,B=>{const z=A++;b=C?n(b,B,z):(C=!0,B),i&&p.next(b)},a&&(()=>{C&&p.next(b),p.complete()})))}}(n,t,arguments.length>=2,!0))}function Jc(n){return n<=0?()=>Hn.E:(0,jn.e)((t,e)=>{let i=[];t.subscribe((0,K.x)(e,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function Xc(n,t){const e=arguments.length>=2;return i=>i.pipe(n?_s((a,d)=>n(a,d,i)):Jr.y,Jc(1),e?bo(t):Vp(()=>new ua))}function Uu(n){return(0,jn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Ot="primary",jr=Symbol("RouteTitle");class Bp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function To(n){return new Bp(n)}function Hp(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let d=0;d<i.length;d++){const p=i[d],C=n[d];if(p.startsWith(":"))a[p.substring(1)]=C;else if(p!==C.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function fi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!Yh(n[a],t[a]))return!1;return!0}function Yh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,d)=>i[d]===a)}return n===t}function Vu(n){return Array.prototype.concat.apply([],n)}function Qh(n){return n.length>0?n[n.length-1]:null}function fr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ys(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,nn.D)(Promise.resolve(n)):it(n)}const pr=!1,Sl={exact:function So(n,t,e){if(!Bs(n.segments,t.segments)||!Ml(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!So(n.children[i],t.children[i],e))return!1;return!0},subset:Bu},td={exact:function ir(n,t){return fi(n,t)},subset:function Al(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Yh(n[e],t[e]))},ignored:()=>!0};function nd(n,t,e){return Sl[e.paths](n.root,t.root,e.matrixParams)&&td[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Bu(n,t,e){return rd(n,t,t.segments,e)}function rd(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Bs(a,e)||t.hasChildren()||!Ml(a,e,i))}if(n.segments.length===e.length){if(!Bs(n.segments,e)||!Ml(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!Bu(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Bs(n.segments,a)&&Ml(n.segments,a,i)&&n.children[Ot])&&rd(n.children[Ot],t,d,i)}}function Ml(n,t,e){return t.every((i,a)=>td[e](n[a].parameters,i.parameters))}class Vs{constructor(t=new Kt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return f.serialize(this)}}class Kt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fr(e,(i,a)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return g(this)}}class Rl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=To(this.parameters)),this._parameterMap}toString(){return Vt(this)}}function Bs(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let fa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new _},providedIn:"root"}),n})();class _{parse(t){const e=new Hu(t);return new Vs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${y(t.root,!0)}`,i=function pi(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${N(e)}=${N(a)}`).join("&"):`${N(e)}=${N(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function re(n){return encodeURI(n)}(t.fragment)}`:""}`}}const f=new _;function g(n){return n.segments.map(t=>Vt(t)).join("/")}function y(n,t){if(!n.hasChildren())return g(n);if(t){const e=n.children[Ot]?y(n.children[Ot],!1):"",i=[];return fr(n.children,(a,d)=>{d!==Ot&&i.push(`${d}:${y(a,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jp(n,t){let e=[];return fr(n.children,(i,a)=>{a===Ot&&(e=e.concat(t(i,a)))}),fr(n.children,(i,a)=>{a!==Ot&&(e=e.concat(t(i,a)))}),e}(n,(i,a)=>a===Ot?[y(n.children[Ot],!1)]:[`${a}:${y(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${g(n)}/${e[0]}`:`${g(n)}/(${e.join("//")})`}}function T(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function N(n){return T(n).replace(/%3B/gi,";")}function Ae(n){return T(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qe(n){return decodeURIComponent(n)}function dt(n){return qe(n.replace(/\+/g,"%20"))}function Vt(n){return`${Ae(n.path)}${function Dn(n){return Object.keys(n).map(t=>`;${Ae(t)}=${Ae(n[t])}`).join("")}(n.parameters)}`}const Hs=/^[^\/()?;=#]+/;function Ao(n){const t=n.match(Hs);return t?t[0]:""}const Xh=/^[^=?&#]+/,ef=/^[^&#]+/;class Hu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ot]=new Kt(t,e)),i}parseSegment(){const t=Ao(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new u.vHH(4009,pr);return this.capture(t),new Rl(qe(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ao(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=Ao(this.remaining);a&&(i=a,this.capture(i))}t[qe(e)]=qe(i)}parseQueryParam(t){const e=function id(n){const t=n.match(Xh);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const p=function tf(n){const t=n.match(ef);return t?t[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const a=dt(e),d=dt(i);if(t.hasOwnProperty(a)){let p=t[a];Array.isArray(p)||(p=[p],t[a]=p),p.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ao(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new u.vHH(4010,pr);let d;i.indexOf(":")>-1?(d=i.slice(0,i.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Ot);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[Ot]:new Kt([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new u.vHH(4011,pr)}}function pa(n){return n.segments.length>0?new Kt([],{[Ot]:n}):n}function ga(n){const t={};for(const i of Object.keys(n.children)){const d=ga(n.children[i]);(d.segments.length>0||d.hasChildren())&&(t[i]=d)}return function Pl(n){if(1===n.numberOfChildren&&n.children[Ot]){const t=n.children[Ot];return new Kt(n.segments.concat(t.segments),t.children)}return n}(new Kt(n.segments,t))}function js(n){return n instanceof Vs}const sd=!1;function N_(n,t,e,i,a){if(0===e.length)return ud(t.root,t.root,t.root,i,a);const d=function $p(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new k_(!0,0,n);let t=0,e=!1;const i=n.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const C={};return fr(d.outlets,(b,A)=>{C[A]="string"==typeof b?b.split("/"):b}),[...a,{outlets:C}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((C,b)=>{0==b&&"."===C||(0==b&&""===C?e=!0:".."===C?t++:""!=C&&a.push(C))}),a):[...a,d]},[]);return new k_(e,t,i)}(e);return d.toRoot()?ud(t.root,t.root,new Kt([],{}),i,a):function p(b){const A=function Wp(n,t,e,i){if(n.isAbsolute)return new xl(t.root,!0,0);if(-1===i)return new xl(e,e===t.root,0);return function Gp(n,t,e){let i=n,a=t,d=e;for(;d>a;){if(d-=a,i=i.parent,!i)throw new u.vHH(4005,sd&&"Invalid number of '../'");a=i.segments.length}return new xl(i,!1,a-d)}(e,i+(ju(n.commands[0])?0:1),n.numberOfDoubleDots)}(d,t,n.snapshot?._urlSegment,b),B=A.processChildren?Ol(A.segmentGroup,A.index,d.commands):$u(A.segmentGroup,A.index,d.commands);return ud(t.root,A.segmentGroup,B,i,a)}(n.snapshot?._lastPathIndex)}function ju(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ld(n){return"object"==typeof n&&null!=n&&n.outlets}function ud(n,t,e,i,a){let p,d={};i&&fr(i,(b,A)=>{d[A]=Array.isArray(b)?b.map(B=>`${B}`):`${b}`}),p=n===t?e:cd(n,t,e);const C=pa(ga(p));return new Vs(C,d,a)}function cd(n,t,e){const i={};return fr(n.children,(a,d)=>{i[d]=a===t?e:cd(a,t,e)}),new Kt(n.segments,i)}class k_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ju(i[0]))throw new u.vHH(4003,sd&&"Root segment cannot have matrix parameters");const a=i.find(ld);if(a&&a!==Qh(i))throw new u.vHH(4004,sd&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function $u(n,t,e){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return Ol(n,t,e);const i=function zp(n,t,e){let i=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return d;const p=n.segments[a],C=e[i];if(ld(C))break;const b=`${C}`,A=i<e.length-1?e[i+1]:null;if(a>0&&void 0===b)break;if(b&&A&&"object"==typeof A&&void 0===A.outlets){if(!L_(b,A,p))return d;i+=2}else{if(!L_(b,{},p))return d;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const d=new Kt(n.segments.slice(0,i.pathIndex),{});return d.children[Ot]=new Kt(n.segments.slice(i.pathIndex),n.children),Ol(d,0,a)}return i.match&&0===a.length?new Kt(n.segments,{}):i.match&&!n.hasChildren()?dd(n,t,e):i.match?Ol(n,0,a):dd(n,t,e)}function Ol(n,t,e){if(0===e.length)return new Kt(n.segments,{});{const i=function nf(n){return ld(n[0])?n[0].outlets:{[Ot]:n}}(e),a={};return!i[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?Ol(n.children[Ot],t,e):(fr(i,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[p]=$u(n.children[p],t,d))}),fr(n.children,(d,p)=>{void 0===i[p]&&(a[p]=d)}),new Kt(n.segments,a))}}function dd(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(ld(d)){const b=Zp(d.outlets);return new Kt(i,b)}if(0===a&&ju(e[0])){i.push(new Rl(n.segments[t].path,Wu(e[0]))),a++;continue}const p=ld(d)?d.outlets[Ot]:`${d}`,C=a<e.length-1?e[a+1]:null;p&&C&&ju(C)?(i.push(new Rl(p,Wu(C))),a+=2):(i.push(new Rl(p,{})),a++)}return new Kt(i,{})}function Zp(n){const t={};return fr(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=dd(new Kt([],{}),0,e))}),t}function Wu(n){const t={};return fr(n,(e,i)=>t[i]=`${e}`),t}function L_(n,t,e){return n==e.path&&fi(t,e.parameters)}const Gu="imperative";class $s{constructor(t,e){this.id=t,this.url=e}}class qp extends $s{constructor(t,e,i="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nl extends $s{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hd extends $s{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fd extends $s{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=16}}class zu extends $s{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Kp extends $s{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zu extends $s{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IE extends $s{constructor(t,e,i,a,d){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wE extends $s{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qw extends $s{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bE{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yp{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DE{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U_{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rf{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qp{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jp{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let H_=(()=>{class n{createUrlTree(e,i,a,d,p,C){return N_(e||i.root,a,d,p,C)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){return H_.\u0275fac(t)},providedIn:"root"}),n})();class j_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Xp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=eg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return eg(t,this._root).map(e=>e.value)}}function Xp(n,t){if(n===t.value)return t;for(const e of t.children){const i=Xp(n,e);if(i)return i}return null}function eg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=eg(n,e);if(i.length)return i.unshift(t),i}return[]}class $r{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ws(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $_ extends j_{constructor(t,e){super(t),this.snapshot=e,tg(this,t)}toString(){return this.snapshot.toString()}}function AE(n,t){const e=function Jw(n,t){const p=new pd([],{},{},"",{},Ot,t,null,n.root,-1,{});return new W_("",new $r(p,[]))}(n,t),i=new Dr([new Rl("",{})]),a=new Dr({}),d=new Dr({}),p=new Dr({}),C=new Dr(""),b=new _a(i,a,p,C,d,Ot,t,e.root);return b.snapshot=e.root,new $_(new $r(b,[]),e)}class _a{constructor(t,e,i,a,d,p,C,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=p,this.component=C,this.title=this.data?.pipe((0,Dt.U)(A=>A[jr]))??it(void 0),this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(t=>To(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(t=>To(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ME(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],d=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(d.component)break;i--}}return function Xw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class pd{get title(){return this.data?.[jr]}constructor(t,e,i,a,d,p,C,b,A,B,z){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=d,this.outlet=p,this.component=C,this.routeConfig=b,this._urlSegment=A,this._lastPathIndex=B,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=To(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W_ extends j_{constructor(t,e){super(e),this.url=t,tg(this,e)}toString(){return G_(this._root)}}function tg(n,t){t.value._routerState=n,t.children.forEach(e=>tg(n,e))}function G_(n){const t=n.children.length>0?` { ${n.children.map(G_).join(", ")} } `:"";return`${n.value}${t}`}function ng(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),fi(t.params,e.params)||n.params.next(e.params),function Kh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),fi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gd(n,t){const e=fi(n.params,t.params)&&function Jh(n,t){return Bs(n,t)&&n.every((e,i)=>fi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||gd(n.parent,t.parent))}function Ro(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function z_(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return Ro(n,i,a);return Ro(n,i)})}(n,t,e);return new $r(i,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(C=>Ro(n,C)),p}}const i=function Z_(n){return new _a(new Dr(n.url),new Dr(n.params),new Dr(n.queryParams),new Dr(n.fragment),new Dr(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Ro(n,d));return new $r(i,a)}}const sf="ngNavigationCancelingError";function RE(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=js(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=PE(!1,0,t);return a.url=e,a.navigationBehaviorOptions=i,a}function PE(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[sf]=!0,i.cancellationCode=t,e&&(i.url=e),i}function xE(n){return af(n)&&js(n.url)}function af(n){return n&&n[sf]}class rg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lf,this.attachRef=null}}let lf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new rg,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ig=!1;let uf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(lf),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:a}=e.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ig);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ig);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ig);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new u.vHH(4013,ig);this._activatedRoute=e;const a=this.location,p=e.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,b=new OE(e,C,a.injector);if(i&&function NE(n){return!!n.resolveComponentFactory}(i)){const A=i.resolveComponentFactory(p);this.activated=a.createComponent(A,a.length,b)}else this.activated=a.createComponent(p,{index:a.length,injector:b,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class OE{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_a?this.route:t===lf?this.childContexts:this.parent.get(t,e)}}let sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},dependencies:[uf],encapsulation:2}),n})();function q_(n,t){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function md(n){const t=n.children&&n.children.map(md),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ot&&(e.component=sg),e}function Mi(n){return n.outlet||Ot}function Y_(n,t){const e=n.filter(i=>Mi(i)===t);return e.push(...n.filter(i=>Mi(i)!==t)),e}function _d(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class VE{constructor(t,e,i,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ng(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=Ws(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],i),delete a[p]}),fr(a,(d,p)=>{this.deactivateRouteAndItsChildren(d,i)})}deactivateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const p=i.getContext(a.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,i);else d&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Ws(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(i&&i.outlet){const p=i.outlet.detach(),C=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:C})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,d=Ws(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const a=Ws(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],i),this.forwardEvent(new Qp(d.value.snapshot))}),t.children.length&&this.forwardEvent(new U_(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,d=e?e.value:null;if(ng(a),a===d)if(a.component){const p=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const p=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const C=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(C.contexts),p.attachRef=C.componentRef,p.route=C.route.value,p.outlet&&p.outlet.attach(C.componentRef,C.route.value),ng(C.route.value),this.activateChildRoutes(t,null,p.children)}else{const C=_d(a.snapshot),b=C?.get(u._Vd)??null;p.attachRef=null,p.route=a,p.resolver=b,p.injector=C,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,i)}}class lg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ug{constructor(t,e){this.component=t,this.route=e}}function tb(n,t,e){const i=n._root;return qu(i,t?t._root:null,e,[i.value])}function ya(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,u.Z0I)(n)?t.get(n):n:i}function qu(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Ws(t);return n.children.forEach(p=>{(function Q_(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,p=t?t.value:null,C=e?e.getContext(n.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const b=function J_(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Bs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Bs(n.url,t.url)||!fi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gd(n,t)||!fi(n.queryParams,t.queryParams);default:return!gd(n,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);b?a.canActivateChecks.push(new lg(i)):(d.data=p.data,d._resolvedData=p._resolvedData),qu(n,t,d.component?C?C.children:null:e,i,a),b&&C&&C.outlet&&C.outlet.isActivated&&a.canDeactivateChecks.push(new ug(C.outlet.component,p))}else p&&cf(t,C,a),a.canActivateChecks.push(new lg(i)),qu(n,null,d.component?C?C.children:null:e,i,a)})(p,d[p.value.outlet],e,i.concat([p.value]),a),delete d[p.value.outlet]}),fr(d,(p,C)=>cf(p,e.getContext(C),a)),a}function cf(n,t,e){const i=Ws(n),a=n.value;fr(i,(d,p)=>{cf(d,a.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new ug(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function vd(n){return"function"==typeof n}function df(n){return n instanceof ua||"EmptyError"===n?.name}const Gs=Symbol("INITIAL_VALUE");function Ku(){return rr(n=>ke(n.map(t=>t.pipe(da(1),function Zh(...n){const t=(0,Ti.yG)(n);return(0,jn.e)((e,i)=>{(t?It(n,e,t):It(n,e)).subscribe(i)})}(Gs)))).pipe((0,Dt.U)(t=>{for(const e of t)if(!0!==e){if(e===Gs)return Gs;if(!1===e||e instanceof Vs)return e}return!0}),_s(t=>t!==Gs),da(1)))}function iy(n){return(0,bl.z)((0,kr.b)(t=>{if(js(t))throw RE(0,t)}),(0,Dt.U)(t=>!0===t))}const va={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oy(n,t,e,i,a){const d=gg(n,t,e);return d.matched?function sy(n,t,e,i){const a=t.canMatch;return a&&0!==a.length?it(a.map(p=>{const C=ya(p,n);return ys(function BE(n){return n&&vd(n.canMatch)}(C)?C.canMatch(t,e):n.runInContext(()=>C(t,e)))})).pipe(Ku(),iy()):it(!0)}(i=q_(t,i),t,e).pipe((0,Dt.U)(p=>!0===p?d:{...va})):it(d)}function gg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...va}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Hp)(e,n,t);if(!a)return{...va};const d={};fr(a.posParams,(C,b)=>{d[b]=C.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function pf(n,t,e,i){if(e.length>0&&function ay(n,t,e){return e.some(i=>Cd(n,t,i)&&Mi(i)!==Ot)}(n,e,i)){const d=new Kt(t,function $E(n,t,e,i){const a={};a[Ot]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Mi(d)!==Ot){const p=new Kt([],{});p._sourceSegment=n,p._segmentIndexShift=t.length,a[Mi(d)]=p}return a}(n,t,i,new Kt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function WE(n,t,e){return e.some(i=>Cd(n,t,i))}(n,e,i)){const d=new Kt(n.segments,function mg(n,t,e,i,a){const d={};for(const p of i)if(Cd(n,e,p)&&!a[Mi(p)]){const C=new Kt([],{});C._sourceSegment=n,C._segmentIndexShift=t.length,d[Mi(p)]=C}return{...a,...d}}(n,t,e,i,n.children));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new Kt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Cd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function GE(n,t,e,i){return!!(Mi(n)===i||i!==Ot&&Cd(t,e,n))&&("**"===n.path||gg(t,n,e).matched)}function ly(n,t,e){return 0===t.length&&!n.children[e]}const Ca=!1;class gf{constructor(t){this.segmentGroup=t||null}}class Fl{constructor(t){this.urlTree=t}}function Po(n){return hi(new gf(n))}function uy(n){return hi(new Fl(n))}class qE{constructor(t,e,i,a,d){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=a,this.config=d,this.allowRedirects=!0}apply(){const t=pf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Kt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ot).pipe((0,Dt.U)(d=>this.createUrlTree(ga(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(d=>{if(d instanceof Fl)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof gf?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ot).pipe((0,Dt.U)(a=>this.createUrlTree(ga(a),t.queryParams,t.fragment))).pipe(Do(a=>{throw a instanceof gf?this.noMatchError(a):a}))}noMatchError(t){return new u.vHH(4002,Ca)}createUrlTree(t,e,i){const a=pa(t);return new Vs(a,e,i)}expandSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Dt.U)(d=>new Kt([],d))):this.expandSegment(t,i,e,i.segments,a,!0)}expandChildren(t,e,i){const a=[];for(const d of Object.keys(i.children))"primary"===d?a.unshift(d):a.push(d);return(0,nn.D)(a).pipe(ha(d=>{const p=i.children[d],C=Y_(e,d);return this.expandSegmentGroup(t,C,p,d).pipe((0,Dt.U)(b=>({segment:b,outlet:d})))}),Qc((d,p)=>(d[p.outlet]=p.segment,d),{}),Xc())}expandSegment(t,e,i,a,d,p){return(0,nn.D)(i).pipe(ha(C=>this.expandSegmentAgainstRoute(t,e,i,C,a,d,p).pipe(Do(A=>{if(A instanceof gf)return it(null);throw A}))),Ai(C=>!!C),Do((C,b)=>{if(df(C))return ly(e,a,d)?it(new Kt([],{})):Po(e);throw C}))}expandSegmentAgainstRoute(t,e,i,a,d,p,C){return GE(a,e,d,p)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,p):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p):Po(e):Po(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const d=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?uy(d):this.lineralizeSegments(i,d).pipe((0,Nr.z)(p=>{const C=new Kt(p,{});return this.expandSegment(t,C,e,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,d,p){const{matched:C,consumedSegments:b,remainingSegments:A,positionalParamSegments:B}=gg(e,a,d);if(!C)return Po(e);const z=this.applyRedirectCommands(b,a.redirectTo,B);return a.redirectTo.startsWith("/")?uy(z):this.lineralizeSegments(a,z).pipe((0,Nr.z)(se=>this.expandSegment(t,e,i,se.concat(A),p,!1)))}matchSegmentAgainstRoute(t,e,i,a,d){return"**"===i.path?(t=q_(i,t),i.loadChildren?(i._loadedRoutes?it({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Dt.U)(C=>(i._loadedRoutes=C.routes,i._loadedInjector=C.injector,new Kt(a,{})))):it(new Kt(a,{}))):oy(e,i,a,t).pipe(rr(({matched:p,consumedSegments:C,remainingSegments:b})=>p?this.getChildConfig(t=i._injector??t,i,a).pipe((0,Nr.z)(B=>{const z=B.injector??t,se=B.routes,{segmentGroup:Me,slicedSegments:$e}=pf(e,C,b,se),mt=new Kt(Me.segments,Me.children);if(0===$e.length&&mt.hasChildren())return this.expandChildren(z,se,mt).pipe((0,Dt.U)(ii=>new Kt(C,ii)));if(0===se.length&&0===$e.length)return it(new Kt(C,{}));const Rt=Mi(i)===d;return this.expandSegment(z,mt,se,$e,Rt?Ot:d,!0).pipe((0,Dt.U)(Vn=>new Kt(C.concat(Vn.segments),Vn.children)))})):Po(e)))}getChildConfig(t,e,i){return e.children?it({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?it({routes:e._loadedRoutes,injector:e._loadedInjector}):function jE(n,t,e,i){const a=t.canLoad;return void 0===a||0===a.length?it(!0):it(a.map(p=>{const C=ya(p,n);return ys(function ey(n){return n&&vd(n.canLoad)}(C)?C.canLoad(t,e):n.runInContext(()=>C(t,e)))})).pipe(Ku(),iy())}(t,e,i).pipe((0,Nr.z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,kr.b)(d=>{e._loadedRoutes=d.routes,e._loadedInjector=d.injector})):function zE(n){return hi(PE(Ca,3))}())):it({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return it(i);if(a.numberOfChildren>1||!a.children[Ot])return t.redirectTo,hi(new u.vHH(4e3,Ca));a=a.children[Ot]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,a){const d=this.createSegmentGroup(t,e.root,i,a);return new Vs(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fr(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const C=a.substring(1);i[d]=e[C]}else i[d]=a}),i}createSegmentGroup(t,e,i,a){const d=this.createSegments(t,e.segments,i,a);let p={};return fr(e.children,(C,b)=>{p[b]=this.createSegmentGroup(t,C,i,a)}),new Kt(d,p)}createSegments(t,e,i,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new u.vHH(4001,Ca);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}class yg{}class Cg{constructor(t,e,i,a,d,p,C){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=a,this.url=d,this.paramsInheritanceStrategy=p,this.urlSerializer=C}recognize(){const t=pf(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ot).pipe((0,Dt.U)(e=>{if(null===e)return null;const i=new pd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new $r(i,e),d=new W_(this.url,a);return this.inheritParamsAndData(d._root),d}))}inheritParamsAndData(t){const e=t.value,i=ME(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,a)}processChildren(t,e,i){return(0,nn.D)(Object.keys(i.children)).pipe(ha(a=>{const d=i.children[a],p=Y_(e,a);return this.processSegmentGroup(t,p,d,a)}),Qc((a,d)=>a&&d?(a.push(...d),a):null),function Tl(n,t=!1){return(0,jn.e)((e,i)=>{let a=0;e.subscribe((0,K.x)(i,d=>{const p=n(d,a++);(p||t)&&i.next(d),!p&&i.complete()}))})}(a=>null!==a),bo(null),Xc(),(0,Dt.U)(a=>{if(null===a)return null;const d=hy(a);return function Ed(n){n.sort((t,e)=>t.value.outlet===Ot?-1:e.value.outlet===Ot?1:t.value.outlet.localeCompare(e.value.outlet))}(d),d}))}processSegment(t,e,i,a,d){return(0,nn.D)(e).pipe(ha(p=>this.processSegmentAgainstRoute(p._injector??t,p,i,a,d)),Ai(p=>!!p),Do(p=>{if(df(p))return ly(i,a,d)?it([]):it(null);throw p}))}processSegmentAgainstRoute(t,e,i,a,d){if(e.redirectTo||!GE(e,i,a,d))return it(null);let p;if("**"===e.path){const C=a.length>0?Qh(a).parameters:{},b=py(i)+a.length;p=it({snapshot:new pd(a,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ll(e),Mi(e),e.component??e._loadedComponent??null,e,fy(i),b,zs(e)),consumedSegments:[],remainingSegments:[]})}else p=oy(i,e,a,t).pipe((0,Dt.U)(({matched:C,consumedSegments:b,remainingSegments:A,parameters:B})=>{if(!C)return null;const z=py(i)+b.length;return{snapshot:new pd(b,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ll(e),Mi(e),e.component??e._loadedComponent??null,e,fy(i),z,zs(e)),consumedSegments:b,remainingSegments:A}}));return p.pipe(rr(C=>{if(null===C)return it(null);const{snapshot:b,consumedSegments:A,remainingSegments:B}=C;t=e._injector??t;const z=e._loadedInjector??t,se=function YE(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Me,slicedSegments:$e}=pf(i,A,B,se.filter(Rt=>void 0===Rt.redirectTo));if(0===$e.length&&Me.hasChildren())return this.processChildren(z,se,Me).pipe((0,Dt.U)(Rt=>null===Rt?null:[new $r(b,Rt)]));if(0===se.length&&0===$e.length)return it([new $r(b,[])]);const mt=Mi(e)===d;return this.processSegment(z,se,Me,$e,mt?Ot:d).pipe((0,Dt.U)(Rt=>null===Rt?null:[new $r(b,Rt)]))}))}}function QE(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hy(n){const t=[],e=new Set;for(const i of n){if(!QE(i)){t.push(i);continue}const a=t.find(d=>i.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=hy(i.children);t.push(new $r(i.value,a))}return t.filter(i=>!e.has(i))}function fy(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function py(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Ll(n){return n.data||{}}function zs(n){return n.resolve||{}}function Eg(n){return"string"==typeof n.title||null===n.title}function mf(n){return rr(t=>{const e=n(t);return e?(0,nn.D)(e).pipe((0,Dt.U)(()=>t)):it(t)})}const Ul=new u.OlP("ROUTES");let Ig=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return it(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ys(e.loadComponent()).pipe((0,Dt.U)(Yi),(0,kr.b)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=d}),Uu(()=>{this.componentLoaders.delete(e)})),a=new Kc(i,()=>new br.x).pipe(Dl());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return it({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const d=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Dt.U)(C=>{this.onLoadEndListener&&this.onLoadEndListener(i);let b,A,B=!1;Array.isArray(C)?A=C:(b=C.create(e).injector,A=Vu(b.get(Ul,[],u.XFs.Self|u.XFs.Optional)));return{routes:A.map(md),injector:b}}),Uu(()=>{this.childrenLoaders.delete(i)})),p=new Kc(d,()=>new br.x).pipe(Dl());return this.childrenLoaders.set(i,p),p}loadModuleFactoryOrRoutes(e){return ys(e()).pipe((0,Dt.U)(Yi),(0,Nr.z)(i=>i instanceof u.YKP||Array.isArray(i)?it(i):(0,nn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yi(n){return function t0(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Id=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new br.x,this.configLoader=(0,u.f3M)(Ig),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(fa),this.rootContexts=(0,u.f3M)(lf),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new Yp(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new bE(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Dr({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_s(i=>0!==i.id),(0,Dt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),rr(i=>{let a=!1,d=!1;return it(i).pipe((0,kr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(p=>{const C=e.browserUrlTree.toString(),b=!e.navigated||p.extractedUrl.toString()!==C||C!==e.currentUrlTree.toString();if(!b&&"reload"!==(p.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const B="";return this.events.next(new fd(p.id,e.serializeUrl(i.rawUrl),B,0)),e.rawUrlTree=p.rawUrl,p.resolve(null),Hn.E}if(e.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return _y(p.source)&&(e.browserUrlTree=p.extractedUrl),it(p).pipe(rr(B=>{const z=this.transitions?.getValue();return this.events.next(new qp(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),z!==this.transitions?.getValue()?Hn.E:Promise.resolve(B)}),function dy(n,t,e,i){return rr(a=>function ZE(n,t,e,i,a){return new qE(n,t,e,i,a).apply()}(n,t,e,a.extractedUrl,i).pipe((0,Dt.U)(d=>({...a,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,kr.b)(B=>{this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects},i.urlAfterRedirects=B.urlAfterRedirects}),function XE(n,t,e,i,a){return(0,Nr.z)(d=>function KE(n,t,e,i,a,d,p="emptyOnly"){return new Cg(n,t,e,i,a,p,d).recognize().pipe(rr(C=>null===C?function vg(n){return new hr.y(t=>t.error(n))}(new yg):it(C)))}(n,t,e,d.urlAfterRedirects,i.serialize(d.urlAfterRedirects),i,a).pipe((0,Dt.U)(p=>({...d,targetSnapshot:p}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,kr.b)(B=>{if(i.targetSnapshot=B.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!B.extras.skipLocationChange){const se=e.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);e.setBrowserUrl(se,B)}e.browserUrlTree=B.urlAfterRedirects}const z=new Kp(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(z)}));if(b&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:B,extractedUrl:z,source:se,restoredState:Me,extras:$e}=p,mt=new qp(B,this.urlSerializer.serialize(z),se,Me);this.events.next(mt);const Rt=AE(z,this.rootComponentType).snapshot;return it(i={...p,targetSnapshot:Rt,urlAfterRedirects:z,extras:{...$e,skipLocationChange:!1,replaceUrl:!1}})}{const B="";return this.events.next(new fd(p.id,e.serializeUrl(i.extractedUrl),B,1)),e.rawUrlTree=p.rawUrl,p.resolve(null),Hn.E}}),(0,kr.b)(p=>{const C=new Zu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(C)}),(0,Dt.U)(p=>i={...p,guards:tb(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function hg(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?it({...e,guardsResult:!0}):function hf(n,t,e,i){return(0,nn.D)(n).pipe((0,Nr.z)(a=>function pg(n,t,e,i,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?it(d.map(C=>{const b=_d(t)??a,A=ya(C,b);return ys(function dg(n){return n&&vd(n.canDeactivate)}(A)?A.canDeactivate(n,t,e,i):b.runInContext(()=>A(n,t,e,i))).pipe(Ai())})).pipe(Ku()):it(!0)}(a.component,a.route,e,t,i)),Ai(a=>!0!==a,!0))}(p,i,a,n).pipe((0,Nr.z)(C=>C&&function X_(n){return"boolean"==typeof n}(C)?function HE(n,t,e,i){return(0,nn.D)(t).pipe(ha(a=>It(function ff(n,t){return null!==n&&t&&t(new DE(n)),it(!0)}(a.route.parent,i),function fg(n,t){return null!==n&&t&&t(new rf(n)),it(!0)}(a.route,i),function ry(n,t,e){const i=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function yd(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Fn(()=>it(p.guards.map(b=>{const A=_d(p.node)??e,B=ya(b,A);return ys(function nb(n){return n&&vd(n.canActivateChild)}(B)?B.canActivateChild(i,n):A.runInContext(()=>B(i,n))).pipe(Ai())})).pipe(Ku())));return it(d).pipe(Ku())}(n,a.path,e),function kl(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return it(!0);const a=i.map(d=>Fn(()=>{const p=_d(t)??e,C=ya(d,p);return ys(function cg(n){return n&&vd(n.canActivate)}(C)?C.canActivate(t,n):p.runInContext(()=>C(t,n))).pipe(Ai())}));return it(a).pipe(Ku())}(n,a.route,e))),Ai(a=>!0!==a,!0))}(i,d,n,t):it(C)),(0,Dt.U)(C=>({...e,guardsResult:C})))})}(this.environmentInjector,p=>this.events.next(p)),(0,kr.b)(p=>{if(i.guardsResult=p.guardsResult,js(p.guardsResult))throw RE(0,p.guardsResult);const C=new IE(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(C)}),_s(p=>!!p.guardsResult||(e.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),mf(p=>{if(p.guards.canActivateChecks.length)return it(p).pipe((0,kr.b)(C=>{const b=new wE(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}),rr(C=>{let b=!1;return it(C).pipe(function e0(n,t){return(0,Nr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return it(e);let d=0;return(0,nn.D)(a).pipe(ha(p=>function ib(n,t,e,i){const a=n.routeConfig,d=n._resolve;return void 0!==a?.title&&!Eg(a)&&(d[jr]=a.title),function sb(n,t,e,i){const a=function gy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return it({});const d={};return(0,nn.D)(a).pipe((0,Nr.z)(p=>function ob(n,t,e,i){const a=_d(t)??i,d=ya(n,a);return ys(d.resolve?d.resolve(t,e):a.runInContext(()=>d(t,e)))}(n[p],t,e,i).pipe(Ai(),(0,kr.b)(C=>{d[p]=C}))),Jc(1),function qh(n){return(0,Dt.U)(()=>n)}(d),Do(p=>df(p)?Hn.E:hi(p)))}(d,n,t,i).pipe((0,Dt.U)(p=>(n._resolvedData=p,n.data=ME(n,e).resolve,a&&Eg(a)&&(n.data[jr]=a.title),null)))}(p.route,i,n,t)),(0,kr.b)(()=>d++),Jc(1),(0,Nr.z)(p=>d===a.length?it(e):Hn.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,kr.b)({next:()=>b=!0,complete:()=>{b||(e.restoreHistory(C),this.cancelNavigationTransition(C,"",2))}}))}),(0,kr.b)(C=>{const b=new Qw(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(b)}))}),mf(p=>{const C=b=>{const A=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,kr.b)(B=>{b.component=B}),(0,Dt.U)(()=>{})));for(const B of b.children)A.push(...C(B));return A};return ke(C(p.targetSnapshot.root)).pipe(bo(),da(1))}),mf(()=>this.afterPreactivation()),(0,Dt.U)(p=>{const C=function Mo(n,t,e){const i=Ro(n,t._root,e?e._root:void 0);return new $_(i,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:C}}),(0,kr.b)(p=>{e.currentUrlTree=p.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),e.routerState=p.targetRouterState,"deferred"===e.urlUpdateStrategy&&(p.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,p),e.browserUrlTree=p.urlAfterRedirects)}),((n,t,e)=>(0,Dt.U)(i=>(new VE(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p)),(0,kr.b)({next:p=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Nl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{a=!0}}),Uu(()=>{a||d||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Do(p=>{if(d=!0,af(p)){xE(p)||(e.navigated=!0,e.restoreHistory(i,!0));const C=new hd(i.id,this.urlSerializer.serialize(i.extractedUrl),p.message,p.cancellationCode);if(this.events.next(C),xE(p)){const b=e.urlHandlingStrategy.merge(p.url,e.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||_y(i.source)};e.scheduleNavigation(b,Gu,null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const C=new zu(i.id,this.urlSerializer.serialize(i.extractedUrl),p,i.targetSnapshot??void 0);this.events.next(C);try{i.resolve(e.errorHandler(p))}catch(b){i.reject(b)}}return Hn.E}))}))}cancelNavigationTransition(e,i,a){const d=new hd(e.id,this.urlSerializer.serialize(e.extractedUrl),i,a);this.events.next(d),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _y(n){return n!==Gu}let yy=(()=>{class n{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(d=>d.outlet===Ot);return i}getResolvedTitleForRoute(e){return e.data[jr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(n0)},providedIn:"root"}),n})(),n0=(()=>{class n extends yy{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(s0)},providedIn:"root"}),n})();class vy{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let s0=(()=>{class n extends vy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yf=new u.OlP("",{providedIn:"root",factory:()=>({})});let Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Cy)},providedIn:"root"}),n})(),Cy=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ey(n){throw n}function a0(n,t,e){return t.parse("/")}const l0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(yf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ey,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||a0,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(Bt),this.routeReuseStrategy=(0,u.f3M)(r0),this.urlCreationStrategy=(0,u.f3M)(SE),this.titleStrategy=(0,u.f3M)(yy),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Vu((0,u.f3M)(Ul,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(Id),this.urlSerializer=(0,u.f3M)(fa),this.location=(0,u.f3M)(Oe),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AE(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gu,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,a){const d={replaceUrl:!0},p=a?.navigationId?a:null;if(a){const b={...a};delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(d.state=b)}const C=this.parseUrl(e);this.scheduleNavigation(C,i,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(md),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:C,preserveFragment:b}=i,A=b?this.currentUrlTree.fragment:p;let B=null;switch(C){case"merge":B={...this.currentUrlTree.queryParams,...d};break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=d||null}return null!==B&&(B=this.removeEmptyProps(B)),this.urlCreationStrategy.createUrlTree(a,this.routerState,this.currentUrlTree,e,B,A??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=js(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,Gu,null,i)}navigate(e,i={skipLocationChange:!1}){return function wy(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new u.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...l0}:!1===i?{...Iy}:i,js(e))return nd(this.currentUrlTree,e,a);const d=this.parseUrl(e);return nd(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const d=e[a];return null!=d&&(i[a]=d),i},{})}scheduleNavigation(e,i,a,d,p){if(this.disposed)return Promise.resolve(!1);let C,b,A,B;return p?(C=p.resolve,b=p.reject,A=p.promise):A=new Promise((z,se)=>{C=z,b=se}),B="computed"===this.canceledNavigationResolution?a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:B,source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:d,resolve:C,reject:b,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(z=>Promise.reject(z))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e),d={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===a?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xo=(()=>{class n{constructor(e,i,a,d,p,C){this.router=e,this.route=i,this.tabIndexAttribute=a,this.renderer=d,this.el=p,this.locationStrategy=C,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new br.x;const b=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===b||"area"===b,this.isAnchorElement?this.subscription=e.events.subscribe(A=>{A instanceof Nl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,u.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,u.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,u.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,a,d,p){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||a||d||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const a=this.renderer,d=this.el.nativeElement;null!==i?a.setAttribute(d,e,i):a.removeAttribute(d,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Tr),u.Y36(_a),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(et))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&u.NdJ("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&u.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class wg{}let d0=(()=>{class n{constructor(e,i,a,d,p){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(_s(e=>e instanceof Nl),ha(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const d of i){d.providers&&!d._injector&&(d._injector=(0,u.MMx)(d.providers,e,`Route: ${d.path}`));const p=d._injector??e,C=d._loadedInjector??p;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&a.push(this.preloadConfig(p,d)),(d.children||d._loadedRoutes)&&a.push(this.processRoutes(C,d.children??d._loadedRoutes))}return(0,nn.D)(a).pipe((0,ot.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):it(null);const d=a.pipe((0,Nr.z)(p=>null===p?it(void 0):(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,this.processRoutes(p.injector??e,p.routes))));if(i.loadComponent&&!i._loadedComponent){const p=this.loader.loadComponent(i);return(0,nn.D)([d,p]).pipe((0,ot.J)())}return d})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Tr),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(wg),u.LFG(Ig))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wd=new u.OlP("");let Cf=(()=>{class n{constructor(e,i,a,d,p={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=a,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Nl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Ri=(()=>((Ri=Ri||{})[Ri.COMPLETE=0]="COMPLETE",Ri[Ri.FAILED=1]="FAILED",Ri[Ri.REDIRECTING=2]="REDIRECTING",Ri))();const bd=!1;function Oo(n,t){return{\u0275kind:n,\u0275providers:t}}const Dy=new u.OlP("",{providedIn:"root",factory:()=>!1});function bg(){const n=(0,u.f3M)(u.zs3);return t=>{const e=n.get(u.z2F);if(t!==e.components[0])return;const i=n.get(Tr),a=n.get(Td);1===n.get(Dg)&&i.initialNavigation(),n.get(Sy,null,u.XFs.Optional)?.setUpPreloading(),n.get(wd,null,u.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.unsubscribe())}}const Td=new u.OlP(bd?"bootstrap done indicator":"",{factory:()=>new br.x}),Dg=new u.OlP(bd?"initial navigation":"",{providedIn:"root",factory:()=>1});function p0(){let n=[];return n=bd?[{provide:u.Xts,multi:!0,useFactory:()=>{const t=(0,u.f3M)(Tr);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function V_(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Oo(1,n)}const Sy=new u.OlP(bd?"router preloader":"");function g0(n){return Oo(0,[{provide:Sy,useExisting:d0},{provide:wg,useExisting:n}])}const Qu=!1,Ef=new u.OlP(Qu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),hb=[Oe,{provide:fa,useClass:_},Tr,lf,{provide:_a,useFactory:function by(n){return n.routerState.root},deps:[Tr]},Ig,Qu?{provide:Dy,useValue:!0}:[]];function Tg(){return new u.PXZ("Router",Tr)}let Ay=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[hb,Qu&&i?.enableTracing?p0().\u0275providers:[],{provide:Ul,multi:!0,useValue:e},{provide:Ef,useFactory:y0,deps:[[Tr,new u.FiY,new u.tp0]]},{provide:yf,useValue:i||{}},i?.useHash?{provide:et,useClass:Ie}:{provide:et,useClass:Ee},{provide:wd,useFactory:()=>{const n=(0,u.f3M)(is),t=(0,u.f3M)(u.R0b),e=(0,u.f3M)(yf),i=(0,u.f3M)(Id),a=(0,u.f3M)(fa);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Cf(a,i,n,t,e)}},i?.preloadingStrategy?g0(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:Tg},i?.initialNavigation?Ry(i):[],[{provide:Py,useFactory:bg},{provide:u.tb,multi:!0,useExisting:Py}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ul,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ef,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[sg]}),n})();function y0(n){if(Qu&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ry(n){return["disabled"===n.initialNavigation?Oo(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const t=(0,u.f3M)(Tr);return()=>{t.setUpLocationChangeListener()}}},{provide:Dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oo(2,[{provide:Dg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:t=>{const e=t.get(te,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const a=t.get(Tr),d=t.get(Td);(function lb(n,t){n.events.pipe(_s(e=>e instanceof Nl||e instanceof hd||e instanceof zu||e instanceof fd),(0,Dt.U)(e=>e instanceof Nl||e instanceof fd?Ri.COMPLETE:e instanceof hd&&(0===e.code||1===e.code)?Ri.REDIRECTING:Ri.FAILED),_s(e=>e!==Ri.REDIRECTING),da(1)).subscribe(()=>{t()})})(a,()=>{i(!0)}),t.get(Id).afterPreactivation=()=>(i(!0),d.closed?it(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const Py=new u.OlP(Qu?"Router Initializer":"");var Xu=L(3028),Ag=L(4986),Vl=L(6451),If=L(3099);function xy(n,t){return n===t}var Mg=L(5032),Qi=L(2122),Pi=L(2011),C0=(L(9568),L(3942)),Ea=L(4859),Bl=L(5861),Ia=L(9681),U=L(2090),bf=L(1877);const Oy="@firebase/database";let Df="";function Ny(n){Df=n}class gb{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,U.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,U.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class xg{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,U.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Og=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new gb(t)}}catch{}return new xg},Hl=Og("localStorage"),Ng=Og("sessionStorage"),ec=new bf.Yd("@firebase/database"),kg=function(){let n=1;return function(){return n++}}(),ky=function(n){const t=(0,U.dS)(n),e=new U.gQ;e.update(t);const i=e.digest();return U.US.encodeByteArray(i)},Sd=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Sd.apply(null,i):t+="object"==typeof i?(0,U.Wl)(i):i,t+=" "}return t};let No=null,Fy=!0;const Ly=function(n,t){(0,U.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ec.logLevel=bf.in.VERBOSE,No=ec.log.bind(ec),t&&Ng.set("logging_enabled",!0)):"function"==typeof n?No=n:(No=null,Ng.remove("logging_enabled"))},Sr=function(...n){if(!0===Fy&&(Fy=!1,null===No&&!0===Ng.get("logging_enabled")&&Ly(!0)),No){const t=Sd.apply(null,n);No(t)}},Ad=function(n){return function(...t){Sr(n,...t)}},Fg=function(...n){const t="FIREBASE INTERNAL ERROR: "+Sd(...n);ec.error(t)},gr=function(...n){const t=`FIREBASE FATAL ERROR: ${Sd(...n)}`;throw ec.error(t),new Error(t)},Ar=function(...n){const t="FIREBASE WARNING: "+Sd(...n);ec.warn(t)},Tf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},wa="[MIN_NAME]",ko="[MAX_NAME]",jl=function(n,t){if(n===t)return 0;if(n===wa||t===ko)return-1;if(t===wa||n===ko)return 1;{const e=Bg(n),i=Bg(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Lg=function(n,t){return n===t?0:n<t?-1:1},Md=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(t))},Ug=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,U.Wl)(t[i]),e+=":",e+=Ug(n[t[i]]);return e+="}",e},Rd=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function or(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Pd=function(n){(0,U.hu)(!Tf(n),"Invalid JSON number");const i=1023;let a,d,p,C,b;0===n?(d=0,p=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),i),d=C+i,p=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(d=0,p=Math.round(n/Math.pow(2,-1074))));const A=[];for(b=52;b;b-=1)A.push(p%2?1:0),p=Math.floor(p/2);for(b=11;b;b-=1)A.push(d%2?1:0),d=Math.floor(d/2);A.push(a?1:0),A.reverse();const B=A.join("");let z="";for(b=0;b<64;b+=8){let se=parseInt(B.substr(b,8),2).toString(16);1===se.length&&(se="0"+se),z+=se}return z.toLowerCase()},Vy=new RegExp("^-?(0*)\\d{1,10}$"),Bg=function(n){if(Vy.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},ba=function(n){try{n()}catch(t){setTimeout(()=>{throw Ar("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Fo=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Da=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Sf{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xd{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ar(t)}}let Od=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Wy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zy="websocket",Zy="long_polling";class $g{constructor(t,e,i,a,d=!1,p="",C=!1,b=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=C,this.isUsingEmulator=b,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Hl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qy(n,t,e){let i;if((0,U.hu)("string"==typeof t,"typeof type must == string"),(0,U.hu)("object"==typeof e,"typeof params must == object"),t===zy)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Zy)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function w0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return or(e,(d,p)=>{a.push(d+"="+p)}),i+a.join("&")}class Ky{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,U.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,U.p$)(this.counters_)}}const kd={},Wg={};function Fd(n){const t=n.toString();return kd[t]||(kd[t]=new Ky),kd[t]}class D0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&ba(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ji{constructor(t,e,i,a,d,p,C){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=d,this.transportSessionId=p,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ad(t),this.stats_=Fd(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),qy(e,Zy,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new D0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mr((...d)=>{const[p,C,b,A,B]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=C,this.password=b;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,C]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,C)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Wy.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ji.forceAllow_=!0}static forceDisallow(){Ji.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Ji.forceAllow_&&(Ji.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,U.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,U.h$)(e),a=Rd(i,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,U.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Mr{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=kg(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Mr.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(C){Sr("frame writing exception"),C.stack&&Sr(C.stack),Sr(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Sr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const p=this.pendingSegs.shift();i=i+"&seg"+a+"="+p.seg+"&ts"+a+"="+p.ts+"&d"+a+"="+p.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,U.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Sr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Xr=null;typeof MozWebSocket<"u"?Xr=MozWebSocket:typeof WebSocket<"u"&&(Xr=WebSocket);let Ta=(()=>{class n{constructor(e,i,a,d,p,C,b){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ad(this.connId),this.stats_=Fd(i),this.connURL=n.connectionURL_(i,C,b,d,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,d,p){const C={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&Wy.test(location.hostname)&&(C.r="f"),i&&(C.s=i),a&&(C.ls=a),d&&(C.ac=d),p&&(C.p=p),qy(e,zy,C)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hl.set("previous_websocket_failure",!0);try{let a;if((0,U.Yr)()){a={headers:{"User-Agent":`Firebase/5/${Df}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,C=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;C&&(a.proxy={origin:C})}this.mySock=new Xr(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Xr&&!n.forceDisallow_}static previouslyFailed(){return Hl.isInMemoryStorage||!0===Hl.get("previous_websocket_failure")}markConnectionHealthy(){Hl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,U.cI)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,U.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Rd(i,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Wl=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ji,Ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ta&&Ta.isAvailable();let a=i&&!Ta.previouslyFailed();if(e.webSocketOnly&&(i||Ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Ta];else{const d=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&d.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Jg{constructor(t,e,i,a,d,p,C,b,A,B){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=p,this.onReady_=C,this.onDisconnect_=b,this.onKill_=A,this.lastSessionId=B,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ad("c:"+this.id+":"),this.transportManager_=new Wl(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Da(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Md("t",t),i=Md("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Md("t",t),i=Md("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Md("t",t);if("d"in t){const i=t.d;if("h"===e){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Fg("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fg("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Da(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Da(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Xg{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class em{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,U.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!i||i===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,U.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Rf extends em{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rf}getInitialEvent(t){return(0,U.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const rv=32,tm=768;class _n{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function hn(){return new _n("")}function Yt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function qs(n){return n.pieces_.length-n.pieceNum_}function En(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new _n(n.pieces_,t)}function ac(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Zl(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function iv(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new _n(t,0)}function In(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof _n)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new _n(e,0)}function Zt(n){return n.pieceNum_>=n.pieces_.length}function Wr(n,t){const e=Yt(n),i=Yt(t);if(null===e)return t;if(e===i)return Wr(En(n),En(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function sv(n,t){const e=Zl(n,0),i=Zl(t,0);for(let a=0;a<e.length&&a<i.length;a++){const d=jl(e[a],i[a]);if(0!==d)return d}return e.length===i.length?0:e.length<i.length?-1:1}function Ld(n,t){if(qs(n)!==qs(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function xi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(qs(n)>qs(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class ov{constructor(t,e){this.errorPrefix_=e,this.parts_=Zl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,U.ug)(this.parts_[i]);lv(this)}}function lv(n){if(n.byteLength_>tm)throw new Error(n.errorPrefix_+"has a key path longer than "+tm+" bytes ("+n.byteLength_+").");if(n.parts_.length>rv)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rv+") or object contains a cycle "+Aa(n))}function Aa(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class xf extends em{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new xf}getInitialEvent(t){return(0,U.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const lc=1e3;let Bd,Ma=(()=>{class n extends Xg{constructor(e,i,a,d,p,C,b,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=C,this.appCheckTokenProvider_=b,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=Ad("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=lc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const d=++this.requestNumber_,p={r:d,a:e,b:i};this.log_((0,U.Wl)(p)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const i=new U.BH,d={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:C=>{const b=C.d;"ok"===C.s?i.resolve(b):i.reject(b)}};return this.outstandingGets_.push(d),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,d){this.initConnection_();const p=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+p),this.listens.has(C)||this.listens.set(C,new Map),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(C).has(p),"listen() called twice for same path/queryId.");const b={onComplete:d,hashFn:i,query:e,tag:a};this.listens.get(C).set(p,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),d=i._queryIdentifier;this.log_("Listen on "+a+" for "+d);const p={p:a};e.tag&&(p.q=i._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,b=>{const A=b.d,B=b.s;n.warnOnListenWarnings_(A,i),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",b),"ok"!==B&&this.removeListen_(a,d),e.onComplete&&e.onComplete(B,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,U.r3)(e,"w")){const a=(0,U.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+i._queryParams.getIndex().toString()+'"',p=i._path.toString();Ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,U.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,U.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,d=>{const p=d.s,C=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,U.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,i)}sendUnlisten_(e,i,a,d){this.log_("Unlisten on "+e+" for "+i);const p={p:e};d&&(p.q=a,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,d){const p={p:i,d:a};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,C=>{d&&setTimeout(()=>{d(C.s,C.d)},Math.floor(0))})}put(e,i,a,d){this.putInternal("p",e,i,a,d)}merge(e,i,a,d){this.putInternal("m",e,i,a,d)}putInternal(e,i,a,d,p){this.initConnection_();const C={p:i,d:a};void 0!==p&&(C.h=p),this.outstandingPuts_.push({action:e,request:C,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,p=>{this.log_(i+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,U.Wl)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Fg("Unrecognized action received from server: "+(0,U.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=lc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Bl.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+n.nextConnectionId_++,C=e.lastSessionId;let b=!1,A=null;const B=function(){A?A.close():(b=!0,d())};e.realtime_={close:B,sendRequest:function(Me){(0,U.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(Me)}};const se=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Me,$e]=yield Promise.all([e.authTokenProvider_.getToken(se),e.appCheckTokenProvider_.getToken(se)]);b?Sr("getToken() completed but was canceled"):(Sr("getToken() completed. Creating connection."),e.authToken_=Me&&Me.accessToken,e.appCheckToken_=$e&&$e.token,A=new Jg(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,d,mt=>{Ar(mt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(Me){e.log_("Failed to get token: "+Me),b||(e.repoInfo_.nodeAdmin&&Ar(Me),B())}}})()}interrupt(e){Sr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=lc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(p=>Ug(p)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,i){const a=new _n(e).toString();let d;if(this.listens.has(a)){const p=this.listens.get(a);d=p.get(i),p.delete(i),0===p.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,i){Sr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Sr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,U.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Df.replace(/\./g,"-")]=1,(0,U.uI)()?e["framework.cordova"]=1:(0,U.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rf.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class tn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new tn(t,e)}}class Vd{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new tn(wa,t),a=new tn(wa,e);return 0!==this.compare(i,a)}minPost(){return tn.MIN}}class im extends Vd{static get __EMPTY_NODE(){return Bd}static set __EMPTY_NODE(t){Bd=t}compare(t,e){return jl(t.name,e.name)}isDefinedOn(t){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return tn.MIN}maxPost(){return new tn(ko,Bd)}makePost(t,e){return(0,U.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new tn(t,Bd)}toString(){return".key"}}const vs=new im;class Hd{constructor(t,e,i,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(p=e?i(t.key,e):1,a&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let jd,Xi=(()=>{class n{constructor(e,i,a,d,p){this.key=e,this.value=i,this.color=a??n.RED,this.left=d??Xn.EMPTY_NODE,this.right=p??Xn.EMPTY_NODE}copy(e,i,a,d,p){return new n(e??this.key,i??this.value,a??this.color,d??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let d=this;const p=a(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,i,a),null):0===p?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(e,i,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,d;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return Xn.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Xn{constructor(t,e=Xn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Xn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Xi.BLACK,null,null))}remove(t){return new Xn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xi.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Hd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Hd(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Hd(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Hd(this.root_,null,this.comparator_,!0,t)}}function O0(n,t){return jl(n.name,t.name)}function sm(n,t){return jl(n,t)}Xn.EMPTY_NODE=new class Of{copy(t,e,i,a,d){return this}insert(t,e,i){return new Xi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Nf=function(n){return"number"==typeof n?"number:"+Pd(n):"string:"+n},dv=function(n){if(n.isLeafNode()){const t=n.val();(0,U.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,U.r3)(t,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===jd||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===jd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kf,N0,hv,$d=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),dv(this.priorityNode_)}static set __childrenNodeConstructor(e){kf=e}static get __childrenNodeConstructor(){return kf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Zt(e)?this:".priority"===Yt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Yt(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,U.hu)(".priority"!==a||1===qs(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Nf(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Pd(this.value_):this.value_,this.lazyHash_=ky(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(i),p=n.VALUE_TYPE_ORDER.indexOf(a);return(0,U.hu)(d>=0,"Unknown leaf type: "+i),(0,U.hu)(p>=0,"Unknown leaf type: "+a),d===p?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ht=new class F0 extends Vd{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),d=i.compareTo(a);return 0===d?jl(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return tn.MIN}maxPost(){return new tn(ko,new $d("[PRIORITY-POST]",hv))}makePost(t,e){const i=N0(t);return new tn(e,new $d("[PRIORITY-POST]",i))}toString(){return".priority"}},pv=Math.log(2);class L0{constructor(t){this.count=parseInt(Math.log(t+1)/pv,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ff=function(n,t,e,i){n.sort(t);const a=function(b,A){const B=A-b;let z,se;if(0===B)return null;if(1===B)return z=n[b],se=e?e(z):z,new Xi(se,z.node,Xi.BLACK,null,null);{const Me=parseInt(B/2,10)+b,$e=a(b,Me),mt=a(Me+1,A);return z=n[Me],se=e?e(z):z,new Xi(se,z.node,Xi.BLACK,$e,mt)}},C=function(b){let A=null,B=null,z=n.length;const se=function($e,mt){const Rt=z-$e,Un=z;z-=$e;const Vn=a(Rt+1,Un),ii=n[Rt],zn=e?e(ii):ii;Me(new Xi(zn,ii.node,mt,null,Vn))},Me=function($e){A?(A.left=$e,A=$e):(B=$e,A=$e)};for(let $e=0;$e<b.count;++$e){const mt=b.nextBitIsOne(),Rt=Math.pow(2,b.count-($e+1));mt?se(Rt,Xi.BLACK):(se(Rt,Xi.BLACK),se(Rt,Xi.RED))}return B}(new L0(n.length));return new Xn(i||t,C)};let Lf;const uc={};class Ks{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,U.hu)(uc&&Ht,"ChildrenNode.ts has not been loaded"),Lf=Lf||new Ks({".priority":uc},{".priority":Ht}),Lf}get(t){const e=(0,U.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Xn?e:null}hasIndex(t){return(0,U.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,U.hu)(t!==vs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const d=e.getIterator(tn.Wrap);let C,p=d.getNext();for(;p;)a=a||t.isDefinedOn(p.node),i.push(p),p=d.getNext();C=a?Ff(i,t.getCompare()):uc;const b=t.toString(),A=Object.assign({},this.indexSet_);A[b]=t;const B=Object.assign({},this.indexes_);return B[b]=C,new Ks(B,A)}addToIndexes(t,e){const i=(0,U.UI)(this.indexes_,(a,d)=>{const p=(0,U.DV)(this.indexSet_,d);if((0,U.hu)(p,"Missing index implementation for "+d),a===uc){if(p.isDefinedOn(t.node)){const C=[],b=e.getIterator(tn.Wrap);let A=b.getNext();for(;A;)A.name!==t.name&&C.push(A),A=b.getNext();return C.push(t),Ff(C,p.getCompare())}return uc}{const C=e.get(t.name);let b=a;return C&&(b=b.remove(new tn(t.name,C))),b.insert(t,t.node)}});return new Ks(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,U.UI)(this.indexes_,a=>{if(a===uc)return a;{const d=e.get(t.name);return d?a.remove(new tn(t.name,d)):a}});return new Ks(i,this.indexSet_)}}let cc,At=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&dv(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cc||(cc=new n(new Xn(sm),null,Ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?cc:i}}getChild(e){const i=Yt(e);return null===i?this:this.getImmediateChild(i).getChild(En(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,U.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new tn(e,i);let d,p;i.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,i),p=this.indexMap_.addToIndexes(a,this.children_));const C=d.isEmpty()?cc:this.priorityNode_;return new n(d,C,p)}}updateChild(e,i){const a=Yt(e);if(null===a)return i;{(0,U.hu)(".priority"!==Yt(e)||1===qs(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(En(e),i);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,d=0,p=!0;if(this.forEachChild(Ht,(C,b)=>{i[C]=b.val(e),a++,p&&n.INTEGER_REGEXP_.test(C)?d=Math.max(d,Number(C)):p=!1}),!e&&p&&d<2*a){const C=[];for(const b in i)C[b]=i[b];return C}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Nf(this.getPriority().val())+":"),this.forEachChild(Ht,(i,a)=>{const d=a.hash();""!==d&&(e+=":"+i+":"+d)}),this.lazyHash_=""===e?"":ky(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const d=this.resolveIndex_(a);if(d){const p=d.getPredecessorKey(new tn(e,i));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new tn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new tn(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>i(d.name,d.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,tn.Wrap);let p=d.peek();for(;null!=p&&i.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,tn.Wrap);let p=d.peek();for(;null!=p&&i.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Wd?-1:0}withIndex(e){if(e===vs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===vs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(Ht),d=i.getIterator(Ht);let p=a.getNext(),C=d.getNext();for(;p&&C;){if(p.name!==C.name||!p.node.equals(C.node))return!1;p=a.getNext(),C=d.getNext()}return null===p&&null===C}return!1}return!1}}resolveIndex_(e){return e===vs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wd=new class U0 extends At{constructor(){super(new Xn(sm),At.EMPTY_NODE,Ks.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(tn,{MIN:{value:new tn(wa,At.EMPTY_NODE)},MAX:{value:new tn(ko,Wd)}}),im.__EMPTY_NODE=At.EMPTY_NODE,$d.__childrenNodeConstructor=At,function ql(n){jd=n}(Wd),function fv(n){hv=n}(Wd);const gv=!0;function $n(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,U.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $d(n,$n(t));if(n instanceof Array||!gv){let e=At.EMPTY_NODE;return or(n,(i,a)=>{if((0,U.r3)(n,i)&&"."!==i.substring(0,1)){const d=$n(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(i,d))}}),e.updatePriority($n(t))}{const e=[];let i=!1;if(or(n,(p,C)=>{if("."!==p.substring(0,1)){const b=$n(C);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new tn(p,b)))}}),0===e.length)return At.EMPTY_NODE;const d=Ff(e,O0,p=>p.name,sm);if(i){const p=Ff(e,Ht.getCompare());return new At(d,$n(t),new Ks({".priority":p},{".priority":Ht}))}return new At(d,$n(t),Ks.Default)}}!function k0(n){N0=n}($n);class Uf extends Vd{constructor(t){super(),this.indexPath_=t,(0,U.hu)(!Zt(t)&&".priority"!==Yt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),d=i.compareTo(a);return 0===d?jl(t.name,e.name):d}makePost(t,e){const i=$n(t),a=At.EMPTY_NODE.updateChild(this.indexPath_,i);return new tn(e,a)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new tn(ko,t)}toString(){return Zl(this.indexPath_,0).join("/")}}const Vf=new class Cb extends Vd{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?jl(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return tn.MIN}maxPost(){return tn.MAX}makePost(t,e){const i=$n(t);return new tn(e,i)}toString(){return".value"}};function Bf(n){return{type:"value",snapshotNode:n}}function ei(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Gd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function zd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Oi{constructor(t){this.index_=t}updateChild(t,e,i,a,d,p){(0,U.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=t.getImmediateChild(e);return C.getChild(a).equals(i.getChild(a))&&C.isEmpty()===i.isEmpty()||(null!=p&&(i.isEmpty()?t.hasChild(e)?p.trackChildChange(Gd(e,C)):(0,U.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?p.trackChildChange(ei(e,i)):p.trackChildChange(zd(e,i,C))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Ht,(a,d)=>{e.hasChild(a)||i.trackChildChange(Gd(a,d))}),e.isLeafNode()||e.forEachChild(Ht,(a,d)=>{if(t.hasChild(a)){const p=t.getImmediateChild(a);p.equals(d)||i.trackChildChange(zd(a,d,p))}else i.trackChildChange(ei(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ti{constructor(t){this.indexedFilter_=new Oi(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ti.getStartPost_(t),this.endPost_=ti.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,d,p){return this.matches(new tn(e,i))||(i=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,d,p)}updateFullNode(t,e,i){e.isLeafNode()&&(e=At.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(At.EMPTY_NODE);const d=this;return e.forEachChild(Ht,(p,C)=>{d.matches(new tn(p,C))||(a=a.updateImmediateChild(p,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class mv{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ti(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,d,p){return this.rangedFilter_.matches(new tn(e,i))||(i=At.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,d,p):this.fullLimitUpdateChild_(t,e,i,d,p)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=At.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const C=d.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;a=a.updateImmediateChild(C.name,C.node),p++}}}else{let d;a=e.withIndex(this.index_),a=a.updatePriority(At.EMPTY_NODE),d=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let p=0;for(;d.hasNext();){const C=d.getNext();p<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?p++:a=a.updateImmediateChild(C.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,d){let p;if(this.reverse_){const z=this.index_.getCompare();p=(se,Me)=>z(Me,se)}else p=this.index_.getCompare();const C=t;(0,U.hu)(C.numChildren()===this.limit_,"");const b=new tn(e,i),A=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),B=this.rangedFilter_.matches(b);if(C.hasChild(e)){const z=C.getImmediateChild(e);let se=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=se&&(se.name===e||C.hasChild(se.name));)se=a.getChildAfterChild(this.index_,se,this.reverse_);const Me=null==se?1:p(se,b);if(B&&!i.isEmpty()&&Me>=0)return d?.trackChildChange(zd(e,i,z)),C.updateImmediateChild(e,i);{d?.trackChildChange(Gd(e,z));const mt=C.updateImmediateChild(e,At.EMPTY_NODE);return null!=se&&this.rangedFilter_.matches(se)?(d?.trackChildChange(ei(se.name,se.node)),mt.updateImmediateChild(se.name,se.node)):mt}}return i.isEmpty()?t:B&&p(A,b)>=0?(null!=d&&(d.trackChildChange(Gd(A.name,A.node)),d.trackChildChange(ei(e,i))),C.updateImmediateChild(e,i).updateImmediateChild(A.name,At.EMPTY_NODE)):t}}class Zd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ht}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wa}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ko}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ht}copy(){const t=new Zd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function om(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Kl(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function qd(n,t){const e=n.copy();return e.index_=t,e}function _v(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Ht?e="$priority":n.index_===Vf?e="$value":n.index_===vs?e="$key":((0,U.hu)(n.index_ instanceof Uf,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,U.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function lm(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Ht&&(t.i=n.index_.toString()),t}class Kd extends Xg{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Ad("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,U.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=Kd.getListenId_(t,i),C={};this.listens_[p]=C;const b=_v(t._queryParams);this.restRequest_(d+".json",b,(A,B)=>{let z=B;if(404===A&&(z=null,A=null),null===A&&this.onDataUpdate_(d,z,!1,i),(0,U.DV)(this.listens_,p)===C){let se;se=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(se,null)}})}unlisten(t,e){const i=Kd.getListenId_(t,e);delete this.listens_[i]}get(t){const e=_v(t._queryParams),i=t._path.toString(),a=new U.BH;return this.restRequest_(i+".json",e,(d,p)=>{let C=p;404===d&&(C=null,d=null),null===d?(this.onDataUpdate_(i,C,!1,null),a.resolve(C)):a.reject(new Error(C))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,U.xO)(e);this.log_("Sending REST request for "+p);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(i&&4===C.readyState){this.log_("REST Response for "+p+" received. status:",C.status,"response:",C.responseText);let b=null;if(C.status>=200&&C.status<300){try{b=(0,U.cI)(C.responseText)}catch{Ar("Failed to parse JSON response for "+p+": "+C.responseText)}i(null,b)}else 401!==C.status&&404!==C.status&&Ar("Got unsuccessful REST response for "+p+" Status: "+C.status),i(C.status);i=null}},C.open("GET",p,!0),C.send()})}}class Hf{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function jf(){return{value:null,children:new Map}}function Yl(n,t,e){if(Zt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Yt(t);n.children.has(i)||n.children.set(i,jf()),Yl(n.children.get(i),t=En(t),e)}}function $f(n,t){if(Zt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Ht,(i,a)=>{Yl(n,new _n(i),a)}),$f(n,t)}}if(n.children.size>0){const e=Yt(t);return t=En(t),n.children.has(e)&&$f(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Yd(n,t,e){null!==n.value?e(t,n.value):function Wf(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{Yd(a,new _n(t.toString()+"/"+i),e)})}class um{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&or(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class Cv{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new um(t);const i=1e4+2e4*Math.random();Da(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;or(t,(a,d)=>{d>0&&(0,U.r3)(this.statsToReport_,a)&&(e[a]=d,i=!0)}),i&&this.server_.reportStats(e),Da(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ni=(()=>{return(n=Ni||(Ni={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ni;var n})();function dm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Zf{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ni.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Zt(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new _n(t));return new Zf(hn(),e,this.revert)}}return(0,U.hu)(Yt(this.path)===t,"operationForChild called for unrelated child."),new Zf(En(this.path),this.affectedTree,this.revert)}}class Qd{constructor(t,e){this.source=t,this.path=e,this.type=Ni.LISTEN_COMPLETE}operationForChild(t){return Zt(this.path)?new Qd(this.source,hn()):new Qd(this.source,En(this.path))}}class Ql{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ni.OVERWRITE}operationForChild(t){return Zt(this.path)?new Ql(this.source,hn(),this.snap.getImmediateChild(t)):new Ql(this.source,En(this.path),this.snap)}}class dc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ni.MERGE}operationForChild(t){if(Zt(this.path)){const e=this.children.subtree(new _n(t));return e.isEmpty()?null:e.value?new Ql(this.source,hn(),e.value):new dc(this.source,hn(),e)}return(0,U.hu)(Yt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new dc(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ra{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Zt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Yt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class $0{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Jd(n,t,e,i,a,d){const p=i.filter(C=>C.type===e);p.sort((C,b)=>function z0(n,t,e){if(null==t.childName||null==e.childName)throw(0,U.g5)("Should only compare child_ events.");const i=new tn(t.childName,t.snapshotNode),a=new tn(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,C,b)),p.forEach(C=>{const b=function G0(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,C,d);a.forEach(A=>{A.respondsTo(C.type)&&t.push(A.createEvent(b,n.query_))})})}function qf(n,t){return{eventCache:n,serverCache:t}}function Xd(n,t,e,i){return qf(new Ra(t,e,i),n.serverCache)}function Ev(n,t,e,i){return qf(n.eventCache,new Ra(t,e,i))}function Kf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let hm;class wn{constructor(t,e=(()=>(hm||(hm=new Xn(Lg)),hm))()){this.value=t,this.children=e}static fromObject(t){let e=new wn(null);return or(t,(i,a)=>{e=e.set(new _n(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:hn(),value:this.value};if(Zt(t))return null;{const i=Yt(t),a=this.children.get(i);if(null!==a){const d=a.findRootMostMatchingPathAndValue(En(t),e);return null!=d?{path:In(new _n(i),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Zt(t))return this;{const e=Yt(t),i=this.children.get(e);return null!==i?i.subtree(En(t)):new wn(null)}}set(t,e){if(Zt(t))return new wn(e,this.children);{const i=Yt(t),d=(this.children.get(i)||new wn(null)).set(En(t),e),p=this.children.insert(i,d);return new wn(this.value,p)}}remove(t){if(Zt(t))return this.children.isEmpty()?new wn(null):new wn(null,this.children);{const e=Yt(t),i=this.children.get(e);if(i){const a=i.remove(En(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new wn(null):new wn(this.value,d)}return this}}get(t){if(Zt(t))return this.value;{const e=Yt(t),i=this.children.get(e);return i?i.get(En(t)):null}}setTree(t,e){if(Zt(t))return e;{const i=Yt(t),d=(this.children.get(i)||new wn(null)).setTree(En(t),e);let p;return p=d.isEmpty()?this.children.remove(i):this.children.insert(i,d),new wn(this.value,p)}}fold(t){return this.fold_(hn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,d)=>{i[a]=d.fold_(In(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,hn(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(Zt(t))return null;{const d=Yt(t),p=this.children.get(d);return p?p.findOnPath_(En(t),In(e,d),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,hn(),e)}foreachOnPath_(t,e,i){if(Zt(t))return this;{this.value&&i(e,this.value);const a=Yt(t),d=this.children.get(a);return d?d.foreachOnPath_(En(t),In(e,a),i):new wn(null)}}foreach(t){this.foreach_(hn(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(In(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class es{constructor(t){this.writeTree_=t}static empty(){return new es(new wn(null))}}function hc(n,t,e){if(Zt(t))return new es(new wn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let d=i.value;const p=Wr(a,t);return d=d.updateChild(p,e),new es(n.writeTree_.set(a,d))}{const a=new wn(e),d=n.writeTree_.setTree(t,a);return new es(d)}}}function Yf(n,t,e){let i=n;return or(e,(a,d)=>{i=hc(i,In(t,a),d)}),i}function fm(n,t){if(Zt(t))return es.empty();{const e=n.writeTree_.setTree(t,new wn(null));return new es(e)}}function Qf(n,t){return null!=Pa(n,t)}function Pa(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Wr(e.path,t)):null}function pm(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ht,(i,a)=>{t.push(new tn(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new tn(i,a.value))}),t}function Lo(n,t){if(Zt(t))return n;{const e=Pa(n,t);return new es(null!=e?new wn(e):n.writeTree_.subtree(t))}}function Jf(n){return n.writeTree_.isEmpty()}function Xl(n,t){return xa(hn(),n.writeTree_,t)}function xa(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,U.hu)(null!==d.value,"Priority writes must always be leaf nodes"),i=d.value):e=xa(In(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(In(n,".priority"),i)),e}}function Xf(n,t){return ym(t,n)}function Ib(n,t){if(n.snap)return xi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&xi(In(n.path,e),t))return!0;return!1}function wv(n){return n.visible}function K0(n,t,e){let i=es.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const p=d.path;let C;if(d.snap)xi(e,p)?(C=Wr(e,p),i=hc(i,C,d.snap)):xi(p,e)&&(C=Wr(p,e),i=hc(i,hn(),d.snap.getChild(C)));else{if(!d.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(xi(e,p))C=Wr(e,p),i=Yf(i,C,d.children);else if(xi(p,e))if(C=Wr(p,e),Zt(C))i=Yf(i,hn(),d.children);else{const b=(0,U.DV)(d.children,Yt(C));if(b){const A=b.getChild(En(C));i=hc(i,hn(),A)}}}}}return i}function vt(n,t,e,i,a){if(i||a){const d=Lo(n.visibleWrites,t);return!a&&Jf(d)?e:a||null!=e||Qf(d,hn())?Xl(K0(n.allWrites,function(A){return(A.visible||a)&&(!i||!~i.indexOf(A.writeId))&&(xi(A.path,t)||xi(t,A.path))},t),e||At.EMPTY_NODE):null}{const d=Pa(n.visibleWrites,t);if(null!=d)return d;{const p=Lo(n.visibleWrites,t);return Jf(p)?e:null!=e||Qf(p,hn())?Xl(p,e||At.EMPTY_NODE):null}}}function eu(n,t,e,i){return vt(n.writeTree,n.treePath,t,e,i)}function Ln(n,t){return function Y0(n,t,e){let i=At.EMPTY_NODE;const a=Pa(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Ht,(d,p)=>{i=i.updateImmediateChild(d,p)}),i;if(e){const d=Lo(n.visibleWrites,t);return e.forEachChild(Ht,(p,C)=>{const b=Xl(Lo(d,new _n(p)),C);i=i.updateImmediateChild(p,b)}),pm(d).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}return pm(Lo(n.visibleWrites,t)).forEach(p=>{i=i.updateImmediateChild(p.name,p.node)}),i}(n.writeTree,n.treePath,t)}function eI(n,t,e,i){return function Q0(n,t,e,i,a){(0,U.hu)(i||a,"Either existingEventSnap or existingServerSnap must exist");const d=In(t,e);if(Qf(n.visibleWrites,d))return null;{const p=Lo(n.visibleWrites,d);return Jf(p)?a.getChild(e):Xl(p,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function eh(n,t){return function pc(n,t){return Pa(n.visibleWrites,t)}(n.writeTree,In(n.treePath,t))}function mm(n,t,e){return function J0(n,t,e,i){const a=In(t,e),d=Pa(n.visibleWrites,a);return null!=d?d:i.isCompleteForChild(e)?Xl(Lo(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function _m(n,t){return ym(In(n.treePath,t),n.writeTree)}function ym(n,t){return{treePath:n,writeTree:t}}class Dv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,U.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(i,zd(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(i,Gd(i,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(i,ei(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,U.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,zd(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Sv=new class Tv{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class vm{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mm(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jl(this.viewCache_),d=function bv(n,t,e,i,a,d){return function X0(n,t,e,i,a,d,p){let C;const b=Lo(n.visibleWrites,t),A=Pa(b,hn());if(null!=A)C=A;else{if(null==e)return[];C=Xl(b,e)}if(C=C.withIndex(p),C.isEmpty()||C.isLeafNode())return[];{const B=[],z=p.getCompare(),se=d?C.getReverseIteratorFrom(i,p):C.getIteratorFrom(i,p);let Me=se.getNext();for(;Me&&B.length<a;)0!==z(Me,i)&&B.push(Me),Me=se.getNext();return B}}(n.writeTree,n.treePath,t,e,i,a,d)}(this.writes_,a,e,1,i,t);return 0===d.length?null:d[0]}}function Av(n,t,e,i,a,d){const p=t.eventCache;if(null!=eh(i,e))return t;{let C,b;if(Zt(e))if((0,U.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=Jl(t),z=Ln(i,A instanceof At?A:At.EMPTY_NODE);C=n.filter.updateFullNode(t.eventCache.getNode(),z,d)}else{const A=eu(i,Jl(t));C=n.filter.updateFullNode(t.eventCache.getNode(),A,d)}else{const A=Yt(e);if(".priority"===A){(0,U.hu)(1===qs(e),"Can't have a priority with additional path components");const B=p.getNode();b=t.serverCache.getNode();const z=eI(i,e,B,b);C=null!=z?n.filter.updatePriority(B,z):p.getNode()}else{const B=En(e);let z;if(p.isCompleteForChild(A)){b=t.serverCache.getNode();const se=eI(i,e,p.getNode(),b);z=null!=se?p.getNode().getImmediateChild(A).updateChild(B,se):p.getNode().getImmediateChild(A)}else z=mm(i,A,t.serverCache);C=null!=z?n.filter.updateChild(p.getNode(),A,z,B,a,d):p.getNode()}}return Xd(t,C,p.isFullyInitialized()||Zt(e),n.filter.filtersNodes())}}function tu(n,t,e,i,a,d,p,C){const b=t.serverCache;let A;const B=p?n.filter:n.filter.getIndexedFilter();if(Zt(e))A=B.updateFullNode(b.getNode(),i,null);else if(B.filtersNodes()&&!b.isFiltered()){const Me=b.getNode().updateChild(e,i);A=B.updateFullNode(b.getNode(),Me,null)}else{const Me=Yt(e);if(!b.isCompleteForPath(e)&&qs(e)>1)return t;const $e=En(e),Rt=b.getNode().getImmediateChild(Me).updateChild($e,i);A=".priority"===Me?B.updatePriority(b.getNode(),Rt):B.updateChild(b.getNode(),Me,Rt,$e,Sv,null)}const z=Ev(t,A,b.isFullyInitialized()||Zt(e),B.filtersNodes());return Av(n,z,e,a,new vm(a,z,d),C)}function tp(n,t,e,i,a,d,p){const C=t.eventCache;let b,A;const B=new vm(a,t,d);if(Zt(e))A=n.filter.updateFullNode(t.eventCache.getNode(),i,p),b=Xd(t,A,!0,n.filter.filtersNodes());else{const z=Yt(e);if(".priority"===z)A=n.filter.updatePriority(t.eventCache.getNode(),i),b=Xd(t,A,C.isFullyInitialized(),C.isFiltered());else{const se=En(e),Me=C.getNode().getImmediateChild(z);let $e;if(Zt(se))$e=i;else{const mt=B.getCompleteChild(z);$e=null!=mt?".priority"===ac(se)&&mt.getChild(iv(se)).isEmpty()?mt:mt.updateChild(se,i):At.EMPTY_NODE}b=Me.equals($e)?t:Xd(t,n.filter.updateChild(C.getNode(),z,$e,se,B,p),C.isFullyInitialized(),n.filter.filtersNodes())}}return b}function Cm(n,t){return n.eventCache.isCompleteForChild(t)}function Rv(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function nu(n,t,e,i,a,d,p,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A,b=t;A=Zt(e)?i:new wn(null).setTree(e,i);const B=t.serverCache.getNode();return A.children.inorderTraversal((z,se)=>{if(B.hasChild(z)){const $e=Rv(0,t.serverCache.getNode().getImmediateChild(z),se);b=tu(n,b,new _n(z),$e,a,d,p,C)}}),A.children.inorderTraversal((z,se)=>{const Me=!t.serverCache.isCompleteForChild(z)&&null===se.value;if(!B.hasChild(z)&&!Me){const mt=Rv(0,t.serverCache.getNode().getImmediateChild(z),se);b=tu(n,b,new _n(z),mt,a,d,p,C)}}),b}class oI{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Oi(i.getIndex()),d=function V0(n){return n.loadsAllData()?new Oi(n.getIndex()):n.hasLimit()?new mv(n):new ti(n)}(i);this.processor_=function tI(n){return{filter:n}}(d);const p=e.serverCache,C=e.eventCache,b=a.updateFullNode(At.EMPTY_NODE,p.getNode(),null),A=d.updateFullNode(At.EMPTY_NODE,C.getNode(),null),B=new Ra(b,p.isFullyInitialized(),a.filtersNodes()),z=new Ra(A,C.isFullyInitialized(),d.filtersNodes());this.viewCache_=qf(z,B),this.eventGenerator_=new $0(this.query_)}get query(){return this.query_}}function Ov(n,t){const e=Jl(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Zt(t)&&!e.getImmediateChild(Yt(t)).isEmpty())?e.getChild(t):null}function Nv(n){return 0===n.eventRegistrations_.length}function Fv(n,t,e){const i=[];if(e){(0,U.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,a);p&&i.push(p)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const p=n.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(p)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function Lv(n,t,e,i){t.type===Ni.MERGE&&null!==t.source.queryId&&((0,U.hu)(Jl(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Kf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function nI(n,t,e,i,a){const d=new Dv;let p,C;if(e.type===Ni.OVERWRITE){const A=e;A.source.fromUser?p=tp(n,t,A.path,A.snap,i,a,d):((0,U.hu)(A.source.fromServer,"Unknown source."),C=A.source.tagged||t.serverCache.isFiltered()&&!Zt(A.path),p=tu(n,t,A.path,A.snap,i,a,C,d))}else if(e.type===Ni.MERGE){const A=e;A.source.fromUser?p=function Mv(n,t,e,i,a,d,p){let C=t;return i.foreach((b,A)=>{const B=In(e,b);Cm(t,Yt(B))&&(C=tp(n,C,B,A,a,d,p))}),i.foreach((b,A)=>{const B=In(e,b);Cm(t,Yt(B))||(C=tp(n,C,B,A,a,d,p))}),C}(n,t,A.path,A.children,i,a,d):((0,U.hu)(A.source.fromServer,"Unknown source."),C=A.source.tagged||t.serverCache.isFiltered(),p=nu(n,t,A.path,A.children,i,a,C,d))}else if(e.type===Ni.ACK_USER_WRITE){const A=e;p=A.revert?function sI(n,t,e,i,a,d){let p;if(null!=eh(i,e))return t;{const C=new vm(i,t,a),b=t.eventCache.getNode();let A;if(Zt(e)||".priority"===Yt(e)){let B;if(t.serverCache.isFullyInitialized())B=eu(i,Jl(t));else{const z=t.serverCache.getNode();(0,U.hu)(z instanceof At,"serverChildren would be complete if leaf node"),B=Ln(i,z)}A=n.filter.updateFullNode(b,B,d)}else{const B=Yt(e);let z=mm(i,B,t.serverCache);null==z&&t.serverCache.isCompleteForChild(B)&&(z=b.getImmediateChild(B)),A=null!=z?n.filter.updateChild(b,B,z,En(e),C,d):t.eventCache.getNode().hasChild(B)?n.filter.updateChild(b,B,At.EMPTY_NODE,En(e),C,d):b,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=eu(i,Jl(t)),p.isLeafNode()&&(A=n.filter.updateFullNode(A,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=eh(i,hn()),Xd(t,A,p,n.filter.filtersNodes())}}(n,t,A.path,i,a,d):function nh(n,t,e,i,a,d,p){if(null!=eh(a,e))return t;const C=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(Zt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return tu(n,t,e,b.getNode().getChild(e),a,d,C,p);if(Zt(e)){let A=new wn(null);return b.getNode().forEachChild(vs,(B,z)=>{A=A.set(new _n(B),z)}),nu(n,t,e,A,a,d,C,p)}return t}{let A=new wn(null);return i.foreach((B,z)=>{const se=In(e,B);b.isCompleteForPath(se)&&(A=A.set(B,b.getNode().getChild(se)))}),nu(n,t,e,A,a,d,C,p)}}(n,t,A.path,A.affectedTree,i,a,d)}else{if(e.type!==Ni.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+e.type);p=function iI(n,t,e,i,a){const d=t.serverCache;return Av(n,Ev(t,d.getNode(),d.isFullyInitialized()||Zt(e),d.isFiltered()),e,i,Sv,a)}(n,t,e.path,i,d)}const b=d.getChanges();return function rI(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),d=Kf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(d)||!i.getNode().getPriority().equals(d.getPriority()))&&e.push(Bf(Kf(t)))}}(t,p,b),{viewCache:p,changes:b}}(n.processor_,a,t,e,i);return function th(n,t){(0,U.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,U.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,aI(n,d.changes,d.viewCache.eventCache.getNode(),null)}function aI(n,t,e,i){return function W0(n,t,e,i){const a=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function Ys(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(p.childName,p.snapshotNode))}),Jd(n,a,"child_removed",t,i,e),Jd(n,a,"child_added",t,i,e),Jd(n,a,"child_moved",d,i,e),Jd(n,a,"child_changed",t,i,e),Jd(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Em,rp;class lI{constructor(){this.views=new Map}}function Im(n,t,e,i){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,U.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Lv(d,t,e,i)}{let d=[];for(const p of n.views.values())d=d.concat(Lv(p,t,e,i));return d}}function wm(n,t,e,i,a){const p=n.views.get(t._queryIdentifier);if(!p){let C=eu(e,a?i:null),b=!1;C?b=!0:i instanceof At?(C=Ln(e,i),b=!1):(C=At.EMPTY_NODE,b=!1);const A=qf(new Ra(C,b,!1),new Ra(i,a,!1));return new oI(t,A)}return p}function Vv(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Oa(n,t){let e=null;for(const i of n.views.values())e=e||Ov(i,t);return e}function Bv(n,t){return t._queryParams.loadsAllData()?ih(n):n.views.get(t._queryIdentifier)}function dI(n,t){return null!=Bv(n,t)}function Na(n){return null!=ih(n)}function ih(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fI=1;class bm{constructor(t){this.listenProvider_=t,this.syncPointTree_=new wn(null),this.pendingWriteTree_=function ep(){return{visibleWrites:es.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Dm(n,t,e,i,a){return function q0(n,t,e,i,a){(0,U.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=hc(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?mc(n,new Ql({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ka(n,t,e=!1){const i=function Eb(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function gm(n,t){const e=n.allWrites.findIndex(C=>C.writeId===t);(0,U.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,d=!1,p=n.allWrites.length-1;for(;a&&p>=0;){const C=n.allWrites[p];C.visible&&(p>=e&&Ib(C,i.path)?a=!1:xi(i.path,C.path)&&(d=!0)),p--}return!!a&&(d?(function Iv(n){n.visibleWrites=K0(n.allWrites,wv,hn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=fm(n.visibleWrites,i.path):or(i.children,b=>{n.visibleWrites=fm(n.visibleWrites,In(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let d=new wn(null);return null!=i.snap?d=d.set(hn(),!0):or(i.children,p=>{d=d.set(new _n(p),!0)}),mc(n,new Zf(i.path,d,e))}return[]}function gc(n,t,e){return mc(n,new Ql({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function oh(n,t,e,i,a=!1){const d=t._path,p=n.syncPointTree_.get(d);let C=[];if(p&&("default"===t._queryIdentifier||dI(p,t))){const b=function cI(n,t,e,i){const a=t._queryIdentifier,d=[];let p=[];const C=Na(n);if("default"===a)for(const[b,A]of n.views.entries())p=p.concat(Fv(A,e,i)),Nv(A)&&(n.views.delete(b),A.query._queryParams.loadsAllData()||d.push(A.query));else{const b=n.views.get(a);b&&(p=p.concat(Fv(b,e,i)),Nv(b)&&(n.views.delete(a),b.query._queryParams.loadsAllData()||d.push(b.query)))}return C&&!Na(n)&&d.push(new(function np(){return(0,U.hu)(Em,"Reference.ts has not been loaded"),Em}())(t._repo,t._path)),{removed:d,events:p}}(p,t,e,i);(function uI(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(d));const A=b.removed;if(C=b.events,!a){const B=-1!==A.findIndex(se=>se._queryParams.loadsAllData()),z=n.syncPointTree_.findOnPath(d,(se,Me)=>Na(Me));if(B&&!z){const se=n.syncPointTree_.subtree(d);if(!se.isEmpty()){const Me=function _I(n){return n.fold((t,e,i)=>{if(e&&Na(e))return[ih(e)];{let a=[];return e&&(a=Vv(e)),or(i,(d,p)=>{a=a.concat(p)}),a}})}(se);for(let $e=0;$e<Me.length;++$e){const mt=Me[$e],Rt=mt.query,Un=$v(n,mt);n.listenProvider_.startListening(_c(Rt),ah(n,Rt),Un.hashFn,Un.onComplete)}}}!z&&A.length>0&&!i&&(B?n.listenProvider_.stopListening(_c(t),null):A.forEach(se=>{const Me=n.queryToTagMap.get(sp(se));n.listenProvider_.stopListening(_c(se),Me)}))}!function Wv(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=sp(i),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,A)}return C}function Sm(n,t,e,i){const a=Pm(n,i);if(null!=a){const d=xm(a),p=d.path,C=d.queryId,b=Wr(p,t);return Om(n,p,new Ql(dm(C),b,e))}return[]}function Am(n,t,e,i=!1){const a=t._path;let d=null,p=!1;n.syncPointTree_.foreachOnPath(a,(se,Me)=>{const $e=Wr(se,a);d=d||Oa(Me,$e),p=p||Na(Me)});let b,C=n.syncPointTree_.get(a);C?(p=p||Na(C),d=d||Oa(C,hn())):(C=new lI,n.syncPointTree_=n.syncPointTree_.set(a,C)),null!=d?b=!0:(b=!1,d=At.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((Me,$e)=>{const mt=Oa($e,hn());mt&&(d=d.updateImmediateChild(Me,mt))}));const A=dI(C,t);if(!A&&!t._queryParams.loadsAllData()){const se=sp(t);(0,U.hu)(!n.queryToTagMap.has(se),"View does not exist, but we have a tag");const Me=function yI(){return fI++}();n.queryToTagMap.set(se,Me),n.tagToQueryMap.set(Me,se)}let z=function rh(n,t,e,i,a,d){const p=wm(n,t,i,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,p),function kv(n,t){n.eventRegistrations_.push(t)}(p,e),function wb(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ht,(d,p)=>{i.push(ei(d,p))}),e.isFullyInitialized()&&i.push(Bf(e.getNode())),aI(n,i,e.getNode(),t)}(p,e)}(C,t,e,Xf(n.pendingWriteTree_,a),d,b);if(!A&&!p&&!i){const se=Bv(C,t);z=z.concat(function vI(n,t,e){const i=t._path,a=ah(n,t),d=$v(n,e),p=n.listenProvider_.startListening(_c(t),a,d.hashFn,d.onComplete),C=n.syncPointTree_.subtree(i);if(a)(0,U.hu)(!Na(C.value),"If we're adding a query, it shouldn't be shadowed");else{const b=C.fold((A,B,z)=>{if(!Zt(A)&&B&&Na(B))return[ih(B).query];{let se=[];return B&&(se=se.concat(Vv(B).map(Me=>Me.query))),or(z,(Me,$e)=>{se=se.concat($e)}),se}});for(let A=0;A<b.length;++A){const B=b[A];n.listenProvider_.stopListening(_c(B),ah(n,B))}}return p}(n,t,se))}return z}function ip(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(p,C)=>{const A=Oa(C,Wr(p,t));if(A)return A});return vt(a,t,d,e,!0)}function mc(n,t){return Rm(t,n.syncPointTree_,null,Xf(n.pendingWriteTree_,hn()))}function Rm(n,t,e,i){if(Zt(n.path))return jv(n,t,e,i);{const a=t.get(hn());null==e&&null!=a&&(e=Oa(a,hn()));let d=[];const p=Yt(n.path),C=n.operationForChild(p),b=t.children.get(p);if(b&&C){const A=e?e.getImmediateChild(p):null,B=_m(i,p);d=d.concat(Rm(C,b,A,B))}return a&&(d=d.concat(Im(a,n,i,e))),d}}function jv(n,t,e,i){const a=t.get(hn());null==e&&null!=a&&(e=Oa(a,hn()));let d=[];return t.children.inorderTraversal((p,C)=>{const b=e?e.getImmediateChild(p):null,A=_m(i,p),B=n.operationForChild(p);B&&(d=d.concat(jv(B,C,b,A)))}),a&&(d=d.concat(Im(a,n,i,e))),d}function $v(n,t){const e=t.query,i=ah(n,e);return{hashFn:()=>(function Pv(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function gI(n,t,e){const i=Pm(n,e);if(i){const a=xm(i),d=a.path,p=a.queryId,C=Wr(d,t);return Om(n,d,new Qd(dm(p),C))}return[]}(n,e._path,i):function Tm(n,t){return mc(n,new Qd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function _b(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return oh(n,e,null,d)}}}}function ah(n,t){const e=sp(t);return n.queryToTagMap.get(e)}function sp(n){return n._path.toString()+"$"+n._queryIdentifier}function Pm(n,t){return n.tagToQueryMap.get(t)}function xm(n){const t=n.indexOf("$");return(0,U.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new _n(n.substr(0,t))}}function Om(n,t,e){const i=n.syncPointTree_.get(t);return(0,U.hu)(i,"Missing sync point for query tag that we're tracking"),Im(i,e,Xf(n.pendingWriteTree_,t),null)}function _c(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function sh(){return(0,U.hu)(rp,"Reference.ts has not been loaded"),rp}())(n._repo,n._path):n}class op{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new op(e)}node(){return this.node_}}class Nm{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=In(this.path_,t);return new Nm(this.syncTree_,e)}node(){return ip(this.syncTree_,this.path_)}}const CI=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},Gv=function(n,t,e){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?km(n[".sv"],t,e):"object"==typeof n[".sv"]?Fm(n[".sv"],t):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},km=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},Fm=function(n,t,e){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,U.hu)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,U.hu)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const p=a.getValue();return"number"!=typeof p?i:p+i},Lm=function(n,t,e,i){return Um(t,new Nm(e,n),i)},lh=function(n,t,e){return Um(n,new op(t),e)};function Um(n,t,e){const i=n.getPriority().val(),a=Gv(i,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const p=n,C=Gv(p.getValue(),t,e);return C!==p.getValue()||a!==p.getPriority().val()?new $d(C,$n(a)):n}{const p=n;return d=p,a!==p.getPriority().val()&&(d=d.updatePriority(new $d(a))),p.forEachChild(Ht,(C,b)=>{const A=Um(b,t.getImmediateChild(C),e);A!==b&&(d=d.updateImmediateChild(C,A))}),d}}class Vm{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function yc(n,t){let e=t instanceof _n?t:new _n(t),i=n,a=Yt(e);for(;null!==a;){const d=(0,U.DV)(i.node.children,a)||{children:{},childCount:0};i=new Vm(a,i,d),e=En(e),a=Yt(e)}return i}function ru(n){return n.node.value}function ap(n,t){n.node.value=t,Bm(n)}function iu(n){return n.node.childCount>0}function lp(n,t){or(n.node.children,(e,i)=>{t(new Vm(e,n,i))})}function EI(n,t,e,i){e&&!i&&t(n),lp(n,a=>{EI(a,t,!0,i)}),e&&i&&t(n)}function su(n){return new _n(null===n.parent?n.name:su(n.parent)+"/"+n.name)}function Bm(n){null!==n.parent&&function Hm(n,t,e){const i=function zv(n){return void 0===ru(n)&&!iu(n)}(e),a=(0,U.r3)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,Bm(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Bm(n))}(n.parent,n.name,n)}const II=/[\[\].#$\/\u0000-\u001F\u007F]/,qv=/[\[\].#$\u0000-\u001F\u007F]/,uh=10485760,ch=function(n){return"string"==typeof n&&0!==n.length&&!II.test(n)},jm=function(n){return"string"==typeof n&&0!==n.length&&!qv.test(n)},vc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Tf(n)||n&&"object"==typeof n&&(0,U.r3)(n,".sv")},Qs=function(n,t,e,i){i&&void 0===t||dh((0,U.gK)(n,"value"),t,e)},dh=function(n,t,e){const i=e instanceof _n?new ov(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Aa(i));if("function"==typeof t)throw new Error(n+"contains a function "+Aa(i)+" with contents = "+t.toString());if(Tf(t))throw new Error(n+"contains "+t.toString()+" "+Aa(i));if("string"==typeof t&&t.length>uh/3&&(0,U.ug)(t)>uh)throw new Error(n+"contains a string greater than "+uh+" utf8 bytes "+Aa(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(or(t,(p,C)=>{if(".value"===p)a=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!ch(p)))throw new Error(n+" contains an invalid key ("+p+") "+Aa(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nm(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,U.ug)(t),lv(n)})(i,p),dh(n,C,i),function av(n){const t=n.parts_.pop();n.byteLength_-=(0,U.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&d)throw new Error(n+' contains ".value" child '+Aa(i)+" in addition to actual children.")}},Yv=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,U.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];or(t,(p,C)=>{const b=new _n(p);if(dh(a,C,In(e,b)),".priority"===ac(b)&&!vc(C))throw new Error(a+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const d=Zl(i);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!ch(d[p]))throw new Error(n+"contains an invalid key ("+d[p]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(sv);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&xi(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,d)},up=function(n,t,e){if(!e||void 0!==t){if(Tf(t))throw new Error((0,U.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vc(t))throw new Error((0,U.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cp=function(n,t,e,i){if(!(i&&void 0===e||ch(e)))throw new Error((0,U.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Cc=function(n,t,e,i){if(!(i&&void 0===e||jm(e)))throw new Error((0,U.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bI=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Cc(n,t,e,i)},ts=function(n,t){if(".info"===Yt(t))throw new Error(n+" failed = Can't modify data under /.info/")},DI=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ch(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jm(n)}(e))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class TI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dp(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],d=a.getPath();null!==e&&!Ld(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function Qv(n,t,e){dp(n,e),$m(n,i=>Ld(i,t))}function ki(n,t,e){dp(n,e),$m(n,i=>xi(i,t)||xi(t,i))}function $m(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(SI(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function SI(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();No&&Sr("event: "+e.toString()),ba(i)}}}const Jv="repo_interrupt",AI=25;class MI{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new TI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jf(),this.transactionQueueTree_=new Vm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xv(n){const e=n.infoData_.getNode(new _n(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hh(n){return CI({timestamp:Xv(n)})}function Ec(n,t,e,i,a){n.dataUpdateCount++;const d=new _n(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let p=[];if(a)if(i){const b=(0,U.UI)(e,A=>$n(A));p=function mI(n,t,e,i){const a=Pm(n,i);if(a){const d=xm(a),p=d.path,C=d.queryId,b=Wr(p,t),A=wn.fromObject(e);return Om(n,p,new dc(dm(C),b,A))}return[]}(n.serverSyncTree_,d,b,a)}else{const b=$n(e);p=Sm(n.serverSyncTree_,d,b,a)}else if(i){const b=(0,U.UI)(e,A=>$n(A));p=function pI(n,t,e){const i=wn.fromObject(e);return mc(n,new dc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,d,b)}else{const b=$n(e);p=gc(n.serverSyncTree_,d,b)}let C=d;p.length>0&&(C=Ic(n,d)),ki(n.eventQueue_,C,p)}function Wm(n,t){hp(n,"connected",t),!1===t&&function bb(n){ni(n,"onDisconnectEvents");const t=hh(n),e=jf();Yd(n.onDisconnect_,hn(),(a,d)=>{const p=Lm(a,d,n.serverSyncTree_,t);Yl(e,a,p)});let i=[];Yd(e,hn(),(a,d)=>{i=i.concat(gc(n.serverSyncTree_,a,d));const p=mp(n,a);Ic(n,p)}),n.onDisconnect_=jf(),ki(n.eventQueue_,hn(),i)}(n)}function hp(n,t,e){const i=new _n("/.info/"+t),a=$n(e);n.infoData_.updateSnapshot(i,a);const d=gc(n.infoSyncTree_,i,a);ki(n.eventQueue_,i,d)}function fh(n){return n.nextWriteId_++}function fp(n,t,e,i,a){ni(n,"set",{path:t.toString(),value:e,priority:i});const d=hh(n),p=$n(e,i),C=ip(n.serverSyncTree_,t),b=lh(p,C,d),A=fh(n),B=Dm(n.serverSyncTree_,t,b,A,!0);dp(n.eventQueue_,B),n.server_.put(t.toString(),p.val(!0),(se,Me)=>{const $e="ok"===se;$e||Ar("set at "+t+" failed: "+se);const mt=ka(n.serverSyncTree_,A,!$e);ki(n.eventQueue_,t,mt),Fa(0,a,se,Me)});const z=mp(n,t);Ic(n,z),ki(n.eventQueue_,z,[])}function xI(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&$f(n.onDisconnect_,t),Fa(0,e,i,a)})}function Gm(n,t,e,i){const a=$n(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,p)=>{"ok"===d&&Yl(n.onDisconnect_,t,a),Fa(0,i,d,p)})}function ou(n,t,e){let i;i=".info"===Yt(t._path)?oh(n.infoSyncTree_,t,e):oh(n.serverSyncTree_,t,e),Qv(n.eventQueue_,t._path,i)}function rC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Jv)}function ni(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Sr(e,...t)}function Fa(n,t,e,i){t&&ba(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;i&&(d+=": "+i);const p=new Error(d);p.code=a,t(p)}})}function au(n,t,e){return ip(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function pp(n,t=n.transactionQueueTree_){if(t||gh(n,t),ru(t)){const e=iC(n,t);(0,U.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function kI(n,t,e){const i=e.map(A=>A.currentWriteId),a=au(n,t,i);let d=a;const p=a.hash();for(let A=0;A<e.length;A++){const B=e[A];(0,U.hu)(0===B.status,"tryToSendTransactionQueue_: items in queue should all be run."),B.status=1,B.retryCount++;const z=Wr(t,B.path);d=d.updateChild(z,B.currentOutputSnapshotRaw)}const C=d.val(!0),b=t;n.server_.put(b.toString(),C,A=>{ni(n,"transaction put response",{path:b.toString(),status:A});let B=[];if("ok"===A){const z=[];for(let se=0;se<e.length;se++)e[se].status=2,B=B.concat(ka(n.serverSyncTree_,e[se].currentWriteId)),e[se].onComplete&&z.push(()=>e[se].onComplete(null,!0,e[se].currentOutputSnapshotResolved)),e[se].unwatcher();gh(n,yc(n.transactionQueueTree_,t)),pp(n,n.transactionQueueTree_),ki(n.eventQueue_,t,B);for(let se=0;se<z.length;se++)ba(z[se])}else{if("datastale"===A)for(let z=0;z<e.length;z++)e[z].status=3===e[z].status?4:0;else{Ar("transaction at "+b.toString()+" failed: "+A);for(let z=0;z<e.length;z++)e[z].status=4,e[z].abortReason=A}Ic(n,t)}},p)}(n,su(t),e)}else iu(t)&&lp(t,e=>{pp(n,e)})}function Ic(n,t){const e=ph(n,t),i=su(e);return function gp(n,t,e){if(0===t.length)return;const i=[];let a=[];const p=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const b=t[C],A=Wr(e,b.path);let z,B=!1;if((0,U.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)B=!0,z=b.abortReason,a=a.concat(ka(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=AI)B=!0,z="maxretry",a=a.concat(ka(n.serverSyncTree_,b.currentWriteId,!0));else{const se=au(n,b.path,p);b.currentInputSnapshot=se;const Me=t[C].update(se.val());if(void 0!==Me){dh("transaction failed: Data returned ",Me,b.path);let $e=$n(Me);"object"==typeof Me&&null!=Me&&(0,U.r3)(Me,".priority")||($e=$e.updatePriority(se.getPriority()));const Rt=b.currentWriteId,Un=hh(n),Vn=lh($e,se,Un);b.currentOutputSnapshotRaw=$e,b.currentOutputSnapshotResolved=Vn,b.currentWriteId=fh(n),p.splice(p.indexOf(Rt),1),a=a.concat(Dm(n.serverSyncTree_,b.path,Vn,b.currentWriteId,b.applyLocally)),a=a.concat(ka(n.serverSyncTree_,Rt,!0))}else B=!0,z="nodata",a=a.concat(ka(n.serverSyncTree_,b.currentWriteId,!0))}ki(n.eventQueue_,e,a),a=[],B&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&i.push("nodata"===z?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(z),!1,null)))}gh(n,n.transactionQueueTree_);for(let C=0;C<i.length;C++)ba(i[C]);pp(n,n.transactionQueueTree_)}(n,iC(n,e),i),i}function ph(n,t){let e,i=n.transactionQueueTree_;for(e=Yt(t);null!==e&&void 0===ru(i);)i=yc(i,e),e=Yt(t=En(t));return i}function iC(n,t){const e=[];return sC(n,t,e),e.sort((i,a)=>i.order-a.order),e}function sC(n,t,e){const i=ru(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);lp(t,a=>{sC(n,a,e)})}function gh(n,t){const e=ru(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,ap(t,e.length>0?e:void 0)}lp(t,i=>{gh(n,i)})}function mp(n,t){const e=su(ph(n,t)),i=yc(n.transactionQueueTree_,t);return function Zv(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{mh(n,a)}),mh(n,i),EI(i,a=>{mh(n,a)}),e}function mh(n,t){const e=ru(t);if(e){const i=[];let a=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,U.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,U.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),a=a.concat(ka(n.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&i.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?ap(t,void 0):e.length=d+1,ki(n.eventQueue_,su(t),a);for(let p=0;p<i.length;p++)ba(i[p])}}const _h=function(n,t){const e=aC(n),i=e.namespace;return"firebase.com"===e.domain&&gr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $g(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new _n(e.pathString)}},aC=function(n){let t="",e="",i="",a="",d="",p=!0,C="https",b=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(C=n.substring(0,A-1),n=n.substring(A+2));let B=n.indexOf("/");-1===B&&(B=n.length);let z=n.indexOf("?");-1===z&&(z=n.length),t=n.substring(0,Math.min(B,z)),B<z&&(a=function oC(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(B,z)));const se=function qm(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ar(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,z)));A=t.indexOf(":"),A>=0?(p="https"===C||"wss"===C,b=parseInt(t.substring(A+1),10)):A=t.length;const Me=t.slice(0,A);if("localhost"===Me.toLowerCase())e="localhost";else if(Me.split(".").length<=2)e=Me;else{const $e=t.indexOf(".");i=t.substring(0,$e).toLowerCase(),e=t.substring($e+1),d=i}"ns"in se&&(d=se.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:p,scheme:C,pathString:a,namespace:d}},_p="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Km=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=_p.charAt(e%64),e=Math.floor(e/64);(0,U.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)p+=_p.charAt(t[a]);return(0,U.hu)(20===p.length,"nextPushId: Length should be 20."),p}}();class lC{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,U.Wl)(this.snapshot.exportVal())}}class uC{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ym{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,U.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class cC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new U.BH;return xI(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ts("OnDisconnect.remove",this._path);const t=new U.BH;return Gm(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ts("OnDisconnect.set",this._path),Qs("OnDisconnect.set",t,this._path,!1);const e=new U.BH;return Gm(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ts("OnDisconnect.setWithPriority",this._path),Qs("OnDisconnect.setWithPriority",t,this._path,!1),up("OnDisconnect.setWithPriority",e,!1);const i=new U.BH;return function OI(n,t,e,i,a){const d=$n(e,i);n.server_.onDisconnectPut(t.toString(),d.val(!0),(p,C)=>{"ok"===p&&Yl(n.onDisconnect_,t,d),Fa(0,a,p,C)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ts("OnDisconnect.update",this._path),Yv("OnDisconnect.update",t,this._path,!1);const e=new U.BH;return function nC(n,t,e,i){if((0,U.xb)(e))return Sr("onDisconnect().update() called with empty data.  Don't do anything."),void Fa(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&or(e,(p,C)=>{const b=$n(C);Yl(n.onDisconnect_,In(t,p),b)}),Fa(0,i,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ri{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return Zt(this._path)?null:ac(this._path)}get ref(){return new Fi(this._repo,this._path)}get _queryIdentifier(){const t=lm(this._queryParams),e=Ug(t);return"{}"===e?"default":e}get _queryObject(){return lm(this._queryParams)}isEqual(t){if(!((t=(0,U.m9)(t))instanceof ri))return!1;const e=this._repo===t._repo,i=Ld(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Pf(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function wc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Uo(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===vs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==wa)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ko)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===Ht){if(null!=t&&!vc(t)||null!=e&&!vc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,U.hu)(n.getIndex()instanceof Uf||n.getIndex()===Vf,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function yh(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Fi extends ri{constructor(t,e){super(t,e,new Zd,!1)}get parent(){const t=iv(this._path);return null===t?null:new Fi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class La{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new _n(t),i=Ua(this.ref,t);return new La(this._node.getChild(e),i,Ht)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new La(a,Ua(this.ref,i),Ht)))}hasChild(t){const e=new _n(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dC(n,t){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==t?Ua(n._root,t):n._root}function Qm(n,t){(n=(0,U.m9)(n))._checkNotDeleted("refFromURL");const e=_h(t,n._repo.repoInfo_.nodeAdmin);DI("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gr("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),dC(n,e.path.toString())}function Ua(n,t){return null===Yt((n=(0,U.m9)(n))._path)?bI("child","path",t,!1):Cc("child","path",t,!1),new Fi(n._repo,In(n._path,t))}function Fr(n,t){n=(0,U.m9)(n),ts("set",n._path),Qs("set",t,n._path,!1);const e=new U.BH;return fp(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function LI(n,t){Yv("update",t,n._path,!1);const e=new U.BH;return function PI(n,t,e,i){ni(n,"update",{path:t.toString(),value:e});let a=!0;const d=hh(n),p={};if(or(e,(C,b)=>{a=!1,p[C]=Lm(In(t,C),$n(b),n.serverSyncTree_,d)}),a)Sr("update() called with empty data.  Don't do anything."),Fa(0,i,"ok",void 0);else{const C=fh(n),b=function Hv(n,t,e,i){!function fc(n,t,e,i){(0,U.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Yf(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=wn.fromObject(e);return mc(n,new dc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,p,C);dp(n.eventQueue_,b),n.server_.merge(t.toString(),e,(A,B)=>{const z="ok"===A;z||Ar("update at "+t+" failed: "+A);const se=ka(n.serverSyncTree_,C,!z),Me=se.length>0?Ic(n,t):t;ki(n.eventQueue_,Me,se),Fa(0,i,A,B)}),or(e,A=>{const B=mp(n,In(t,A));Ic(n,B)}),ki(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Tb(n){n=(0,U.m9)(n);const t=new Ym(()=>{}),e=new yp(t);return function tC(n,t,e){const i=function Mm(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(A,B)=>{const z=Wr(A,e);i=i||Oa(B,z)});let a=n.syncPointTree_.get(e);a?i=i||Oa(a,hn()):(a=new lI,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=i,p=d?new Ra(i,!0,!1):null;return function xv(n){return Kf(n.viewCache_)}(wm(a,t,Xf(n.pendingWriteTree_,t._path),d?p.getNode():At.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(a=>{const d=$n(a).withIndex(t._queryParams.getIndex());let p;if(Am(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())p=gc(n.serverSyncTree_,t._path,d);else{const C=ah(n.serverSyncTree_,t);p=Sm(n.serverSyncTree_,t._path,d,C)}return ki(n.eventQueue_,t._path,p),oh(n.serverSyncTree_,t,e,null,!0),d},a=>(ni(n,"get for query "+(0,U.Wl)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(i=>new La(i,new Fi(n._repo,n._path),n._queryParams.getIndex()))}class yp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new lC("value",this,new La(t.snapshotNode,new Fi(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uC(this,t,e):null}matches(t){return t instanceof yp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class vh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new uC(this,t,e):null}createEvent(t,e){(0,U.hu)(null!=t.childName,"Child events should have a childName.");const i=Ua(new Fi(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new lC(t.type,this,new La(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof vh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lu(n,t,e,i,a){let d;if("object"==typeof i&&(d=void 0,a=i),"function"==typeof i&&(d=i),a&&a.onlyOnce){const b=e,A=(B,z)=>{ou(n._repo,n,C),b(B,z)};A.userCallback=e.userCallback,A.context=e.context,e=A}const p=new Ym(e,d||void 0),C="value"===t?new yp(p):new vh(t,p);return function NI(n,t,e){let i;i=".info"===Yt(t._path)?Am(n.infoSyncTree_,t,e):Am(n.serverSyncTree_,t,e),Qv(n.eventQueue_,t._path,i)}(n._repo,n,C),()=>ou(n._repo,n,C)}function uu(n,t,e,i){return lu(n,"value",t,e,i)}function pC(n,t,e,i){return lu(n,"child_added",t,e,i)}function vp(n,t,e,i){return lu(n,"child_changed",t,e,i)}function gC(n,t,e,i){return lu(n,"child_moved",t,e,i)}function Jm(n,t,e,i){return lu(n,"child_removed",t,e,i)}function mC(n,t,e){let i=null;const a=e?new Ym(e):null;"value"===t?i=new yp(a):t&&(i=new vh(t,a)),ou(n._repo,n,i)}class Cs{}class _C extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("endAt",this._value,t._path,!0);const e=Kl(t._queryParams,this._value,this._key);if(yh(e),Uo(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ri(t._repo,t._path,e,t._orderByCalled)}}class yC extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("endBefore",this._value,t._path,!1);const e=function j0(n,t,e){let i;return i=Kl(n,t,n.index_===vs||e?e:wa),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(yh(e),Uo(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ri(t._repo,t._path,e,t._orderByCalled)}}class Ch extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("startAt",this._value,t._path,!0);const e=om(t._queryParams,this._value,this._key);if(yh(e),Uo(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ri(t._repo,t._path,e,t._orderByCalled)}}class Sb extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("startAfter",this._value,t._path,!1);const e=function am(n,t,e){let i;return i=om(n,t,n.index_===vs||e?e:ko),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(yh(e),Uo(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ri(t._repo,t._path,e,t._orderByCalled)}}class UI extends Cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ri(t._repo,t._path,function B0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Dc extends Cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ri(t._repo,t._path,function H0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class IC extends Cs{constructor(t){super(),this._path=t}_apply(t){wc(t,"orderByChild");const e=new _n(this._path);if(Zt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Uf(e),a=qd(t._queryParams,i);return Uo(a),new ri(t._repo,t._path,a,!0)}}class Ab extends Cs{_apply(t){wc(t,"orderByKey");const e=qd(t._queryParams,vs);return Uo(e),new ri(t._repo,t._path,e,!0)}}class Mb extends Cs{_apply(t){wc(t,"orderByPriority");const e=qd(t._queryParams,Ht);return Uo(e),new ri(t._repo,t._path,e,!0)}}class jI extends Cs{_apply(t){wc(t,"orderByValue");const e=qd(t._queryParams,Vf);return Uo(e),new ri(t._repo,t._path,e,!0)}}class wC extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _C(this._value,this._key)._apply(new Ch(this._value,this._key)._apply(t))}}function Es(n,...t){let e=(0,U.m9)(n);for(const i of t)e=i._apply(e);return e}(function Uv(n){(0,U.hu)(!Em,"__referenceConstructor has already been defined"),Em=n})(Fi),function hI(n){(0,U.hu)(!rp,"__referenceConstructor has already been defined"),rp=n}(Fi);const DC="FIREBASE_DATABASE_EMULATOR_HOST",Cp={};let TC=!1;function n_(n,t,e,i,a){let d=i||n.options.databaseURL;void 0===d&&(n.options.projectId||gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sr("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,A,p=_h(d,a),C=p.repoInfo;typeof process<"u"&&process.env&&(A=process.env[DC]),A?(b=!0,d=`http://${A}?ns=${C.namespace}`,p=_h(d,a),C=p.repoInfo):b=!p.repoInfo.secure;const B=a&&b?new Od(Od.OWNER):new xd(n.name,n.options,t);DI("Invalid Firebase Database URL",p),Zt(p.path)||gr("Database URL must point to the root of a Firebase Database (not including a child path).");const z=function SC(n,t,e,i){let a=Cp[t.name];a||(a={},Cp[t.name]=a);let d=a[n.toURLString()];return d&&gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new MI(n,TC,e,i),a[n.toURLString()]=d,d}(C,n,B,new Sf(n.name,e));return new MC(z,n)}class MC{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function RI(n,t,e){if(n.stats_=Fd(n.repoInfo_),n.forceRestClient_||Fo())n.server_=new Kd(n.repoInfo_,(i,a,d,p)=>{Ec(n,i,a,d,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Wm(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ma(n.repoInfo_,t,(i,a,d,p)=>{Ec(n,i,a,d,p)},i=>{Wm(n,i)},i=>{!function eC(n,t){or(t,(e,i)=>{hp(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function b0(n,t){const e=n.toString();return Wg[e]||(Wg[e]=t()),Wg[e]}(n.repoInfo_,()=>new Cv(n.stats_,n.server_)),n.infoData_=new Hf,n.infoSyncTree_=new bm({startListening:(i,a,d,p)=>{let C=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(C=gc(n.infoSyncTree_,i._path,b),setTimeout(()=>{p("ok")},0)),C},stopListening:()=>{}}),hp(n,"connected",!1),n.serverSyncTree_=new bm({startListening:(i,a,d,p)=>(n.server_.listen(i,d,a,(C,b)=>{const A=p(C,b);ki(n.eventQueue_,i._path,A)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fi(this._repo,hn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function GI(n,t){const e=Cp[t];(!e||e[n.key]!==n)&&gr(`Database ${t}(${n.repoInfo_}) has already been deleted.`),rC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gr("Cannot call "+t+" on a deleted database.")}}function r_(){Wl.IS_TRANSPORT_INITIALIZED&&Ar("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zI(){r_(),Ji.forceDisallow()}function ZI(){r_(),Ta.forceDisallow(),Ji.forceAllow()}function xb(n,t){Ly(n,t)}const Nb={".sv":"timestamp"};class Lb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ma.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ma.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ob(n){Ny(Ia.SDK_VERSION),(0,Ia._registerComponent)(new Ea.wA("database",(t,{instanceIdentifier:e})=>n_(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ia.registerVersion)(Oy,"0.14.4",n),(0,Ia.registerVersion)(Oy,"0.14.4","esm2017")}();const PC=new bf.Yd("@firebase/database-compat"),KI=function(n){PC.warn("FIREBASE WARNING: "+n)};class YI{constructor(t){this._delegate=t}cancel(t){(0,U.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,U.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,U.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,U.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,U.Dv)("OnDisconnect.set",1,2,arguments.length),(0,U.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,U.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,U.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),d=>i(d)),a}update(t,e){if((0,U.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,KI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,U.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class Ub{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,U.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class cu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,U.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,U.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,U.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,U.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,U.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Cc("DataSnapshot.child","path",t,!1),new cu(this._database,this._delegate.child(t))}hasChild(t){return(0,U.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Cc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,U.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,U.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,U.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new cu(this._database,e)))}hasChildren(){return(0,U.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,U.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,U.Dv)("DataSnapshot.ref",0,0,arguments.length),new Li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Lr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var d;(0,U.Dv)("Query.on",2,4,arguments.length),(0,U.Wj)("Query.on","callback",e,!1);const p=Lr.getCancelAndContextArgs_("Query.on",i,a),C=(A,B)=>{e.call(p.context,new cu(this.database,A),B)};C.userCallback=e,C.context=p.context;const b=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return uu(this._delegate,C,b),e;case"child_added":return pC(this._delegate,C,b),e;case"child_removed":return Jm(this._delegate,C,b),e;case"child_changed":return vp(this._delegate,C,b),e;case"child_moved":return gC(this._delegate,C,b),e;default:throw new Error((0,U.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,U.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,U.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,U.Wj)("Query.off","callback",e,!0),(0,U.lb)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,mC(this._delegate,t,a)}else mC(this._delegate,t)}get(){return Tb(this._delegate).then(t=>new cu(this.database,t))}once(t,e,i,a){(0,U.Dv)("Query.once",1,4,arguments.length),(0,U.Wj)("Query.once","callback",e,!0);const d=Lr.getCancelAndContextArgs_("Query.once",i,a),p=new U.BH,C=(A,B)=>{const z=new cu(this.database,A);e&&e.call(d.context,z,B),p.resolve(z)};C.userCallback=e,C.context=d.context;const b=A=>{d.cancel&&d.cancel.call(d.context,A),p.reject(A)};switch(t){case"value":uu(this._delegate,C,b,{onlyOnce:!0});break;case"child_added":pC(this._delegate,C,b,{onlyOnce:!0});break;case"child_removed":Jm(this._delegate,C,b,{onlyOnce:!0});break;case"child_changed":vp(this._delegate,C,b,{onlyOnce:!0});break;case"child_moved":gC(this._delegate,C,b,{onlyOnce:!0});break;default:throw new Error((0,U.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,U.Dv)("Query.limitToFirst",1,1,arguments.length),new Lr(this.database,Es(this._delegate,function EC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new UI(n)}(t)))}limitToLast(t){return(0,U.Dv)("Query.limitToLast",1,1,arguments.length),new Lr(this.database,Es(this._delegate,function VI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Dc(n)}(t)))}orderByChild(t){return(0,U.Dv)("Query.orderByChild",1,1,arguments.length),new Lr(this.database,Es(this._delegate,function t_(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Cc("orderByChild","path",n,!1),new IC(n)}(t)))}orderByKey(){return(0,U.Dv)("Query.orderByKey",0,0,arguments.length),new Lr(this.database,Es(this._delegate,function BI(){return new Ab}()))}orderByPriority(){return(0,U.Dv)("Query.orderByPriority",0,0,arguments.length),new Lr(this.database,Es(this._delegate,function HI(){return new Mb}()))}orderByValue(){return(0,U.Dv)("Query.orderByValue",0,0,arguments.length),new Lr(this.database,Es(this._delegate,function $I(){return new jI}()))}startAt(t=null,e){return(0,U.Dv)("Query.startAt",0,2,arguments.length),new Lr(this.database,Es(this._delegate,function e_(n=null,t){return cp("startAt","key",t,!0),new Ch(n,t)}(t,e)))}startAfter(t=null,e){return(0,U.Dv)("Query.startAfter",0,2,arguments.length),new Lr(this.database,Es(this._delegate,function CC(n,t){return cp("startAfter","key",t,!0),new Sb(n,t)}(t,e)))}endAt(t=null,e){return(0,U.Dv)("Query.endAt",0,2,arguments.length),new Lr(this.database,Es(this._delegate,function Xm(n,t){return cp("endAt","key",t,!0),new _C(n,t)}(t,e)))}endBefore(t=null,e){return(0,U.Dv)("Query.endBefore",0,2,arguments.length),new Lr(this.database,Es(this._delegate,function vC(n,t){return cp("endBefore","key",t,!0),new yC(n,t)}(t,e)))}equalTo(t,e){return(0,U.Dv)("Query.equalTo",1,2,arguments.length),new Lr(this.database,Es(this._delegate,function bC(n,t){return cp("equalTo","key",t,!0),new wC(n,t)}(t,e)))}toString(){return(0,U.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,U.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,U.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Lr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,U.Wj)(t,"cancel",a.cancel,!0),a.context=i,(0,U.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,U.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Li(this.database,new Fi(this._delegate._repo,this._delegate._path))}}class Li extends Lr{constructor(t,e){super(t,new ri(e._repo,e._path,new Zd,!1)),this.database=t,this._delegate=e}getKey(){return(0,U.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,U.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Li(this.database,Ua(this._delegate,t))}getParent(){(0,U.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Li(this.database,t):null}getRoot(){return(0,U.Dv)("Reference.root",0,0,arguments.length),new Li(this.database,this._delegate.root)}set(t,e){(0,U.Dv)("Reference.set",1,2,arguments.length),(0,U.Wj)("Reference.set","onComplete",e,!0);const i=Fr(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,U.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,KI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ts("Reference.update",this._delegate._path),(0,U.Wj)("Reference.update","onComplete",e,!0);const i=LI(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,U.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,U.Wj)("Reference.setWithPriority","onComplete",i,!0);const a=function FI(n,t,e){if(ts("setWithPriority",n._path),Qs("setWithPriority",t,n._path,!1),up("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new U.BH;return fp(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),d=>i(d)),a}remove(t){(0,U.Dv)("Reference.remove",0,1,arguments.length),(0,U.Wj)("Reference.remove","onComplete",t,!0);const e=function fC(n){return ts("remove",n._path),Fr(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,U.Dv)("Reference.transaction",1,3,arguments.length),(0,U.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,U.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,U.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function Ep(n,t,e){var i;if(n=(0,U.m9)(n),ts("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,d=new U.BH,C=uu(n,()=>{});return function Zm(n,t,e,i,a,d){ni(n,"transaction on "+t);const p={path:t,update:e,onComplete:i,status:null,order:kg(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=au(n,t,void 0);p.currentInputSnapshot=C;const b=p.update(C.val());if(void 0===b)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{dh("transaction failed: Data returned ",b,p.path),p.status=0;const A=yc(n.transactionQueueTree_,t),B=ru(A)||[];let z;B.push(p),ap(A,B),"object"==typeof b&&null!==b&&(0,U.r3)(b,".priority")?(z=(0,U.DV)(b,".priority"),(0,U.hu)(vc(z),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):z=(ip(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const se=hh(n),Me=$n(b,z),$e=lh(Me,C,se);p.currentOutputSnapshotRaw=Me,p.currentOutputSnapshotResolved=$e,p.currentWriteId=fh(n);const mt=Dm(n.serverSyncTree_,t,$e,p.currentWriteId,p.applyLocally);ki(n.eventQueue_,t,mt),pp(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,A,B)=>{let z=null;b?d.reject(b):(z=new La(B,new Fi(n._repo,n._path),Ht),d.resolve(new Lb(A,z)))},C,a),d.promise}(this._delegate,t,{applyLocally:i}).then(d=>new Ub(d.committed,new cu(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,U.Dv)("Reference.setPriority",1,2,arguments.length),(0,U.Wj)("Reference.setPriority","onComplete",e,!0);const i=function bc(n,t){n=(0,U.m9)(n),ts("setPriority",n._path),up("setPriority",t,!1);const e=new U.BH;return fp(n._repo,In(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,U.Dv)("Reference.push",0,2,arguments.length),(0,U.Wj)("Reference.push","onComplete",e,!0);const i=function hC(n,t){n=(0,U.m9)(n),ts("push",n._path),Qs("push",t,n._path,!0);const e=Xv(n._repo),i=Km(e),a=Ua(n,i),d=Ua(n,i);let p;return p=null!=t?Fr(d,t).then(()=>d):Promise.resolve(d),a.then=p.then.bind(p),a.catch=p.then.bind(p,void 0),a}(this._delegate,t),a=i.then(p=>new Li(this.database,p));e&&a.then(()=>e(null),p=>e(p));const d=new Li(this.database,i);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return ts("Reference.onDisconnect",this._delegate._path),new YI(new cC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Va{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zI,forceLongPolling:ZI}}useEmulator(t,e,i={}){!function i_(n,t,e,i={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gr("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Od(Od.OWNER);else if(i.mockUserToken){const p="string"==typeof i.mockUserToken?i.mockUserToken:(0,U.Sg)(i.mockUserToken,n.app.options.projectId);d=new Od(p)}!function WI(n,t,e,i){n.repoInfo_=new $g(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(a,t,e,d)}(this._delegate,t,e,i)}ref(t){if((0,U.Dv)("database.ref",0,1,arguments.length),t instanceof Li){const e=Qm(this._delegate,t.toString());return new Li(this,e)}{const e=dC(this._delegate,t);return new Li(this,e)}}refFromURL(t){(0,U.Dv)("database.refFromURL",1,1,arguments.length);const i=Qm(this._delegate,t);return new Li(this,i)}goOffline(){return(0,U.Dv)("database.goOffline",0,0,arguments.length),function Rb(n){(n=(0,U.m9)(n))._checkNotDeleted("goOffline"),rC(n._repo)}(this._delegate)}goOnline(){return(0,U.Dv)("database.goOnline",0,0,arguments.length),function Pb(n){(n=(0,U.m9)(n))._checkNotDeleted("goOnline"),function zm(n){n.persistentConnection_&&n.persistentConnection_.resume(Jv)}(n._repo)}(this._delegate)}}Va.ServerValue={TIMESTAMP:function kb(){return Nb}(),increment:n=>function Fb(n){return{".sv":{increment:n}}}(n)};var Vb=Object.freeze({__proto__:null,initStandalone:function QI({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:d=!1}){Ny(e);const p=new Ea.zt("auth-internal",new Ea.H0("database-standalone"));return p.setComponent(new Ea.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Va(n_(n,p,void 0,t,d),n),namespace:a}}});const Bb=Va.ServerValue;!function Hb(n){n.INTERNAL.registerComponent(new Ea.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Va(a,i)},"PUBLIC").setServiceProps({Reference:Li,Query:Lr,Database:Va,DataSnapshot:cu,enableLogging:xb,INTERNAL:Vb,ServerValue:Bb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(C0.Z);var wp=L(5363),JI=L(6063);class XI extends br.x{constructor(t=1/0,e=1/0,i=JI.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:p}=this;e||(i.push(t),!a&&i.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:a}=this,d=a.slice();for(let p=0;p<d.length&&!t.closed;p+=i?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<i.length&&i.splice(0,i.length-d),!a){const p=e.now();let C=0;for(let b=1;b<i.length&&i[b]<=p;b+=2)C=b;C&&i.splice(0,C+1)}}}function ew(n,t,e){let i,a=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):i=n??1/0,(0,If.B)({connector:()=>new XI(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function OC(n,t){return(0,Us.m)(t)?rr(()=>n,t):rr(()=>n)}var bp=L(9468);L(259);const d_=new Map,h_={activated:!1,tokenObservers:[]},ow={initialized:!1,enabled:!1};function mr(n){return d_.get(n)||Object.assign({},h_)}function bs(){return ow}const Dp="https://content-firebaseappcheck.googleapis.com/v1",aw="exchangeDebugToken",lw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class cw{constructor(t,e,i,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Bl.Z)(function*(){e.stop();try{e.pending=new U.BH,yield function dw(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new U.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Gr=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function FC(n,t){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Bl.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const z=yield a.getHeartbeatsHeader();z&&(i["X-Firebase-Client"]=z)}const d={method:"POST",body:JSON.stringify(t),headers:i};let p,C;try{p=yield fetch(n,d)}catch(z){throw Gr.create("fetch-network-error",{originalErrorMessage:z?.message})}if(200!==p.status)throw Gr.create("fetch-status-error",{httpStatus:p.status});try{C=yield p.json()}catch(z){throw Gr.create("fetch-parse-error",{originalErrorMessage:z?.message})}const b=C.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const A=1e3*Number(b[1]),B=Date.now();return{token:C.token,expireTimeMillis:B+A,issuedAtTimeMillis:B}})).apply(this,arguments)}const BC="firebase-app-check-database",HC=1,Ba="firebase-app-check-store";let bh=null;function __(n,t){return y_.apply(this,arguments)}function y_(){return(y_=(0,Bl.Z)(function*(n,t){const i=(yield function jC(){return bh||(bh=new Promise((n,t)=>{try{const e=indexedDB.open(BC,HC);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;t(Gr.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ba,{keyPath:"compositeKey"})}}catch(e){t(Gr.create("storage-open",{originalErrorMessage:e?.message}))}}),bh)}()).transaction(Ba,"readwrite"),d=i.objectStore(Ba).put({compositeKey:n,value:t});return new Promise((p,C)=>{d.onsuccess=b=>{p()},i.onerror=b=>{var A;C(Gr.create("storage-set",{originalErrorMessage:null===(A=b.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const Tp=new bf.Yd("@firebase/app-check");function GC(n,t){return(0,U.hl)()?function zb(n,t){return __(function pw(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Tp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ZC(){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,Bl.Z)(function*(){const n=bs();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qC={error:"UNKNOWN_ERROR"};function C_(n){return U.US.encodeString(JSON.stringify(n),!1)}function Sc(n){return E_.apply(this,arguments)}function E_(){return(E_=(0,Bl.Z)(function*(n,t=!1){const e=n.app;!function g_(n){if(!mr(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}(e);const i=mr(e);let d,a=i.token;if(a&&!Ah(a)&&(i.token=void 0,a=void 0),!a){const b=yield i.cachedTokenPromise;b&&(Ah(b)?a=b:yield GC(e,void 0))}if(!t&&a&&Ah(a))return{token:a.token};let C,p=!1;if(function zC(){return bs().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=FC(function VC(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`${Dp}/projects/${e}/apps/${i}:${aw}?key=${a}`,body:{debug_token:t}}}(e,yield ZC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),p=!0);const b=yield i.exchangeTokenPromise;return yield GC(e,b),i.token=b,{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),p=!0),a=yield mr(e).exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Tp.warn(b.message):Tp.error(b),d=b}return a?d?C=Ah(a)?{token:a.token,internalError:d}:_w(d):(C={token:a.token},i.token=a,yield GC(e,a)):C=_w(d),p&&function mw(n,t){const e=mr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,C),C})).apply(this,arguments)}function Th(n,t){const e=mr(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Sh(n){const{app:t}=n,e=mr(t);let i=e.tokenRefresher;i||(i=function Yb(n){const{app:t}=n;return new cw((0,Bl.Z)(function*(){let i;if(i=mr(t).token?yield Sc(n,!0):yield Sc(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=mr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},lw.RETRIAL_MIN_WAIT,lw.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Ah(n){return n.expireTimeMillis-Date.now()>0}function _w(n){return{token:C_(qC),error:n}}class KC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=mr(this.app);for(const e of t)Th(this.app,e.next);return Promise.resolve()}}const Tw="app-check-internal";!function tD(){(0,Ia._registerComponent)(new Ea.wA("app-check",n=>function yw(n,t){return new KC(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Tw).initialize()})),(0,Ia._registerComponent)(new Ea.wA(Tw,n=>function vw(n){return{getToken:t=>Sc(n,t),addTokenListener:t=>function Dh(n,t,e,i){const{app:a}=n,d=mr(a);if(d.tokenObservers=[...d.tokenObservers,{next:e,error:i,type:t}],d.token&&Ah(d.token)){const C=d.token;Promise.resolve().then(()=>{e({token:C.token}),Sh(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Sh(n))}(n,"INTERNAL",t),removeTokenListener:t=>Th(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ia.registerVersion)("@firebase/app-check","0.6.4")}();class oE{constructor(){return(0,Qi.vb)("app-check")}}typeof window<"u"&&window,L(9260);const at=new u.OlP("angularfire2.auth.use-emulator"),wt=new u.OlP("angularfire2.auth.settings"),Fe=new u.OlP("angularfire2.auth.tenant-id"),Nt=new u.OlP("angularfire2.auth.langugage-code"),Rn=new u.OlP("angularfire2.auth.use-device-language"),Gn=new u.OlP("angularfire.auth.persistence"),Aw=(n,t,e,i,a,d,p,C)=>(0,Pi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=a,d&&b.useDeviceLanguage(),p)for(const[A,B]of Object.entries(p))b.settings[A]=B;return C&&b.setPersistence(C),b},[e,i,a,d,p,C]);let Mw=(()=>{class n{constructor(e,i,a,d,p,C,b,A,B,z,se,Me){const $e=new br.x,mt=it(void 0).pipe((0,wp.Q)(p.outsideAngular),rr(()=>d.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,9568)))),(0,Dt.U)(()=>(0,Pi.on)(e,d,i)),(0,Dt.U)(Rt=>Aw(Rt,d,C,A,B,z,b,se)),ew({bufferSize:1,refCount:!1}));if(function Uc(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{mt.pipe(Ai()).subscribe();const Un=mt.pipe(rr(zn=>zn.getRedirectResult().then(Js=>Js,()=>null)),Qi.iC,ew({bufferSize:1,refCount:!1})),Vn=mt.pipe(rr(zn=>new hr.y(Js=>({unsubscribe:d.runOutsideAngular(()=>zn.onAuthStateChanged(Oh=>Js.next(Oh),Oh=>Js.error(Oh),()=>Js.complete()))})))),ii=mt.pipe(rr(zn=>new hr.y(Js=>({unsubscribe:d.runOutsideAngular(()=>zn.onIdTokenChanged(Oh=>Js.next(Oh),Oh=>Js.error(Oh),()=>Js.complete()))}))));this.authState=Un.pipe(OC(Vn),(0,bp.R)(p.outsideAngular),(0,wp.Q)(p.insideAngular)),this.user=Un.pipe(OC(ii),(0,bp.R)(p.outsideAngular),(0,wp.Q)(p.insideAngular)),this.idToken=this.user.pipe(rr(zn=>zn?(0,nn.D)(zn.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(rr(zn=>zn?(0,nn.D)(zn.getIdTokenResult()):it(null))),this.credential=(0,Vl.T)(Un,$e,this.authState.pipe(_s(zn=>!zn))).pipe((0,Dt.U)(zn=>zn?.user?zn:null),(0,bp.R)(p.outsideAngular),(0,wp.Q)(p.insideAngular))}return(0,Pi.pX)(this,mt,d,{spy:{apply:(Rt,Un,Vn)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&Vn.then(ii=>$e.next(ii))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pi.Dh),u.LFG(Pi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qi.HU),u.LFG(at,8),u.LFG(wt,8),u.LFG(Fe,8),u.LFG(Nt,8),u.LFG(Rn,8),u.LFG(Gn,8),u.LFG(oE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function nD(n){return null==n}function rD(n){return"function"==typeof n.set}function iD(n,t){return rD(t)?t:n.ref(t)}function sD(n,t){if(function CT(n){return"string"==typeof n}(n))return t.stringCase();if(rD(n))return t.firebaseCase();if(function ET(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function b_(n,t,e="on",i=Ag.z){return new hr.y(a=>{let d=null;return d=n[e](t,(p,C)=>{i.schedule(()=>{a.next({snapshot:p,prevKey:C})}),"once"===e&&i.schedule(()=>a.complete())},p=>{i.schedule(()=>a.error(p))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,Dt.U)(a=>{const{snapshot:d,prevKey:p}=a;let C=null;return d.exists()&&(C=d.key),{type:t,payload:d,prevKey:p,key:C}}),(0,If.B)())}function oD(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function bT(n,t){const{payload:e,prevKey:i,key:a}=t,d=oD(n,a),p=function wT(n,t){if(nD(t))return 0;{const e=oD(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(b=>{const A={payload:b,type:"value",prevKey:C,key:b.key};return C=b.key,n=[...n,A],!1})}return n;case"child_added":if(d>-1){const C=n[d-1];(C&&C.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(p,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(p,0,t)}return n;case"child_removed":return n.filter(C=>C.payload.key!==e.key);case"child_changed":return n.map(C=>C.payload.key===a?t:C);case"child_moved":if(d>-1){const C=n.splice(d,1)[0];return(n=n.slice()).splice(p,0,C),n}return n;default:return n}}function aD(n){return(nD(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function lD(n,t,e){return function IT(n,t,e){return b_(n,"value","once",e).pipe(rr(i=>{const a=[it(i)];return t.forEach(d=>a.push(b_(n,d,"on",e))),(0,Vl.T)(...a).pipe(Qc(bT,[]))}),function wf(n,t=Jr.y){return n=n??xy,(0,jn.e)((e,i)=>{let a,d=!0;e.subscribe((0,K.x)(i,p=>{const C=t(p);(d||!n(a,C))&&(d=!1,a=C,i.next(p))}))})}())}(n,t=aD(t),e)}function uD(n,t,e){const i=(t=aD(t)).map(a=>b_(n,a,"on",e));return(0,Vl.T)(...i)}function cD(n,t){return function(i,a){return sD(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function AT(n){return function(e){return e?sD(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function dD(n,t){return function(){return b_(n,"value","on",t)}}const PT=new u.OlP("angularfire2.realtimeDatabaseURL"),xT=new u.OlP("angularfire2.database.use-emulator");let OT=(()=>{class n{constructor(e,i,a,d,p,C,b,A,B,z,se,Me,$e,mt,Rt){this.schedulers=C;const Un=b,Vn=(0,Pi.on)(e,p,i);A&&Aw(Vn,p,B,se,Me,$e,z,mt),this.database=(0,Pi.cc)(`${Vn.name}.database.${a}`,"AngularFireDatabase",Vn.name,()=>{const ii=p.runOutsideAngular(()=>Vn.database(a||void 0));return Un&&ii.useEmulator(...Un),ii},[Un])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>iD(this.database,e));let d=a;return i&&(d=i(a)),function MT(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:cD(i,"update"),set:cD(i,"set"),push:a=>i.push(a),remove:AT(i),snapshotChanges:a=>lD(n,a,e).pipe(Qi.iC),stateChanges:a=>uD(n,a,e).pipe(Qi.iC),auditTrail:a=>function DT(n,t,e){return function ST(n,t,e){return function TT(n,t){return b_(n,"value","on",t).pipe((0,Dt.U)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Rg(...n){const t=(0,Ti.jO)(n);return(0,jn.e)((e,i)=>{const a=n.length,d=new Array(a);let p=n.map(()=>!1),C=!1;for(let b=0;b<a;b++)(0,Wn.Xf)(n[b]).subscribe((0,K.x)(i,A=>{d[b]=A,!C&&!p[b]&&(p[b]=!0,(C=p.every(Jr.y))&&(p=null))},Mg.Z));e.subscribe((0,K.x)(i,b=>{if(C){const A=[b,...d];i.next(t?t(...A):A)}}))})}(t),(0,Dt.U)(([a,d])=>{const p=a.lastKeyToLoad,C=d.map(b=>b.key);return{actions:d,lastKeyToLoad:p,loadedKeys:C}}),function Pg(n){return(0,jn.e)((t,e)=>{let i=!1,a=0;t.subscribe((0,K.x)(e,d=>(i||(i=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Dt.U)(a=>a.actions))}(n,uD(n,t).pipe(Qc((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Qi.iC),valueChanges:(a,d)=>lD(n,a,e).pipe((0,Dt.U)(C=>C.map(b=>d&&d.idField?Object.assign(Object.assign({},b.payload.val()),{[d.idField]:b.key}):b.payload.val())),Qi.iC)}}(d,this)}object(e){return function RT(n,t){return{query:n,snapshotChanges:()=>dD(n,t.schedulers.outsideAngular)().pipe(Qi.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>dD(n,t.schedulers.outsideAngular)().pipe(Qi.iC,(0,Dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>iD(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Pi.Dh),u.LFG(Pi.xv,8),u.LFG(PT,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Qi.HU),u.LFG(xT,8),u.LFG(Mw,8),u.LFG(at,8),u.LFG(wt,8),u.LFG(Fe,8),u.LFG(Nt,8),u.LFG(Rn,8),u.LFG(Gn,8),u.LFG(oE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aE=(()=>{class n{constructor(e){this.db=e}getAll(){return this.db.list("/products").snapshotChanges().pipe((0,Dt.U)(e=>e.map(i=>({id:i.payload.key,...i.payload.val()}))))}get(e){return this.db.object("/products/"+e).snapshotChanges().pipe((0,Dt.U)(i=>({id:i.payload?.key,...i.payload.val()})))}update(e,i){this.db.object("products/"+e).update(i)}add(e){this.db.list("/products").push(e)}delete(e){this.db.object("/products/"+e).remove()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(OT))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var NT=L(3432);let Mh=(()=>{class n{constructor(e,i){this.fireauth=e,this.router=i,this.isLoggedIn=!0}updateLoginStatus(e){this.isLoggedIn=e}ngOnInit(){}login(e,i){this.fireauth.signInWithEmailAndPassword(e,i).then(a=>{localStorage.setItem("token","true"),this.router.navigate(["/main"])},a=>{alert("Nesto je krenulo naopako!!!"),this.router.navigate(["/login"])})}register(e,i){this.fireauth.createUserWithEmailAndPassword(e,i).then(a=>{alert("Registration Successful"),this.sendEmailForVarification(a.user),this.router.navigate(["/login"])},a=>{alert(a.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},e=>{alert(e.message)})}forgotPassword(e){this.fireauth.sendPasswordResetEmail(e).then(()=>{this.router.navigate(["/verify-email"])},i=>{window.alert("Something Went Wrong")})}sendEmailForVarification(e){console.log(e),e.sendEmailVerification().then(i=>{this.router.navigate(["/verify-email"])},i=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new NT.U).then(e=>{this.router.navigate(["/main"]),localStorage.setItem("token",JSON.stringify(e.user?.uid))},e=>{alert(e.message)})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mw),u.LFG(Tr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Rh=(()=>{class n extends hD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ha=new u.OlP("NgValueAccessor"),LT={provide:Ha,useExisting:(0,u.Gpc)(()=>ja),multi:!0},VT=new u.OlP("CompositionEventMode");let ja=(()=>{class n extends hD{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function UT(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(VT,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[u._Bn([LT]),u.qOj]}),n})();const BT=!1;function Ac(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function pD(n){return null!=n&&"number"==typeof n.length}const mi=new u.OlP("NgValidators"),Mc=new u.OlP("NgAsyncValidators"),HT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lE{static min(t){return function gD(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function mD(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return _D(t)}static requiredTrue(t){return function yD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function vD(n){return Ac(n.value)||HT.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function CD(n){return t=>Ac(t.value)||!pD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ED(n){return t=>pD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function ID(n){if(!n)return uE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ac(i.value))return null;const a=i.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return AD(t)}static composeAsync(t){return MD(t)}}function _D(n){return Ac(n.value)?{required:!0}:null}function uE(n){return null}function wD(n){return null!=n}function bD(n){const t=(0,u.QGY)(n)?(0,nn.D)(n):n;if(BT&&!(0,u.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,e)}return t}function DD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function TD(n,t){return t.map(e=>e(n))}function SD(n){return n.map(t=>function jT(n){return!n.validate}(t)?t:e=>t.validate(e))}function AD(n){if(!n)return null;const t=n.filter(wD);return 0==t.length?null:function(e){return DD(TD(e,t))}}function Rw(n){return null!=n?AD(SD(n)):null}function MD(n){if(!n)return null;const t=n.filter(wD);return 0==t.length?null:function(e){return function kT(...n){const t=(0,Ti.jO)(n),{args:e,keys:i}=ms(n),a=new hr.y(d=>{const{length:p}=e;if(!p)return void d.complete();const C=new Array(p);let b=p,A=p;for(let B=0;B<p;B++){let z=!1;(0,Wn.Xf)(e[B]).subscribe((0,K.x)(d,se=>{z||(z=!0,A--),C[B]=se},()=>b--,void 0,()=>{(!b||!z)&&(A||d.next(i?H(i,C):C),d.complete())}))}});return t?a.pipe(S(t)):a}(TD(e,t).map(bD)).pipe((0,Dt.U)(DD))}}function Pw(n){return null!=n?MD(SD(n)):null}function RD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function PD(n){return n._rawValidators}function xD(n){return n._rawAsyncValidators}function xw(n){return n?Array.isArray(n)?n:[n]:[]}function cE(n,t){return Array.isArray(n)?n.includes(t):n===t}function OD(n,t){const e=xw(t);return xw(n).forEach(a=>{cE(e,a)||e.push(a)}),e}function ND(n,t){return xw(t).filter(e=>!cE(n,e))}class kD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ui extends kD{get formDirective(){return null}get path(){return null}}class Rc extends kD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pc=(()=>{class n extends FD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Rc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),xc=(()=>{class n extends FD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ui,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();function LD(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const kw=!1,D_="VALID",hE="INVALID",Rp="PENDING",T_="DISABLED";function Fw(n){return(fE(n)?n.validators:n)||null}function Lw(n,t){return(fE(t)?t.asyncValidators:n)||null}function fE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function UD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new u.vHH(1e3,kw?function zT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new u.vHH(1001,kw?function ZT(n,t){return`Cannot find form control ${LD(n,t)}`}(t,e):"")}function VD(n,t,e){n._forEachChild((i,a)=>{if(void 0===e[a])throw new u.vHH(1002,kw?function qT(n,t){return`Must supply a value for form control ${LD(n,t)}`}(t,a):"")})}class pE{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===D_}get invalid(){return this.status===hE}get pending(){return this.status==Rp}get disabled(){return this.status===T_}get enabled(){return this.status!==T_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(OD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(OD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ND(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ND(t,this._rawAsyncValidators))}hasValidator(t){return cE(this._rawValidators,t)}hasAsyncValidator(t){return cE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Rp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=T_,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=D_,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===D_||this.status===Rp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?T_:D_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Rp,this._hasOwnPendingAsyncValidator=!0;const e=bD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?T_:this.errors?hE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rp)?Rp:this._anyControlsHaveStatus(hE)?hE:D_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function KT(n){return Array.isArray(n)?Rw(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function YT(n){return Array.isArray(n)?Pw(n):n||null}(this._rawAsyncValidators)}}class S_ extends pE{constructor(t,e,i){super(Fw(e),Lw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){VD(this,!0,t),Object.keys(t).forEach(i=>{UD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const a=this.controls[i];a&&a.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,a)=>((i.enabled||this.disabled)&&(e[a]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((a,d)=>{i=e(i,a,d)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class BD extends S_{}const Ph=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>A_}),A_="always";function gE(n,t){return[...t.path,n]}function M_(n,t,e=A_){Uw(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function JT(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HD(n,t)})}(n,t),function eS(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function XT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function QT(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function mE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),yE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _E(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Uw(n,t){const e=PD(n);null!==t.validator?n.setValidators(RD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xD(n);null!==t.asyncValidator?n.setAsyncValidators(RD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();_E(t._rawValidators,a),_E(t._rawAsyncValidators,a)}function yE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=PD(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=xD(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(p=>p!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const i=()=>{};return _E(t._rawValidators,i),_E(t._rawAsyncValidators,i),e}function HD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jD(n,t){Uw(n,t)}function Bw(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function $D(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Hw(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(d=>{d.constructor===ja?e=d:function rS(n){return Object.getPrototypeOf(n.constructor)===Rh}(d)?i=d:a=d}),a||i||e||null}const sS={provide:Ui,useExisting:(0,u.Gpc)(()=>hu)},R_=(()=>Promise.resolve())();let hu=(()=>{class n extends Ui{constructor(e,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new S_({},Rw(e),Pw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){R_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),M_(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){R_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){R_.then(()=>{const i=this._findContainer(e.path),a=new S_({});jD(a,e),i.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){R_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){R_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$D(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(mi,10),u.Y36(Mc,10),u.Y36(Ph,8))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&u.NdJ("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([sS]),u.qOj]}),n})();function WD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function GD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const P_=class extends pE{constructor(t=null,e,i){super(Fw(e),Lw(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fE(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=GD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){WD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){WD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){GD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},lS={provide:Rc,useExisting:(0,u.Gpc)(()=>Oc)},qD=(()=>Promise.resolve())();let Oc=(()=>{class n extends Rc{constructor(e,i,a,d,p,C){super(),this._changeDetectorRef=p,this.callSetDisabledState=C,this.control=new P_,this._registered=!1,this.update=new u.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=Hw(0,d)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Bw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){M_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){qD.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,u.D6c)(i);qD.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?gE(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Ui,9),u.Y36(mi,10),u.Y36(Mc,10),u.Y36(Ha,10),u.Y36(u.sBO,8),u.Y36(Ph,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([lS]),u.qOj,u.TTD]}),n})(),Nc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const uS={provide:Ha,useExisting:(0,u.Gpc)(()=>vE),multi:!0};let vE=(()=>{class n extends Rh{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&u.NdJ("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[u._Bn([uS]),u.qOj]}),n})(),KD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const jw=new u.OlP("NgModelWithFormControlWarning"),pS={provide:Ui,useExisting:(0,u.Gpc)(()=>CE)};let CE=(()=>{class n extends Ui{constructor(e,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return M_(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){mE(e.control||null,e,!1),function iS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$D(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,a=this.form.get(e.path);i!==a&&(mE(i||null,e),(n=>n instanceof P_)(a)&&(M_(a,e,this.callSetDisabledState),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);jD(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function tS(n,t){return yE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Uw(this.form,this),this._oldForm&&yE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(mi,10),u.Y36(Mc,10),u.Y36(Ph,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&u.NdJ("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([pS]),u.qOj,u.TTD]}),n})();const _S={provide:Rc,useExisting:(0,u.Gpc)(()=>Gw)};let Gw=(()=>{class n extends Rc{set isDisabled(e){}constructor(e,i,a,d,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=Hw(0,d)}ngOnChanges(e){this._added||this._setUpControl(),Bw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return gE(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(u.Y36(Ui,13),u.Y36(mi,10),u.Y36(Mc,10),u.Y36(Ha,10),u.Y36(jw,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([_S]),u.qOj,u.TTD]}),n})(),xh=(()=>{class n{constructor(){this._validator=uE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const TS={provide:mi,useExisting:(0,u.Gpc)(()=>EE),multi:!0};let EE=(()=>{class n extends xh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=e=>_D}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([TS]),u.qOj]}),n})(),dT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[KD]}),n})();class hT extends pE{constructor(t,e,i){super(Fw(e),Lw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),e&&(this.controls.splice(a,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){VD(this,!1,t),t.forEach((i,a)=>{UD(this,!1,a),this.at(a).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,a)=>{this.at(a)&&this.at(a).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,a)=>{i.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function fT(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let xS=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const a=this._reduceControls(e);let d={};return fT(i)?d=i:null!==i&&(d.validators=i.validator,d.asyncValidators=i.asyncValidator),new S_(a,d)}record(e,i=null){const a=this._reduceControls(e);return new BD(a,i)}control(e,i,a){let d={};return this.useNonNullable?(fT(i)?d=i:(d.validators=i,d.asyncValidators=a),new P_(e,{...d,nonNullable:!0})):new P_(e,i,a)}array(e,i,a){const d=e.map(p=>this._createControl(p));return new hT(d,i,a)}_reduceControls(e){const i={};return Object.keys(e).forEach(a=>{i[a]=this._createControl(e[a])}),i}_createControl(e){return e instanceof P_||e instanceof pE?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ph,useValue:e.callSetDisabledState??A_}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dT]}),n})(),NS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ph,useValue:e.callSetDisabledState??A_}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[dT]}),n})();function kS(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(e),u.oxw(3);const a=u.MAs(1);return u.KtG(a.previous())})("click",function(){u.CHM(e),u.oxw(3);const a=u.MAs(1);return u.KtG(a.previous())}),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()}if(2&n){const e=u.oxw(3);u.xp6(1),u.hij(" ",e.previousLabel," "),u.xp6(2),u.Oqu(e.screenReaderPageLabel)}}function FS(n,t){if(1&n&&(u.TgZ(0,"span",14),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()),2&n){const e=u.oxw(3);u.xp6(1),u.hij(" ",e.previousLabel," "),u.xp6(2),u.Oqu(e.screenReaderPageLabel)}}function LS(n,t){if(1&n&&(u.TgZ(0,"li",9),u.YNc(1,kS,4,2,"a",10),u.YNc(2,FS,4,2,"span",11),u.qZA()),2&n){u.oxw(2);const e=u.MAs(1);u.ekj("disabled",e.isFirstPage()),u.xp6(1),u.Q6J("ngIf",1<e.getCurrent()),u.xp6(1),u.Q6J("ngIf",e.isFirstPage())}}function US(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(e);const a=u.oxw().$implicit;u.oxw(2);const d=u.MAs(1);return u.KtG(d.setCurrent(a.value))})("click",function(){u.CHM(e);const a=u.oxw().$implicit;u.oxw(2);const d=u.MAs(1);return u.KtG(d.setCurrent(a.value))}),u.TgZ(1,"span",13),u._uU(2),u.qZA(),u.TgZ(3,"span"),u._uU(4),u.ALo(5,"number"),u.qZA()()}if(2&n){const e=u.oxw().$implicit,i=u.oxw(2);u.xp6(2),u.hij("",i.screenReaderPageLabel," "),u.xp6(2),u.Oqu("..."===e.label?e.label:u.xi3(5,2,e.label,""))}}function VS(n,t){if(1&n&&(u.ynx(0),u.TgZ(1,"span",16)(2,"span",13),u._uU(3),u.qZA(),u.TgZ(4,"span"),u._uU(5),u.ALo(6,"number"),u.qZA()(),u.BQk()),2&n){const e=u.oxw().$implicit,i=u.oxw(2);u.xp6(3),u.hij("",i.screenReaderCurrentLabel," "),u.xp6(2),u.Oqu("..."===e.label?e.label:u.xi3(6,2,e.label,""))}}function BS(n,t){if(1&n&&(u.TgZ(0,"li"),u.YNc(1,US,6,5,"a",10),u.YNc(2,VS,7,5,"ng-container",15),u.qZA()),2&n){const e=t.$implicit;u.oxw(2);const i=u.MAs(1);u.ekj("current",i.getCurrent()===e.value)("ellipsis","..."===e.label),u.xp6(1),u.Q6J("ngIf",i.getCurrent()!==e.value),u.xp6(1),u.Q6J("ngIf",i.getCurrent()===e.value)}}function HS(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"a",12),u.NdJ("keyup.enter",function(){u.CHM(e),u.oxw(3);const a=u.MAs(1);return u.KtG(a.next())})("click",function(){u.CHM(e),u.oxw(3);const a=u.MAs(1);return u.KtG(a.next())}),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()}if(2&n){const e=u.oxw(3);u.xp6(1),u.hij(" ",e.nextLabel," "),u.xp6(2),u.Oqu(e.screenReaderPageLabel)}}function jS(n,t){if(1&n&&(u.TgZ(0,"span",14),u._uU(1),u.TgZ(2,"span",13),u._uU(3),u.qZA()()),2&n){const e=u.oxw(3);u.xp6(1),u.hij(" ",e.nextLabel," "),u.xp6(2),u.Oqu(e.screenReaderPageLabel)}}function $S(n,t){if(1&n&&(u.TgZ(0,"li",17),u.YNc(1,HS,4,2,"a",10),u.YNc(2,jS,4,2,"span",11),u.qZA()),2&n){u.oxw(2);const e=u.MAs(1);u.ekj("disabled",e.isLastPage()),u.xp6(1),u.Q6J("ngIf",!e.isLastPage()),u.xp6(1),u.Q6J("ngIf",e.isLastPage())}}function WS(n,t){if(1&n&&(u.TgZ(0,"ul",4),u.YNc(1,LS,3,4,"li",5),u.TgZ(2,"li",6),u._uU(3),u.qZA(),u.YNc(4,BS,3,6,"li",7),u.YNc(5,$S,3,4,"li",8),u.qZA()),2&n){const e=u.oxw(),i=u.MAs(1);u.ekj("responsive",e.responsive),u.xp6(1),u.Q6J("ngIf",e.directionLinks),u.xp6(2),u.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),u.xp6(1),u.Q6J("ngForOf",i.pages)("ngForTrackBy",e.trackByIndex),u.xp6(1),u.Q6J("ngIf",e.directionLinks)}}class qw{constructor(){this.change=new u.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)}updateInstance(t){let e=!1;for(let i in this.instances[t.id])t[i]!==this.instances[t.id][i]&&(this.instances[t.id][i]=t[i],e=!0);return e}getCurrentPage(t){return this.instances[t]?this.instances[t].currentPage:1}setCurrentPage(t,e){if(this.instances[t]){let i=this.instances[t];e<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}}setTotalItems(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))}setItemsPerPage(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))}getInstance(t=this.DEFAULT_ID){return this.instances[t]?this.clone(this.instances[t]):{}}clone(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}}const GS=Number.MAX_SAFE_INTEGER;let zS=(()=>{class n{constructor(e){this.service=e,this.state={}}transform(e,i){if(!(e instanceof Array)){let z=i.id||this.service.defaultId();return this.state[z]?this.state[z].slice:e}let C,b,a=i.totalItems&&i.totalItems!==e.length,d=this.createInstance(e,i),p=d.id,A=d.itemsPerPage,B=this.service.register(d);if(!a&&e instanceof Array){if(A=+A||GS,C=(d.currentPage-1)*A,b=C+A,this.stateIsIdentical(p,e,C,b))return this.state[p].slice;{let se=e.slice(C,b);return this.saveState(p,e,se,C,b),this.service.change.emit(p),se}}return B&&this.service.change.emit(p),this.saveState(p,e,e,C,b),e}createInstance(e,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||e.length}}checkConfig(e){const a=["itemsPerPage","currentPage"].filter(d=>!(d in e));if(0<a.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${a.join(", ")}`)}saveState(e,i,a,d,p){this.state[e]={collection:i,size:i.length,slice:a,start:d,end:p}}stateIsIdentical(e,i,a,d){let p=this.state[e];return!(!p||p.size!==i.length||p.start!==a||p.end!==d)&&p.slice.every((b,A)=>b===i[a+A])}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(qw,16))},n.\u0275pipe=u.Yjl({name:"paginate",type:n,pure:!1}),n})(),ZS=(()=>{class n{constructor(e,i){this.service=e,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(a=>{this.id===a&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(e);i!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){const i=Math.ceil(e.totalItems/e.itemsPerPage);return i<e.currentPage&&0<i?i:e.currentPage<1?1:e.currentPage}createPageArray(e,i,a,d){d=+d;let p=[];const C=Math.max(Math.ceil(a/i),1),b=Math.ceil(d/2),A=e<=b,B=C-b<e,z=!A&&!B;let se=d<C,Me=1;for(;Me<=C&&Me<=d;){let $e,mt=this.calculatePageNumber(Me,e,d,C);$e=se&&(2===Me&&(z||B)||Me===d-1&&(z||A))?"...":mt,p.push({label:$e,value:mt}),Me++}return p}calculatePageNumber(e,i,a,d){let p=Math.ceil(a/2);return e===a?d:1===e?e:a<d?d-p<i?d-a+e:p<i?i-p+e:e:e}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(qw),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[u.TTD]}),n})();function Kw(n){return!!n&&"false"!==n}let qS=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new u.vpe,this.pageBoundsCorrection=new u.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=Kw(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=Kw(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=Kw(e)}trackByIndex(e){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,i){if(1&e&&(u.TgZ(0,"pagination-template",0,1),u.NdJ("pageChange",function(d){return i.pageChange.emit(d)})("pageBoundsCorrection",function(d){return i.pageBoundsCorrection.emit(d)}),u.TgZ(2,"nav",2),u.YNc(3,WS,6,8,"ul",3),u.qZA()()),2&e){const a=u.MAs(1);u.Q6J("id",i.id)("maxSize",i.maxSize),u.xp6(2),u.uIk("aria-label",i.screenReaderPaginationLabel),u.xp6(1),u.Q6J("ngIf",!(i.autoHide&&a.pages.length<=1))}},dependencies:[ZS,Ur,Tn,Fc],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[qw],imports:[[ro]]}),n})(),YS=(()=>{class n{transform(e,i){return i&&e?n.filter(e,i):e}static filter(e,i){const a=i.toLowerCase();function d(p,C){for(let b in p)if(null!==p[b]&&null!=p[b]&&("object"==typeof p[b]&&d(p[b],C)||p[b].toString().toLowerCase().includes(a)))return!0;return!1}return e.filter(function(p){return d(p,i)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=u.Yjl({name:"filter",type:n,pure:!1}),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),QS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function JS(n,t){if(1&n&&(u.TgZ(0,"div")(1,"div",12)(2,"div",13),u._uU(3),u.qZA(),u.TgZ(4,"ul",14)(5,"li",15),u._uU(6),u.qZA(),u.TgZ(7,"li",15),u._uU(8),u.qZA(),u.TgZ(9,"li",15),u._uU(10),u.ALo(11,"currency"),u.qZA()(),u.TgZ(12,"div",16)(13,"a",17),u._uU(14,"Details"),u.qZA()()()()),2&n){const e=t.$implicit;u.xp6(3),u.hij(" ",e.name," "),u.xp6(3),u.hij("Name: ",e.name,""),u.xp6(2),u.hij(" Short descr: ",e.productId," "),u.xp6(2),u.hij(" Price: ",u.gM2(11,5,e.price,"USD","symbol","1.2-2")," "),u.xp6(3),u.MGl("routerLink","product/",e.id,"")}}const XS=function(n,t){return{itemsPerPage:7,currentPage:n,totalItems:t}};let eA=(()=>{class n{constructor(e,i,a,d){this.productService=e,this.route=i,this.router=a,this.auth=d,this.showDeletedMessage=!0,this.page=1,this.sortDirectionPrice=1,this.products=[],this.product={},this.filteredName=[],this.sortDirection=1}ngOnInit(){this.productService.getAll().subscribe(e=>{this.products=e})}sortName(){this.products.sort((e,i)=>e.name&&i.name?this.sortDirection*e.name.localeCompare(i.name):0),this.sortDirection=-this.sortDirection}sortPrice(){this.products.sort((e,i)=>e.price&&i.price?this.sortDirectionPrice*(e.price-i.price):0),this.sortDirectionPrice=-this.sortDirectionPrice}exportToCsv(){const e=Xu.unparse(this.products),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),d=URL.createObjectURL(i);a.setAttribute("href",d),a.setAttribute("download","books.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(aE),u.Y36(_a),u.Y36(Tr),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-product-list"]],decls:23,vars:11,consts:[[1,"container"],["myFunction",""],[1,"text-center"],["type","text","placeholder","serach",1,"search","form-control","border","border-primary","my-5",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","mx-5",3,"click"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","button",1,"btn","btn-warning","x-5",3,"click"],[1,"d-flex","justify-content-center","flex-wrap","my-5"],[4,"ngFor","ngForOf"],[1,"text-center","pag","my-5",3,"pageChange"],["type","button",1,"btn","btn-warning","tocsv",3,"click"],[1,"card","my-3"],[1,"card-header","bg-danger"],[1,"list-group","list-group-flush"],[1,"list-group-item","bg-info"],[1,"card-footer","bg-warning"],[1,"btn","btn-primary",3,"routerLink"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0,1)(2,"h1",2),u._uU(3,"Phone"),u.qZA(),u.TgZ(4,"div")(5,"input",3),u.NdJ("ngModelChange",function(d){return i.searchText=d}),u.qZA()(),u.TgZ(6,"div")(7,"button",4),u.NdJ("click",function(){return i.sortName()}),u._uU(8," Sort Name"),u._UZ(9,"i",5)(10,"i",6),u.qZA(),u.TgZ(11,"button",7),u.NdJ("click",function(){return i.sortPrice()}),u._uU(12," Sort Price "),u._UZ(13,"i",5)(14,"i",6),u.qZA()()(),u._UZ(15,"hr"),u.TgZ(16,"div",8),u.YNc(17,JS,15,10,"div",9),u.ALo(18,"paginate"),u.ALo(19,"filter"),u.qZA(),u.TgZ(20,"pagination-controls",10),u.NdJ("pageChange",function(d){return i.page=d}),u.qZA(),u.TgZ(21,"button",11),u.NdJ("click",function(){return i.exportToCsv()}),u._uU(22," Export to CSV\n"),u.qZA()),2&e&&(u.xp6(5),u.Q6J("ngModel",i.searchText),u.xp6(12),u.Q6J("ngForOf",u.xi3(18,2,u.xi3(19,5,i.products,i.searchText),u.WLB(8,XS,i.page,i.totalLength))))},dependencies:[Tn,xo,ja,Pc,Oc,qS,Wi,YS,zS],styles:[".card[_ngcontent-%COMP%]{width:500px;margin-right:20px}.tocsv[_ngcontent-%COMP%]{background-color:#b22222}"]}),n})(),Yw=(()=>{class n{constructor(){this.items=[],this.cartItemCount=new Dr(0)}addToCart(e){this.items.push(e),this.cartItemCount.next(this.items.length)}getItems(){return this.items}clearCart(){return this.items=[],this.items}deleteItem(e){this.items.splice(e,1),this.cartItemCount.next(this.items.length)}deleteProduct(e){const i=this.items.findIndex(a=>a.id===e.id);-1!==i&&(this.items.splice(i,1),this.cartItemCount.next(this.items.length))}getItemQuantity(e){let i=0;return this.items.forEach(a=>{a.id===e.id&&i++}),i}getCartItemCount(){return this.cartItemCount}updateCartItemCount(){this.cartItemCount.next(0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tA=["myTable"];function nA(n,t){1&n&&(u.TgZ(0,"div")(1,"p",5),u._uU(2,"Your current Cart includes these items:"),u.qZA()())}function rA(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.ALo(5,"currency"),u.qZA(),u.TgZ(6,"td")(7,"a",23),u.NdJ("click",function(){const d=u.CHM(e).$implicit,p=u.oxw(2);return u.KtG(p.onDelete(d.product))}),u._UZ(8,"i",24),u.qZA()(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td")(12,"a",23),u.NdJ("click",function(){const d=u.CHM(e).$implicit,p=u.oxw(2);return u.KtG(p.onAddToCart(d.product))}),u._UZ(13,"i",25),u.qZA()(),u.TgZ(14,"td"),u._uU(15),u.qZA()()}if(2&n){const e=t.$implicit,i=t.index,a=u.oxw(2);u.xp6(2),u.Oqu(e.product.name),u.xp6(2),u.hij(" ",u.gM2(5,5,e.product.price,"USD","symbol","1.2-2")," "),u.xp6(6),u.Oqu(e.quantity),u.xp6(5),u.AsE(" ",a.calculatePrice(i),"",a.totalPR,"\n")}}function iA(n,t){1&n&&(u.TgZ(0,"p",26),u._uU(1," Name is Required "),u.qZA())}function sA(n,t){1&n&&(u.TgZ(0,"p",26),u._uU(1," Address is Required "),u.qZA())}function oA(n,t){1&n&&(u.TgZ(0,"p",26),u._uU(1," Email is Required "),u.qZA())}function aA(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",4)(1,"h1",5),u._uU(2,"Checkout"),u.qZA(),u._UZ(3,"hr"),u.YNc(4,nA,3,0,"div",6),u.TgZ(5,"table",7,8)(7,"thead",9)(8,"tr")(9,"th"),u._uU(10,"Name"),u.qZA(),u.TgZ(11,"th"),u._uU(12,"Price per piece"),u.qZA(),u.TgZ(13,"th"),u._uU(14,"Remove"),u.qZA(),u.TgZ(15,"th"),u._uU(16,"Quantity"),u.qZA(),u.TgZ(17,"th"),u._uU(18,"Add to cart "),u.qZA(),u.TgZ(19,"th"),u._uU(20,"Price"),u.qZA()()(),u.TgZ(21,"tbody"),u.YNc(22,rA,16,10,"tr",10),u.qZA()(),u.TgZ(23,"div",11)(24,"p",12,8),u._uU(26),u.ALo(27,"currency"),u.qZA()(),u.TgZ(28,"p",5),u._uU(29,"Your Data address"),u.qZA(),u.TgZ(30,"form",13),u.NdJ("ngSubmit",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.submitForm(a.checkoutForm.value))}),u.TgZ(31,"div",14)(32,"label",15),u._uU(33,"Name"),u.qZA(),u._UZ(34,"input",16),u.qZA(),u.YNc(35,iA,2,0,"p",17),u.TgZ(36,"div",14)(37,"label",18),u._uU(38,"Address"),u.qZA(),u._UZ(39,"input",19),u.qZA(),u.YNc(40,sA,2,0,"p",17),u.TgZ(41,"div",14)(42,"label",20),u._uU(43,"E-mail"),u.qZA(),u._UZ(44,"input",21),u.qZA(),u.YNc(45,oA,2,0,"p",17),u.TgZ(46,"button",22),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.purcashe())}),u._uU(47," Purcashe "),u.qZA()()()}if(2&n){const e=u.oxw(),i=u.MAs(4);u.xp6(4),u.Q6J("ngIf",e.cartItems.length>0)("ngIfElse",i),u.xp6(18),u.Q6J("ngForOf",e.cartItems),u.xp6(4),u.hij(" Total price: ",u.gM2(27,9,e.totalPrice,"USD","symbol","1.2-2")," "),u.xp6(4),u.Q6J("formGroup",e.checkoutForm),u.xp6(5),u.Q6J("ngIf",null==e.name.errors?null:e.name.errors.required),u.xp6(5),u.Q6J("ngIf",null==e.address.errors?null:e.address.errors.required),u.xp6(5),u.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),u.xp6(1),u.Q6J("disabled",!e.checkoutForm.valid)}}function lA(n,t){1&n&&(u.TgZ(0,"p",5),u._uU(1,"This Cart is Empty"),u.qZA())}let uA=(()=>{class n{submitForm(e){throw new Error("Method not implemented.")}constructor(e,i){this.cartService=e,this.formBuilder=i,this.cartItems=[],this.totalP=0,this.totalPR=0,this.checkoutForm=this.formBuilder.group({name:["",lE.required],address:["",lE.required],email:["",[lE.email,lE.required]]})}ngOnInit(){this.calculateCartItems(),this.calculateTotalPrice()}calculateCartItems(){const e=this.cartService.getItems(),i=new Map;for(const a of e)i.has(a)?i.set(a,i.get(a)+1):i.set(a,1);this.cartItems=Array.from(i).map(([a,d])=>({product:a,quantity:d}))}onAddToCart(e){this.cartService.addToCart(e),this.calculateCartItems(),this.calculateTotalPrice()}onDelete(e){this.cartService.deleteProduct(e),this.calculateCartItems(),this.calculateTotalPrice()}onDeleteItem(e){this.cartService.deleteItem(e),this.calculateCartItems(),this.calculateTotalPrice()}onClearCart(){this.cartService.clearCart(),this.calculateCartItems()}calculateTotalPrice(){let e=0;for(const i of this.cartItems)i.product&&i.product.price&&(e+=i.product.price*i.quantity);this.totalPrice=e,this.calculateCartItems()}clearTable(){this.tableRef.nativeElement.innerHTML=""}purcashe(){this.checkoutForm.reset(),window.alert("the purchase order has been sent"),this.clearTable(),this.totalPrice=0,this.cartService.updateCartItemCount()}get name(){return this.checkoutForm.get("name")}get address(){return this.checkoutForm.get("address")}get email(){return this.checkoutForm.get("email")}calculatePrice(e){let i=0;const a=this.cartItems[e];a.product&&a.product.price&&(i=a.product.price*a.quantity),this.totalPR=i}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yw),u.Y36(xS))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cart"]],viewQuery:function(e,i){if(1&e&&u.Gf(tA,5),2&e){let a;u.iGM(a=u.CRH())&&(i.tableRef=a.first)}},decls:6,vars:2,consts:[[1,"container"],["class","row card col-8",4,"ngIf","ngIfElse"],["noItems",""],[1,"col-4"],[1,"row","card","col-8"],[1,"text-center"],[4,"ngIf","ngIfElse"],[1,"my-5","table","table-hover","table-striped"],["myTable",""],[1,"table-info"],[4,"ngFor","ngForOf"],[1,"bg-success","price"],[1,"my-2"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","name"],["type","text","name","name","id","name","placeholder","name","formControlName","name",1,"form-control"],["class","error-message",4,"ngIf"],["for","address"],["type","text","name","address","id","address","placeholder","address","formControlName","address",1,"form-control"],["for","email"],["type","email","name","email","id","email","placeholder","email","formControlName","email",1,"form-control"],["type","submit","title","#",1,"btn","btn-primary","btn-block",3,"disabled","click"],[3,"click"],[1,"bi","bi-file-minus"],[1,"bi","bi-file-plus"],[1,"error-message"]],template:function(e,i){if(1&e&&(u.TgZ(0,"div",0),u.YNc(1,aA,48,14,"div",1),u.TgZ(2,"div"),u.YNc(3,lA,2,0,"ng-template",null,2,u.W1O),u.qZA()(),u._UZ(5,"div",3)),2&e){const a=u.MAs(4);u.xp6(1),u.Q6J("ngIf",i.cartItems.length>0)("ngIfElse",a)}},dependencies:[Tn,Ur,Nc,ja,Pc,xc,CE,Gw,Wi],styles:[".card[_ngcontent-%COMP%]{width:50%;margin:auto}.error-message[_ngcontent-%COMP%]{color:#b22222}ul[_ngcontent-%COMP%]{list-style:none}.container[_ngcontent-%COMP%]{height:100vh}.price[_ngcontent-%COMP%]{color:#fff!important;font-weight:700;border-radius:8px;text-align:center;width:40%;right:10px}.toscv[_ngcontent-%COMP%]{width:30%;border-radius:8px}"]}),n})();function cA(n,t){if(1&n&&(u.TgZ(0,"a",21),u._UZ(1,"i",22),u.qZA()),2&n){const e=u.oxw(2);u.MGl("routerLink","/product/edit/",e.product.id,"")}}function dA(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"a",23),u.NdJ("click",function(){u.CHM(e);const a=u.oxw(2);return u.KtG(a.deletePhone(a.product.id))}),u._UZ(1,"i",24),u.qZA()}}function hA(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",5)(1,"a",6),u._uU(2,"Back"),u.qZA(),u.TgZ(3,"h3",7),u._uU(4),u.qZA(),u.TgZ(5,"div",8)(6,"ul",9)(7,"li",10),u._uU(8),u.qZA(),u.TgZ(9,"li",10),u._uU(10),u.qZA(),u.TgZ(11,"li",10),u._uU(12),u.qZA(),u.TgZ(13,"li",10),u._uU(14),u.ALo(15,"currency"),u.qZA()(),u.YNc(16,cA,2,1,"a",11),u.YNc(17,dA,2,0,"a",12),u.qZA(),u.TgZ(18,"div",13)(19,"div",14)(20,"button",15),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.addToCart())}),u._uU(21," Add to Cart"),u._UZ(22,"i",16),u.qZA(),u.TgZ(23,"div",17)(24,"p",18),u._uU(25),u.qZA()(),u.TgZ(26,"button",19),u.NdJ("click",function(){u.CHM(e);const a=u.oxw();return u.KtG(a.deleteCart())}),u._uU(27," Delete Item"),u._UZ(28,"i",20),u.qZA()()()()}if(2&n){const e=u.oxw();u.xp6(4),u.Oqu(e.product.name),u.xp6(4),u.hij("Ime: ",e.product.name,""),u.xp6(2),u.hij("ID: ",e.product.productId,""),u.xp6(2),u.hij("Descr: ",e.product.descr,""),u.xp6(2),u.hij(" Price: ",u.gM2(15,8,e.product.price,"USD","symbol","1.2-2")," "),u.xp6(2),u.Q6J("ngIf",!e.auth.isLoggedIn),u.xp6(1),u.Q6J("ngIf",!e.auth.isLoggedIn),u.xp6(8),u.Oqu(e.getCartItemCount())}}const fA=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(e){this.auth=e,this.email="",this.password="",this.auth.updateLoginStatus(!0)}ngOnInit(){}login(){""!=this.email?""!=this.password?(this.auth.login(this.email,this.password),this.auth.updateLoginStatus(!1),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}signInWithGoogle(){this.auth.googleSignIn()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["title","#","type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["title","#","type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/register"],[1,"text-danger"],["href","/forgot-password",1,"text-dark"],[1,"row","mt-2"],[3,"click"],[1,"card","shadow","text-center"],["src","https://upload.turkcewiki.org/wikipedia/commons/thumb/2/2f/Google_2015_logo.svg/1200px-Google_2015_logo.svg.png","alt","google"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"Login"),u.qZA()(),u.TgZ(10,"div",6)(11,"label",8),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(d){return i.email=d}),u.qZA()(),u.TgZ(14,"div",6)(15,"label",10),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",11),u.NdJ("ngModelChange",function(d){return i.password=d}),u.qZA()(),u.TgZ(18,"button",12),u.NdJ("click",function(){return i.login()}),u._uU(19,"Login"),u.qZA(),u.TgZ(20,"div",13)(21,"div",14)(22,"a",15),u._uU(23,"Need Account ? "),u.TgZ(24,"span",16),u._uU(25,"Register"),u.qZA()()(),u.TgZ(26,"div",14)(27,"a",17),u._uU(28," Forgot Password ? "),u.qZA()()(),u.TgZ(29,"div",18)(30,"a",19),u.NdJ("click",function(){return i.signInWithGoogle()}),u.TgZ(31,"div",20)(32,"div",5),u._UZ(33,"img",21),u._uU(34," Sign In with Google "),u.qZA()()()()()()()(),u._UZ(35,"div",2),u.qZA()()),2&e&&(u.xp6(13),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.password))},dependencies:[Nc,ja,Pc,xc,Oc,hu],styles:["a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}img[_ngcontent-%COMP%]{height:24px;width:24px}.container-fluid[_ngcontent-%COMP%]{height:100vh}"]}),n})()},{path:"register",component:(()=>{class n{constructor(e){this.auth=e,this.email="",this.password="",this.auth.updateLoginStatus(!1)}ngOnInit(){}register(){""!=this.email?""!=this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Please enter password"):alert("Please enter email")}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-register"]],decls:27,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["placeholder","#","type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleInputPassword1",1,"form-label"],["placeholder","#","type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["routerLink","/login"],[1,"text-danger"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"Register"),u.qZA()(),u.TgZ(10,"div",6)(11,"label",8),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(d){return i.email=d}),u.qZA()(),u.TgZ(14,"div",6)(15,"label",10),u._uU(16,"Password"),u.qZA(),u.TgZ(17,"input",11),u.NdJ("ngModelChange",function(d){return i.password=d}),u.qZA()(),u.TgZ(18,"button",12),u.NdJ("click",function(){return i.register()}),u._uU(19,"Register"),u.qZA(),u.TgZ(20,"div",13)(21,"div",14)(22,"a",15),u._uU(23,"Have an account ? "),u.TgZ(24,"span",16),u._uU(25,"Login"),u.qZA()()()()()()()(),u._UZ(26,"div",2),u.qZA()()),2&e&&(u.xp6(13),u.Q6J("ngModel",i.email),u.xp6(4),u.Q6J("ngModel",i.password))},dependencies:[xo,Nc,ja,Pc,xc,Oc,hu],styles:["a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})()},{path:"verify-email",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-verify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"Welcome"),u.qZA()(),u.TgZ(10,"div",6)(11,"p",8),u._uU(12,"Link has sent on your registered email. Please varify it."),u.qZA()()()()()(),u._UZ(13,"div",2),u.qZA()())},dependencies:[Nc,xc,hu]}),n})()},{path:"forgot-password",component:(()=>{class n{constructor(e){this.auth=e,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-forgot-password"]],decls:23,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted"],["for","exampleInputEmail1",1,"form-label"],["placeholder","#","type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["routerLink","/login"],[1,"text-danger"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"div",2),u.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),u._uU(9,"forgot Password"),u.qZA()(),u.TgZ(10,"div",6)(11,"label",8),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"input",9),u.NdJ("ngModelChange",function(d){return i.email=d}),u.qZA()(),u.TgZ(14,"button",10),u.NdJ("click",function(){return i.forgotPassword()}),u._uU(15,"Send link"),u.qZA(),u.TgZ(16,"div",11)(17,"div",12)(18,"a",13),u._uU(19,"Back to"),u.TgZ(20,"span",14),u._uU(21,"Login"),u.qZA()()()()()()()(),u._UZ(22,"div",2),u.qZA()()),2&e&&(u.xp6(13),u.Q6J("ngModel",i.email))},dependencies:[xo,Nc,ja,Pc,xc,Oc,hu]}),n})()},{path:"main",component:eA},{path:"checkout",component:uA},{path:"product/add",component:(()=>{class n{constructor(e,i){this.productService=e,this.router=i}ngOnInit(){}addTodo(e){this.productService.add(e.value),window.alert("Product added"),this.router.navigate(["/main"])}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(aE),u.Y36(Tr))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-product"]],decls:31,vars:0,consts:[[1,"container"],[1,"row"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3","my-5"],["for","name"],["ngModel","","type","text","name","name","id","name","required","","placeholder","name",1,"form-control"],["name","ngModel"],[1,"mb-3"],["for","productId"],["title","$","ngModel","","type","text","id","productId","name","productId","placeholder","ID Phone","required","",1,"form-control"],["productId","ngModel"],["for","img"],["title","$","ngModel","","type","text","id","img","name","img","placeholder","Copy Addres Img","required","",1,"form-control"],["img","ngModel"],["for","price"],["title","$","ngModel","","type","number","id","price","name","price","placeholder","Price","required","",1,"form-control"],["price","ngModel"],[1,"form-group"],["for","descr"],["id","descr","required","","ngModel","","name","descr","required","",1,"form-control"],["descr","ngModel"],["type","submit",1,"btn","btn-success"]],template:function(e,i){if(1&e){const a=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),u.NdJ("ngSubmit",function(){u.CHM(a);const p=u.MAs(3);return u.KtG(i.addTodo(p))}),u.TgZ(4,"div",4)(5,"label",5),u._uU(6,"*Name"),u.qZA(),u._UZ(7,"input",6,7),u.qZA(),u.TgZ(9,"div",8)(10,"label",9),u._uU(11,"Sifra phone"),u.qZA(),u._UZ(12,"input",10,11),u.qZA(),u.TgZ(14,"div",8)(15,"label",12),u._uU(16,"Phone photo's"),u.qZA(),u._UZ(17,"input",13,14),u.qZA(),u.TgZ(19,"div",8)(20,"label",15),u._uU(21,"Price"),u.qZA(),u._UZ(22,"input",16,17),u.qZA(),u.TgZ(24,"div",18)(25,"label",19),u._uU(26,"Description"),u.qZA(),u._UZ(27,"textarea",20,21),u.qZA(),u.TgZ(29,"button",22),u._uU(30,"Add Phone"),u.qZA()()()()}},dependencies:[Nc,ja,vE,Pc,xc,EE,Oc,hu],styles:[".row[_ngcontent-%COMP%]{width:60%;margin:auto;height:100vh}"]}),n})()},{path:"main/product/:id",component:(()=>{class n{constructor(e,i,a,d,p){this.productService=e,this.cartService=i,this.route=a,this.router=d,this.auth=p,this.cartItems=[],this.product={},this.subscription=new Or.w0,this.totalQuantity=0}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.productService.get(this.id).subscribe(e=>{this.product=e,console.log(this.product)}),this.calculateCartItems()}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}addToCart(){this.cartService.addToCart(this.product),console.log(this.product),this.calculateCartItems()}calculateCartItems(){const e=this.cartService.getItems().filter(a=>a.id===this.id),i=new Map;for(const a of e)i.has(a)?i.set(a,i.get(a)+1):i.set(a,1);this.cartItems=Array.from(i).map(([a,d])=>({product:a,quantity:d}))}deleteCart(){this.cartItems=this.cartItems.filter(e=>e.product.id!==this.id),this.cartService.deleteItem(this.id),this.calculateCartItems(),this.cartService.updateCartItemCount()}getItemQuantity(e){let i=0;return this.items.forEach(a=>{a.id===e.id&&i++}),i}getCartItemCount(){return this.cartItems.reduce((e,i)=>e+i.quantity,0)}deletePhone(e){confirm("Are you sure you want to delete this card?")&&(this.productService.delete(e),this.cartService.updateCartItemCount())}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(aE),u.Y36(Yw),u.Y36(_a),u.Y36(Tr),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-product-info"]],decls:5,vars:2,consts:[[1,"container","my-5"],[1,"row"],["class","card col-5 bg-warning",4,"ngIf"],[1,"col-7"],["alt","Phone pics",3,"src"],[1,"card","col-5","bg-warning"],["routerLink","/main",1,"btn","btn-sm","btn-secondary","mb-3","back"],[1,"card-header"],[1,"card-body"],[1,"list-group"],[1,"list-group-item"],["class","btn btn-dark delete-button",3,"routerLink",4,"ngIf"],["class","btn btn-dark delete",3,"click",4,"ngIf"],[1,"card-footer","text-center"],[1,"btn-group"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-cart-check"],[1,"box"],[1,"item"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash-fill"],[1,"btn","btn-dark","delete-button",3,"routerLink"],[1,"bi","bi-pen-fill"],[1,"btn","btn-dark","delete",3,"click"],[1,"bi","bi-file-earmark-x-fill"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,hA,29,13,"div",2),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.qZA()()()),2&e&&(u.xp6(2),u.Q6J("ngIf",i.product),u.xp6(2),u.s9C("src",i.product.img,u.LSH))},dependencies:[Ur,xo,Wi],styles:[".delete-button[_ngcontent-%COMP%]{position:absolute;width:10%;top:0;right:50px;border-radius:5%}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{width:400px!important;height:600px!important;margin-left:150px;border-radius:20%}.delete[_ngcontent-%COMP%]{position:absolute;width:10%;top:0;right:0;background-color:#b22222!important}.container[_ngcontent-%COMP%]{height:100vh}.item[_ngcontent-%COMP%]{background-color:#faebd7;padding:5px;margin:5px;border:2px solid blue;text-align:center}.card[_ngcontent-%COMP%]{position:relative;border-radius:15px}.back[_ngcontent-%COMP%]{width:20%;left:0;top:0}"]}),n})()},{path:"product/edit/:id",component:(()=>{class n{constructor(e,i,a,d){this.productService=e,this.route=i,this.router=a,this.auth=d,this.product={name:"",productId:"",descr:"",price:0,img:""}}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id&&this.productService.get(this.id).subscribe(e=>{this.product=e,console.log(this.product)})}editPhone(e){this.productService.update(this.id,e.value),window.alert("Phone is Edited"),this.router.navigate(["/main"])}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(aE),u.Y36(_a),u.Y36(Tr),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-edit-product"]],decls:26,vars:5,consts:[[1,"container"],[1,"row"],[3,"ngSubmit"],["f","ngForm"],[1,"mb-3"],["for","name"],["title","#f","type","text","id","name","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","productId"],["type","text","name","productId","id","productId",1,"form-control",3,"ngModel","ngModelChange"],["for","img"],["type","text","name","img","id","img",1,"form-control",3,"ngModel","ngModelChange"],["for","descr"],["type","text","id","descr","name","descr",1,"form-control",3,"ngModel","ngModelChange"],["for","price"],["type","number","id","price","name","price",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-success"]],template:function(e,i){if(1&e){const a=u.EpF();u.TgZ(0,"div",0)(1,"div",1)(2,"form",2,3),u.NdJ("ngSubmit",function(){u.CHM(a);const p=u.MAs(3);return u.KtG(i.editPhone(p))}),u.TgZ(4,"div",4)(5,"label",5),u._uU(6,"name"),u.qZA(),u.TgZ(7,"input",6),u.NdJ("ngModelChange",function(p){return i.product.name=p}),u.qZA()(),u.TgZ(8,"div",4)(9,"label",7),u._uU(10,"productId"),u.qZA(),u.TgZ(11,"input",8),u.NdJ("ngModelChange",function(p){return i.product.productId=p}),u.qZA()(),u.TgZ(12,"div",4)(13,"label",9),u._uU(14,"img"),u.qZA(),u.TgZ(15,"input",10),u.NdJ("ngModelChange",function(p){return i.product.img=p}),u.qZA()(),u.TgZ(16,"div",4)(17,"label",11),u._uU(18,"descr"),u.qZA(),u.TgZ(19,"input",12),u.NdJ("ngModelChange",function(p){return i.product.descr=p}),u.qZA()(),u.TgZ(20,"div",4)(21,"label",13),u._uU(22,"Price"),u.qZA(),u.TgZ(23,"input",14),u.NdJ("ngModelChange",function(p){return i.product.price=p}),u.qZA()(),u.TgZ(24,"button",15),u._uU(25,"Edit product"),u.qZA()()()()}2&e&&(u.xp6(7),u.Q6J("ngModel",i.product.name),u.xp6(4),u.Q6J("ngModel",i.product.productId),u.xp6(4),u.Q6J("ngModel",i.product.img),u.xp6(4),u.Q6J("ngModel",i.product.descr),u.xp6(4),u.Q6J("ngModel",i.product.price))},dependencies:[Nc,ja,vE,Pc,xc,Oc,hu],styles:[".container[_ngcontent-%COMP%]{height:100vh}"]}),n})()},{path:"**",component:(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-not-found"]],decls:4,vars:0,consts:[[1,"container"],[1,"row"],[1,"text-center"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),u._uU(3,"404 Page not found"),u.qZA()()())},styles:[".container[_ngcontent-%COMP%]{width:100%;height:80vh;border:5px solid red;box-shadow:12px 10px 30px;background-color:#b22222}h1[_ngcontent-%COMP%]{margin-top:20%;color:#f5f5f5}"]}),n})()}];let pA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ay.forRoot(fA),Ay]}),n})();function gA(n,t){1&n&&(u.TgZ(0,"a",16),u._uU(1,"Add Product"),u.qZA())}let mA=(()=>{class n{constructor(e,i){this.cartService=e,this.auth=i,this.cartItemCount=0}ngOnInit(){this.cartService.getCartItemCount().subscribe(e=>{this.cartItemCount=e})}register(){this.auth.logout()}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(Yw),u.Y36(Mh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:24,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["routerLink","main",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","main",1,"nav-link","active"],["class","nav-link","routerLink","product/add",4,"ngIf"],["type","button","aria-current","page",1,"nav-link","active",3,"click"],[1,"ms-auto","mx-5"],[1,"nav-item","ml-auto"],["routerLink","/checkout",1,"nav-link","ms-auto"],[1,"bi","bi-cart-check"],[1,"badge"],["routerLink","product/add",1,"nav-link"]],template:function(e,i){1&e&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),u._uU(3,"Phone App"),u.qZA(),u.TgZ(4,"button",3),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),u._uU(10,"Home"),u.qZA()(),u.TgZ(11,"li",7),u.YNc(12,gA,2,0,"a",9),u.qZA(),u.TgZ(13,"li")(14,"a",10),u.NdJ("click",function(){return i.register()}),u._uU(15,"Logout/Login "),u.qZA()()(),u.TgZ(16,"ul",11)(17,"li",12)(18,"a",13),u._uU(19,"Cart "),u.TgZ(20,"i",14)(21,"span",15)(22,"sup"),u._uU(23),u.qZA()()()()()()()()()),2&e&&(u.xp6(12),u.Q6J("ngIf",!i.auth.isLoggedIn),u.xp6(11),u.Oqu(i.cartItemCount))},dependencies:[Ur,xo],styles:["ul[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]{background:cadetblue!important}"]}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"card","text-center"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["routerLink","main",1,"btn","btn-primary"],[1,"card-footer","text-body-secondary"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1),u._uU(2," Featured "),u.qZA(),u.TgZ(3,"div",2)(4,"h5",3),u._uU(5,"Special title treatment"),u.qZA(),u.TgZ(6,"p",4),u._uU(7,"With supporting text below as a natural lead-in to additional content."),u.qZA(),u.TgZ(8,"a",5),u._uU(9,"Go somewhere"),u.qZA()(),u.TgZ(10,"div",6),u._uU(11," Created by Vladan Cupric 2023 "),u.qZA()())},dependencies:[xo],styles:[".card[_ngcontent-%COMP%]{background:cadetblue!important}"]}),n})(),yA=(()=>{class n{constructor(){this.title="product-shop",this.totalQuantity=0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,i){1&e&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[uf,mA,_A]}),n})();const vA_firebase={projectId:"product-shop-286d2",appId:"1:1003813917801:web:1f78ea6fb4b99bf7ae3ef8",databaseURL:"https://product-shop-286d2-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"product-shop-286d2.appspot.com",apiKey:"AIzaSyCJOGbvN1PQ_rbrQ3qAihhxOd7Nw542FyU",authDomain:"product-shop-286d2.firebaseapp.com",messagingSenderId:"1003813917801"};let CA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[yA]}),n.\u0275inj=u.cJS({imports:[Ls,pA,OS,NS,QS,KS,Pi.hO.initializeApp(vA_firebase)]}),n})();yl().bootstrapModule(CA).catch(n=>console.error(n))},3028:function(ut,De){var L,j;L=function P(){"use strict";var J=typeof self<"u"?self:typeof window<"u"?window:void 0!==J?J:{},oe=!J.document&&!!J.postMessage,ue=J.IS_PAPA_WORKER||!1,_e={},he=0,te={parse:function(O,F){var q=(F=F||{}).dynamicTyping||!1;if(Te(q)&&(F.dynamicTypingFunction=q,q={}),F.dynamicTyping=q,F.transform=!!Te(F.transform)&&F.transform,F.worker&&te.WORKERS_SUPPORTED){var fe=function(){if(!te.WORKERS_SUPPORTED)return!1;var ne,ae,Ue=(ne=J.URL||J.webkitURL||null,ae=P.toString(),te.BLOB_URL||(te.BLOB_URL=ne.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ae,")();"],{type:"text/javascript"})))),Pe=new J.Worker(Ue);return Pe.onmessage=Ie,Pe.id=he++,_e[Pe.id]=Pe}();return fe.userStep=F.step,fe.userChunk=F.chunk,fe.userComplete=F.complete,fe.userError=F.error,F.step=Te(F.step),F.chunk=Te(F.chunk),F.complete=Te(F.complete),F.error=Te(F.error),delete F.worker,void fe.postMessage({input:O,config:F,workerId:fe.id})}var Ue,de=null;return"string"==typeof O?(O=65279===(Ue=O).charCodeAt(0)?Ue.slice(1):Ue,de=F.download?new Q(F):new be(F)):!0===O.readable&&Te(O.read)&&Te(O.on)?de=new We(F):(J.File&&O instanceof File||O instanceof Object)&&(de=new Le(F)),de.stream(O)},unparse:function(O,F){var q=!1,fe=!0,de=",",Ue="\r\n",Pe='"',ne=Pe+Pe,ae=!1,ee=null,ye=!1;!function(){if("object"==typeof F){if("string"!=typeof F.delimiter||te.BAD_DELIMITERS.filter(function(ge){return-1!==F.delimiter.indexOf(ge)}).length||(de=F.delimiter),("boolean"==typeof F.quotes||"function"==typeof F.quotes||Array.isArray(F.quotes))&&(q=F.quotes),"boolean"!=typeof F.skipEmptyLines&&"string"!=typeof F.skipEmptyLines||(ae=F.skipEmptyLines),"string"==typeof F.newline&&(Ue=F.newline),"string"==typeof F.quoteChar&&(Pe=F.quoteChar),"boolean"==typeof F.header&&(fe=F.header),Array.isArray(F.columns)){if(0===F.columns.length)throw new Error("Option columns is empty");ee=F.columns}void 0!==F.escapeChar&&(ne=F.escapeChar+Pe),("boolean"==typeof F.escapeFormulae||F.escapeFormulae instanceof RegExp)&&(ye=F.escapeFormulae instanceof RegExp?F.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var pe=new RegExp(me(Pe),"g");if("string"==typeof O&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return Ne(null,O,ae);if("object"==typeof O[0])return Ne(ee||Object.keys(O[0]),O,ae)}else if("object"==typeof O)return"string"==typeof O.data&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||ee),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:"object"==typeof O.data[0]?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||"object"==typeof O.data[0]||(O.data=[O.data])),Ne(O.fields||[],O.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Ne(ge,ht,Qe){var Ge="";"string"==typeof ge&&(ge=JSON.parse(ge)),"string"==typeof ht&&(ht=JSON.parse(ht));var Ve=Array.isArray(ge)&&0<ge.length,gt=!Array.isArray(ht[0]);if(Ve&&fe){for(var Ut=0;Ut<ge.length;Ut++)0<Ut&&(Ge+=de),Ge+=He(ge[Ut],Ut);0<ht.length&&(Ge+=Ue)}for(var ze=0;ze<ht.length;ze++){var lt=Ve?ge.length:ht[ze].length,Pt=!1,Jt=Ve?0===Object.keys(ht[ze]).length:0===ht[ze].length;if(Qe&&!Ve&&(Pt="greedy"===Qe?""===ht[ze].join("").trim():1===ht[ze].length&&0===ht[ze][0].length),"greedy"===Qe&&Ve){for(var jt=[],qt=0;qt<lt;qt++)jt.push(ht[ze][gt?ge[qt]:qt]);Pt=""===jt.join("").trim()}if(!Pt){for(var $t=0;$t<lt;$t++)0<$t&&!Jt&&(Ge+=de),Ge+=He(ht[ze][Ve&&gt?ge[$t]:$t],$t);ze<ht.length-1&&(!Qe||0<lt&&!Jt)&&(Ge+=Ue)}}return Ge}function He(ge,ht){if(null==ge)return"";if(ge.constructor===Date)return JSON.stringify(ge).slice(1,25);var Qe=!1;ye&&"string"==typeof ge&&ye.test(ge)&&(ge="'"+ge,Qe=!0);var Ge=ge.toString().replace(pe,ne);return(Qe=Qe||!0===q||"function"==typeof q&&q(ge,ht)||Array.isArray(q)&&q[ht]||function(Ve,gt){for(var Ut=0;Ut<gt.length;Ut++)if(-1<Ve.indexOf(gt[Ut]))return!0;return!1}(Ge,te.BAD_DELIMITERS)||-1<Ge.indexOf(de)||" "===Ge.charAt(0)||" "===Ge.charAt(Ge.length-1))?Pe+Ge+Pe:Ge}}};if(te.RECORD_SEP=String.fromCharCode(30),te.UNIT_SEP=String.fromCharCode(31),te.BYTE_ORDER_MARK="\ufeff",te.BAD_DELIMITERS=["\r","\n",'"',te.BYTE_ORDER_MARK],te.WORKERS_SUPPORTED=!oe&&!!J.Worker,te.NODE_STREAM_INPUT=1,te.LocalChunkSize=10485760,te.RemoteChunkSize=5242880,te.DefaultDelimiter=",",te.Parser=Ee,te.ParserHandle=et,te.NetworkStreamer=Q,te.FileStreamer=Le,te.StringStreamer=be,te.ReadableStreamStreamer=We,J.jQuery){var G=J.jQuery;G.fn.parse=function(O){var F=O.config||{},q=[];return this.each(function(Ue){if("INPUT"!==G(this).prop("tagName").toUpperCase()||"file"!==G(this).attr("type").toLowerCase()||!J.FileReader||!this.files||0===this.files.length)return!0;for(var Pe=0;Pe<this.files.length;Pe++)q.push({file:this.files[Pe],inputElem:this,instanceConfig:G.extend({},F)})}),fe(),this;function fe(){if(0!==q.length){var Pe,ne,ae,ee=q[0];if(Te(O.before)){var ye=O.before(ee.file,ee.inputElem);if("object"==typeof ye){if("abort"===ye.action)return"AbortError",Pe=ee.file,ne=ee.inputElem,ae=ye.reason,void(Te(O.error)&&O.error({name:"AbortError"},Pe,ne,ae));if("skip"===ye.action)return void de();"object"==typeof ye.config&&(ee.instanceConfig=G.extend(ee.instanceConfig,ye.config))}else if("skip"===ye)return void de()}var pe=ee.instanceConfig.complete;ee.instanceConfig.complete=function(Ne){Te(pe)&&pe(Ne,ee.file,ee.inputElem),de()},te.parse(ee.file,ee.instanceConfig)}else Te(O.complete)&&O.complete()}function de(){q.splice(0,1),fe()}}}function W(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(F){var q=Re(F);q.chunkSize=parseInt(q.chunkSize),F.step||F.chunk||(q.chunkSize=null),this._handle=new et(q),(this._handle.streamer=this)._config=q}.call(this,O),this.parseChunk=function(F,q){if(this.isFirstChunk&&Te(this._config.beforeFirstChunk)){var fe=this._config.beforeFirstChunk(F);void 0!==fe&&(F=fe)}this.isFirstChunk=!1,this._halted=!1;var de=this._partialLine+F;this._partialLine="";var Ue=this._handle.parse(de,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Pe=Ue.meta.cursor;this._finished||(this._partialLine=de.substring(Pe-this._baseIndex),this._baseIndex=Pe),Ue&&Ue.data&&(this._rowCount+=Ue.data.length);var ne=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(ue)J.postMessage({results:Ue,workerId:te.WORKER_ID,finished:ne});else if(Te(this._config.chunk)&&!q){if(this._config.chunk(Ue,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ue=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ue.data),this._completeResults.errors=this._completeResults.errors.concat(Ue.errors),this._completeResults.meta=Ue.meta),this._completed||!ne||!Te(this._config.complete)||Ue&&Ue.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ne||Ue&&Ue.meta.paused||this._nextChunk(),Ue}this._halted=!0},this._sendError=function(F){Te(this._config.error)?this._config.error(F):ue&&this._config.error&&J.postMessage({workerId:te.WORKER_ID,error:F,finished:!1})}}function Q(O){var F;(O=O||{}).chunkSize||(O.chunkSize=te.RemoteChunkSize),W.call(this,O),this._nextChunk=oe?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(q){this._input=q,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),oe||(F.onload=ve(this._chunkLoaded,this),F.onerror=ve(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!oe),this._config.downloadRequestHeaders){var q=this._config.downloadRequestHeaders;for(var fe in q)F.setRequestHeader(fe,q[fe])}this._config.chunkSize&&F.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{F.send(this._config.downloadRequestBody)}catch(Ue){this._chunkError(Ue.message)}oe&&0===F.status&&this._chunkError()}},this._chunkLoaded=function(){var fe;4===F.readyState&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:F.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(fe=F.getResponseHeader("Content-Range"))?-1:parseInt(fe.substring(fe.lastIndexOf("/")+1))),this.parseChunk(F.responseText)))},this._chunkError=function(q){this._sendError(new Error(F.statusText||q))}}function Le(O){var F,q;(O=O||{}).chunkSize||(O.chunkSize=te.LocalChunkSize),W.call(this,O);var fe=typeof FileReader<"u";this.stream=function(de){this._input=de,q=de.slice||de.webkitSlice||de.mozSlice,fe?((F=new FileReader).onload=ve(this._chunkLoaded,this),F.onerror=ve(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var de=this._input;if(this._config.chunkSize){var Ue=Math.min(this._start+this._config.chunkSize,this._input.size);de=q.call(de,this._start,Ue)}var Pe=F.readAsText(de,this._config.encoding);fe||this._chunkLoaded({target:{result:Pe}})},this._chunkLoaded=function(de){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(de.target.result)},this._chunkError=function(){this._sendError(F.error)}}function be(O){var F;W.call(this,O=O||{}),this.stream=function(q){return F=q,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var q,fe=this._config.chunkSize;return fe?(q=F.substring(0,fe),F=F.substring(fe)):(q=F,F=""),this._finished=!F,this.parseChunk(q)}}}function We(O){W.call(this,O=O||{});var F=[],q=!0,fe=!1;this.pause=function(){W.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){W.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(de){this._input=de,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){fe&&1===F.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):q=!0},this._streamData=ve(function(de){try{F.push("string"==typeof de?de:de.toString(this._config.encoding)),q&&(q=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(Ue){this._streamError(Ue)}},this),this._streamError=ve(function(de){this._streamCleanUp(),this._sendError(de)},this),this._streamEnd=ve(function(){this._streamCleanUp(),fe=!0,this._streamData("")},this),this._streamCleanUp=ve(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function et(O){var F,q,fe,de=Math.pow(2,53),Ue=-de,Pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ne=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ae=this,ee=0,ye=0,pe=!1,Ne=!1,He=[],ge={data:[],errors:[],meta:{}};if(Te(O.step)){var ht=O.step;O.step=function(ze){if(ge=ze,Ve())Ge();else{if(Ge(),0===ge.data.length)return;ee+=ze.data.length,O.preview&&ee>O.preview?q.abort():(ge.data=ge.data[0],ht(ge,ae))}}}function Qe(ze){return"greedy"===O.skipEmptyLines?""===ze.join("").trim():1===ze.length&&0===ze[0].length}function Ge(){return ge&&fe&&(Ut("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+te.DefaultDelimiter+"'"),fe=!1),O.skipEmptyLines&&(ge.data=ge.data.filter(function(ze){return!Qe(ze)})),Ve()&&function(){if(ge)if(Array.isArray(ge.data[0])){for(var lt=0;Ve()&&lt<ge.data.length;lt++)ge.data[lt].forEach(ze);ge.data.splice(0,1)}else ge.data.forEach(ze);function ze(Pt,Jt){Te(O.transformHeader)&&(Pt=O.transformHeader(Pt,Jt)),He.push(Pt)}}(),function(){if(!ge||!O.header&&!O.dynamicTyping&&!O.transform)return ge;function ze(Pt,Jt){var jt,qt=O.header?{}:[];for(jt=0;jt<Pt.length;jt++){var Xt=jt,$t=Pt[jt];O.header&&(Xt=jt>=He.length?"__parsed_extra":He[jt]),O.transform&&($t=O.transform($t,Xt)),$t=gt(Xt,$t),"__parsed_extra"===Xt?(qt[Xt]=qt[Xt]||[],qt[Xt].push($t)):qt[Xt]=$t}return O.header&&(jt>He.length?Ut("FieldMismatch","TooManyFields","Too many fields: expected "+He.length+" fields but parsed "+jt,ye+Jt):jt<He.length&&Ut("FieldMismatch","TooFewFields","Too few fields: expected "+He.length+" fields but parsed "+jt,ye+Jt)),qt}var lt=1;return!ge.data.length||Array.isArray(ge.data[0])?(ge.data=ge.data.map(ze),lt=ge.data.length):ge.data=ze(ge.data,0),O.header&&ge.meta&&(ge.meta.fields=He),ye+=lt,ge}()}function Ve(){return O.header&&0===He.length}function gt(ze,lt){return Pt=ze,O.dynamicTypingFunction&&void 0===O.dynamicTyping[Pt]&&(O.dynamicTyping[Pt]=O.dynamicTypingFunction(Pt)),!0===(O.dynamicTyping[Pt]||O.dynamicTyping)?"true"===lt||"TRUE"===lt||"false"!==lt&&"FALSE"!==lt&&(function(Jt){if(Pe.test(Jt)){var jt=parseFloat(Jt);if(Ue<jt&&jt<de)return!0}return!1}(lt)?parseFloat(lt):ne.test(lt)?new Date(lt):""===lt?null:lt):lt;var Pt}function Ut(ze,lt,Pt,Jt){var jt={type:ze,code:lt,message:Pt};void 0!==Jt&&(jt.row=Jt),ge.errors.push(jt)}this.parse=function(ze,lt,Pt){if(O.newline||(O.newline=function(Xt,$t){Xt=Xt.substring(0,1048576);var Wt=new RegExp(me($t)+"([^]*?)"+me($t),"gm"),an=(Xt=Xt.replace(Wt,"")).split("\r"),Ze=Xt.split("\n");if(1===an.length||1<Ze.length&&Ze[0].length<an[0].length)return"\n";for(var cn=0,Mt=0;Mt<an.length;Mt++)"\n"===an[Mt][0]&&cn++;return cn>=an.length/2?"\r\n":"\r"}(ze,O.quoteChar||'"')),fe=!1,O.delimiter)Te(O.delimiter)&&(O.delimiter=O.delimiter(ze),ge.meta.delimiter=O.delimiter);else{var jt=function(Xt,$t,Wt,an,Ze){var gn,cn,Mt,kt;Ze=Ze||[",","\t","|",";",te.RECORD_SEP,te.UNIT_SEP];for(var bn=0;bn<Ze.length;bn++){var Ke=Ze[bn],rt=0,ct=0,rn=0;Mt=void 0;for(var ln=new Ee({comments:an,delimiter:Ke,newline:$t,preview:10}).parse(Xt),dn=0;dn<ln.data.length;dn++)if(Wt&&Qe(ln.data[dn]))rn++;else{var mn=ln.data[dn].length;ct+=mn,void 0!==Mt?0<mn&&(rt+=Math.abs(mn-Mt),Mt=mn):Mt=mn}0<ln.data.length&&(ct/=ln.data.length-rn),(void 0===cn||rt<=cn)&&(void 0===kt||kt<ct)&&1.99<ct&&(cn=rt,gn=Ke,kt=ct)}return{successful:!!(O.delimiter=gn),bestDelimiter:gn}}(ze,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess);jt.successful?O.delimiter=jt.bestDelimiter:(fe=!0,O.delimiter=te.DefaultDelimiter),ge.meta.delimiter=O.delimiter}var qt=Re(O);return O.preview&&O.header&&qt.preview++,F=ze,q=new Ee(qt),ge=q.parse(F,lt,Pt),Ge(),pe?{meta:{paused:!0}}:ge||{meta:{paused:!1}}},this.paused=function(){return pe},this.pause=function(){pe=!0,q.abort(),F=Te(O.chunk)?"":F.substring(q.getCharIndex())},this.resume=function(){ae.streamer._halted?(pe=!1,ae.streamer.parseChunk(F,!0)):setTimeout(ae.resume,3)},this.aborted=function(){return Ne},this.abort=function(){Ne=!0,q.abort(),ge.meta.aborted=!0,Te(O.complete)&&O.complete(ge),F=""}}function me(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ee(O){var F,q=(O=O||{}).delimiter,fe=O.newline,de=O.comments,Ue=O.step,Pe=O.preview,ne=O.fastMode,ae=F=null==O.quoteChar?'"':O.quoteChar;if(void 0!==O.escapeChar&&(ae=O.escapeChar),("string"!=typeof q||-1<te.BAD_DELIMITERS.indexOf(q))&&(q=","),de===q)throw new Error("Comment character same as delimiter");!0===de?de="#":("string"!=typeof de||-1<te.BAD_DELIMITERS.indexOf(de))&&(de=!1),"\n"!==fe&&"\r"!==fe&&"\r\n"!==fe&&(fe="\n");var ee=0,ye=!1;this.parse=function(pe,Ne,He){if("string"!=typeof pe)throw new Error("Input must be a string");var ge=pe.length,ht=q.length,Qe=fe.length,Ge=de.length,Ve=Te(Ue),gt=[],Ut=[],ze=[],lt=ee=0;if(!pe)return on();if(O.header&&!Ne){var Pt=pe.split(fe)[0].split(q),Jt=[],jt={},qt=!1;for(var Xt in Pt){var $t=Pt[Xt];Te(O.transformHeader)&&($t=O.transformHeader($t,Xt));var Wt=$t,an=jt[$t]||0;for(0<an&&(qt=!0,Wt=$t+"_"+an),jt[$t]=an+1;Jt.includes(Wt);)Wt=Wt+"_"+an;Jt.push(Wt)}if(qt){var Ze=pe.split(fe);Ze[0]=Jt.join(q),pe=Ze.join(fe)}}if(ne||!1!==ne&&-1===pe.indexOf(F)){for(var gn=pe.split(fe),cn=0;cn<gn.length;cn++){if(ee+=(ze=gn[cn]).length,cn!==gn.length-1)ee+=fe.length;else if(He)return on();if(!de||ze.substring(0,Ge)!==de){if(Ve){if(gt=[],rn(ze.split(q)),Zn(),ye)return on()}else rn(ze.split(q));if(Pe&&Pe<=cn)return gt=gt.slice(0,Pe),on(!0)}}return on()}for(var Mt=pe.indexOf(q,ee),kt=pe.indexOf(fe,ee),bn=new RegExp(me(ae)+me(F),"g"),Ke=pe.indexOf(F,ee);;)if(pe[ee]!==F)if(de&&0===ze.length&&pe.substring(ee,ee+Ge)===de){if(-1===kt)return on();kt=pe.indexOf(fe,ee=kt+Qe),Mt=pe.indexOf(q,ee)}else if(-1!==Mt&&(Mt<kt||-1===kt))ze.push(pe.substring(ee,Mt)),Mt=pe.indexOf(q,ee=Mt+ht);else{if(-1===kt)break;if(ze.push(pe.substring(ee,kt)),mn(kt+Qe),Ve&&(Zn(),ye))return on();if(Pe&&gt.length>=Pe)return on(!0)}else for(Ke=ee,ee++;;){if(-1===(Ke=pe.indexOf(F,Ke+1)))return He||Ut.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:gt.length,index:ee}),dn();if(Ke===ge-1)return dn(pe.substring(ee,Ke).replace(bn,F));if(F!==ae||pe[Ke+1]!==ae){if(F===ae||0===Ke||pe[Ke-1]!==ae){-1!==Mt&&Mt<Ke+1&&(Mt=pe.indexOf(q,Ke+1)),-1!==kt&&kt<Ke+1&&(kt=pe.indexOf(fe,Ke+1));var rt=ln(-1===kt?Mt:Math.min(Mt,kt));if(pe.substr(Ke+1+rt,ht)===q){ze.push(pe.substring(ee,Ke).replace(bn,F)),pe[ee=Ke+1+rt+ht]!==F&&(Ke=pe.indexOf(F,ee)),Mt=pe.indexOf(q,ee),kt=pe.indexOf(fe,ee);break}var ct=ln(kt);if(pe.substring(Ke+1+ct,Ke+1+ct+Qe)===fe){if(ze.push(pe.substring(ee,Ke).replace(bn,F)),mn(Ke+1+ct+Qe),Mt=pe.indexOf(q,ee),Ke=pe.indexOf(F,ee),Ve&&(Zn(),ye))return on();if(Pe&&gt.length>=Pe)return on(!0);break}Ut.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:gt.length,index:ee}),Ke++}}else Ke++}return dn();function rn(ft){gt.push(ft),lt=ee}function ln(ft){var ar=0;if(-1!==ft){var Tt=pe.substring(Ke+1,ft);Tt&&""===Tt.trim()&&(ar=Tt.length)}return ar}function dn(ft){return He||(void 0===ft&&(ft=pe.substring(ee)),ze.push(ft),ee=ge,rn(ze),Ve&&Zn()),on()}function mn(ft){ee=ft,rn(ze),ze=[],kt=pe.indexOf(fe,ee)}function on(ft){return{data:gt,errors:Ut,meta:{delimiter:q,linebreak:fe,aborted:ye,truncated:!!ft,cursor:lt+(Ne||0)}}}function Zn(){Ue(on()),gt=[],Ut=[]}},this.abort=function(){ye=!0},this.getCharIndex=function(){return ee}}function Ie(O){var F=O.data,q=_e[F.workerId],fe=!1;if(F.error)q.userError(F.error,F.file);else if(F.results&&F.results.data){var de={abort:function(){fe=!0,Oe(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Se,resume:Se};if(Te(q.userStep)){for(var Ue=0;Ue<F.results.data.length&&(q.userStep({data:F.results.data[Ue],errors:F.results.errors,meta:F.results.meta},de),!fe);Ue++);delete F.results}else Te(q.userChunk)&&(q.userChunk(F.results,de,F.file),delete F.results)}F.finished&&!fe&&Oe(F.workerId,F.results)}function Oe(O,F){var q=_e[O];Te(q.userComplete)&&q.userComplete(F),q.terminate(),delete _e[O]}function Se(){throw new Error("Not implemented.")}function Re(O){if("object"!=typeof O||null===O)return O;var F=Array.isArray(O)?[]:{};for(var q in O)F[q]=Re(O[q]);return F}function ve(O,F){return function(){O.apply(F,arguments)}}function Te(O){return"function"==typeof O}return ue&&(J.onmessage=function(O){var F=O.data;if(void 0===te.WORKER_ID&&F&&(te.WORKER_ID=F.workerId),"string"==typeof F.input)J.postMessage({workerId:te.WORKER_ID,results:te.parse(F.input,F.config),finished:!0});else if(J.File&&F.input instanceof File||F.input instanceof Object){var q=te.parse(F.input,F.config);q&&J.postMessage({workerId:te.WORKER_ID,results:q,finished:!0})}}),(Q.prototype=Object.create(W.prototype)).constructor=Q,(Le.prototype=Object.create(W.prototype)).constructor=Le,(be.prototype=Object.create(be.prototype)).constructor=be,(We.prototype=Object.create(W.prototype)).constructor=We,te},void 0!==(j=L.apply(De,[]))&&(ut.exports=j)},9751:(ut,De,L)=>{"use strict";L.d(De,{y:()=>he});var u=L(930),j=L(727),P=L(8822),J=L(9635),oe=L(2416),ue=L(576),_e=L(2806);let he=(()=>{class Q{constructor(be){be&&(this._subscribe=be)}lift(be){const We=new Q;return We.source=this,We.operator=be,We}subscribe(be,We,et){const me=function W(Q){return Q&&Q instanceof u.Lv||function G(Q){return Q&&(0,ue.m)(Q.next)&&(0,ue.m)(Q.error)&&(0,ue.m)(Q.complete)}(Q)&&(0,j.Nn)(Q)}(be)?be:new u.Hp(be,We,et);return(0,_e.x)(()=>{const{operator:Ee,source:Ie}=this;me.add(Ee?Ee.call(me,Ie):Ie?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(be){try{return this._subscribe(be)}catch(We){be.error(We)}}forEach(be,We){return new(We=te(We))((et,me)=>{const Ee=new u.Hp({next:Ie=>{try{be(Ie)}catch(Oe){me(Oe),Ee.unsubscribe()}},error:me,complete:et});this.subscribe(Ee)})}_subscribe(be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(be)}[P.L](){return this}pipe(...be){return(0,J.U)(be)(this)}toPromise(be){return new(be=te(be))((We,et)=>{let me;this.subscribe(Ee=>me=Ee,Ee=>et(Ee),()=>We(me))})}}return Q.create=Le=>new Q(Le),Q})();function te(Q){var Le;return null!==(Le=Q??oe.v.Promise)&&void 0!==Le?Le:Promise}},7579:(ut,De,L)=>{"use strict";L.d(De,{x:()=>_e});var u=L(9751),j=L(727);const J=(0,L(3888).d)(te=>function(){te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=L(8737),ue=L(2806);let _e=(()=>{class te extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new he(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new J}next(W){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(W)}})}error(W){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:Le,observers:be}=this;return Q||Le?j.Lc:(this.currentObservers=null,be.push(W),new j.w0(()=>{this.currentObservers=null,(0,oe.P)(be,W)}))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:Le,isStopped:be}=this;Q?W.error(Le):be&&W.complete()}asObservable(){const W=new u.y;return W.source=this,W}}return te.create=(G,W)=>new he(G,W),te})();class he extends _e{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,G)}error(G){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==Q?Q:j.Lc}}},930:(ut,De,L)=>{"use strict";L.d(De,{Hp:()=>et,Lv:()=>Q});var u=L(576),j=L(727),P=L(2416),J=L(7849),oe=L(5032);const ue=te("C",void 0,void 0);function te(Se,Re,ve){return{kind:Se,value:Re,error:ve}}var G=L(3410),W=L(2806);class Q extends j.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,j.Nn)(Re)&&Re.add(this)):this.destination=Oe}static create(Re,ve,Te){return new et(Re,ve,Te)}next(Re){this.isStopped?Ie(function he(Se){return te("N",Se,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ie(function _e(Se){return te("E",void 0,Se)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ie(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function be(Se,Re){return Le.call(Se,Re)}class We{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Re)}catch(Te){me(Te)}}error(Re){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Re)}catch(Te){me(Te)}else me(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(ve){me(ve)}}}class et extends Q{constructor(Re,ve,Te){let O;if(super(),(0,u.m)(Re)||!Re)O={next:Re??void 0,error:ve??void 0,complete:Te??void 0};else{let F;this&&P.v.useDeprecatedNextContext?(F=Object.create(Re),F.unsubscribe=()=>this.unsubscribe(),O={next:Re.next&&be(Re.next,F),error:Re.error&&be(Re.error,F),complete:Re.complete&&be(Re.complete,F)}):O=Re}this.destination=new We(O)}}function me(Se){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Se):(0,J.h)(Se)}function Ie(Se,Re){const{onStoppedNotification:ve}=P.v;ve&&G.z.setTimeout(()=>ve(Se,Re))}const Oe={closed:!0,next:oe.Z,error:function Ee(Se){throw Se},complete:oe.Z}},727:(ut,De,L)=>{"use strict";L.d(De,{Lc:()=>ue,w0:()=>oe,Nn:()=>_e});var u=L(576);const P=(0,L(3888).d)(te=>function(W){te(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,Le)=>`${Le+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var J=L(8737);class oe{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const be of W)be.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(be){G=be instanceof P?be.errors:[be]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const be of Le)try{he(be)}catch(We){G=G??[],We instanceof P?G=[...G,...We.errors]:G.push(We)}}if(G)throw new P(G)}}add(G){var W;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof oe){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,J.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,J.P)(W,G),G instanceof oe&&G._removeParent(this)}}oe.EMPTY=(()=>{const te=new oe;return te.closed=!0,te})();const ue=oe.EMPTY;function _e(te){return te instanceof oe||te&&"closed"in te&&(0,u.m)(te.remove)&&(0,u.m)(te.add)&&(0,u.m)(te.unsubscribe)}function he(te){(0,u.m)(te)?te():te.unsubscribe()}},2416:(ut,De,L)=>{"use strict";L.d(De,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,De,L)=>{"use strict";L.d(De,{E:()=>j});const j=new(L(9751).y)(oe=>oe.complete())},8996:(ut,De,L)=>{"use strict";L.d(De,{D:()=>Re});var u=L(8421),j=L(5363),P=L(9468),ue=L(9751),he=L(2202),te=L(576),G=L(9672);function Q(ve,Te){if(!ve)throw new Error("Iterable cannot be null");return new ue.y(O=>{(0,G.f)(O,Te,()=>{const F=ve[Symbol.asyncIterator]();(0,G.f)(O,Te,()=>{F.next().then(q=>{q.done?O.complete():O.next(q.value)})},0,!0)})})}var Le=L(3670),be=L(8239),We=L(1144),et=L(6495),me=L(2206),Ee=L(4532),Ie=L(3260);function Re(ve,Te){return Te?function Se(ve,Te){if(null!=ve){if((0,Le.c)(ve))return function J(ve,Te){return(0,u.Xf)(ve).pipe((0,P.R)(Te),(0,j.Q)(Te))}(ve,Te);if((0,We.z)(ve))return function _e(ve,Te){return new ue.y(O=>{let F=0;return Te.schedule(function(){F===ve.length?O.complete():(O.next(ve[F++]),O.closed||this.schedule())})})}(ve,Te);if((0,be.t)(ve))return function oe(ve,Te){return(0,u.Xf)(ve).pipe((0,P.R)(Te),(0,j.Q)(Te))}(ve,Te);if((0,me.D)(ve))return Q(ve,Te);if((0,et.T)(ve))return function W(ve,Te){return new ue.y(O=>{let F;return(0,G.f)(O,Te,()=>{F=ve[he.h](),(0,G.f)(O,Te,()=>{let q,fe;try{({value:q,done:fe}=F.next())}catch(de){return void O.error(de)}fe?O.complete():O.next(q)},0,!0)}),()=>(0,te.m)(F?.return)&&F.return()})}(ve,Te);if((0,Ie.L)(ve))return function Oe(ve,Te){return Q((0,Ie.Q)(ve),Te)}(ve,Te)}throw(0,Ee.z)(ve)}(ve,Te):(0,u.Xf)(ve)}},8421:(ut,De,L)=>{"use strict";L.d(De,{Xf:()=>Le});var u=L(655),j=L(1144),P=L(8239),J=L(9751),oe=L(3670),ue=L(2206),_e=L(4532),he=L(6495),te=L(3260),G=L(576),W=L(7849),Q=L(8822);function Le(Se){if(Se instanceof J.y)return Se;if(null!=Se){if((0,oe.c)(Se))return function be(Se){return new J.y(Re=>{const ve=Se[Q.L]();if((0,G.m)(ve.subscribe))return ve.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,j.z)(Se))return function We(Se){return new J.y(Re=>{for(let ve=0;ve<Se.length&&!Re.closed;ve++)Re.next(Se[ve]);Re.complete()})}(Se);if((0,P.t)(Se))return function et(Se){return new J.y(Re=>{Se.then(ve=>{Re.closed||(Re.next(ve),Re.complete())},ve=>Re.error(ve)).then(null,W.h)})}(Se);if((0,ue.D)(Se))return Ee(Se);if((0,he.T)(Se))return function me(Se){return new J.y(Re=>{for(const ve of Se)if(Re.next(ve),Re.closed)return;Re.complete()})}(Se);if((0,te.L)(Se))return function Ie(Se){return Ee((0,te.Q)(Se))}(Se)}throw(0,_e.z)(Se)}function Ee(Se){return new J.y(Re=>{(function Oe(Se,Re){var ve,Te,O,F;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ve=(0,u.KL)(Se);!(Te=yield ve.next()).done;)if(Re.next(Te.value),Re.closed)return}catch(q){O={error:q}}finally{try{Te&&!Te.done&&(F=ve.return)&&(yield F.call(ve))}finally{if(O)throw O.error}}Re.complete()})})(Se,Re).catch(ve=>Re.error(ve))})}},6451:(ut,De,L)=>{"use strict";L.d(De,{T:()=>ue});var u=L(8189),j=L(8421),P=L(515),J=L(7669),oe=L(8996);function ue(..._e){const he=(0,J.yG)(_e),te=(0,J._6)(_e,1/0),G=_e;return G.length?1===G.length?(0,j.Xf)(G[0]):(0,u.J)(te)((0,oe.D)(G,he)):P.E}},5403:(ut,De,L)=>{"use strict";L.d(De,{x:()=>j});var u=L(930);function j(J,oe,ue,_e,he){return new P(J,oe,ue,_e,he)}class P extends u.Lv{constructor(oe,ue,_e,he,te,G){super(oe),this.onFinalize=te,this.shouldUnsubscribe=G,this._next=ue?function(W){try{ue(W)}catch(Q){oe.error(Q)}}:super._next,this._error=he?function(W){try{he(W)}catch(Q){oe.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(ut,De,L)=>{"use strict";L.d(De,{U:()=>P});var u=L(4482),j=L(5403);function P(J,oe){return(0,u.e)((ue,_e)=>{let he=0;ue.subscribe((0,j.x)(_e,te=>{_e.next(J.call(oe,te,he++))}))})}},8189:(ut,De,L)=>{"use strict";L.d(De,{J:()=>P});var u=L(5577),j=L(4671);function P(J=1/0){return(0,u.z)(j.y,J)}},5577:(ut,De,L)=>{"use strict";L.d(De,{z:()=>he});var u=L(4004),j=L(8421),P=L(4482),J=L(9672),oe=L(5403),_e=L(576);function he(te,G,W=1/0){return(0,_e.m)(G)?he((Q,Le)=>(0,u.U)((be,We)=>G(Q,be,Le,We))((0,j.Xf)(te(Q,Le))),W):("number"==typeof G&&(W=G),(0,P.e)((Q,Le)=>function ue(te,G,W,Q,Le,be,We,et){const me=[];let Ee=0,Ie=0,Oe=!1;const Se=()=>{Oe&&!me.length&&!Ee&&G.complete()},Re=Te=>Ee<Q?ve(Te):me.push(Te),ve=Te=>{be&&G.next(Te),Ee++;let O=!1;(0,j.Xf)(W(Te,Ie++)).subscribe((0,oe.x)(G,F=>{Le?.(F),be?Re(F):G.next(F)},()=>{O=!0},void 0,()=>{if(O)try{for(Ee--;me.length&&Ee<Q;){const F=me.shift();We?(0,J.f)(G,We,()=>ve(F)):ve(F)}Se()}catch(F){G.error(F)}}))};return te.subscribe((0,oe.x)(G,Re,()=>{Oe=!0,Se()})),()=>{et?.()}}(Q,Le,te,W)))}},5363:(ut,De,L)=>{"use strict";L.d(De,{Q:()=>J});var u=L(9672),j=L(4482),P=L(5403);function J(oe,ue=0){return(0,j.e)((_e,he)=>{_e.subscribe((0,P.x)(he,te=>(0,u.f)(he,oe,()=>he.next(te),ue),()=>(0,u.f)(he,oe,()=>he.complete(),ue),te=>(0,u.f)(he,oe,()=>he.error(te),ue)))})}},3099:(ut,De,L)=>{"use strict";L.d(De,{B:()=>oe});var u=L(8421),j=L(7579),P=L(930),J=L(4482);function oe(_e={}){const{connector:he=(()=>new j.x),resetOnError:te=!0,resetOnComplete:G=!0,resetOnRefCountZero:W=!0}=_e;return Q=>{let Le,be,We,et=0,me=!1,Ee=!1;const Ie=()=>{be?.unsubscribe(),be=void 0},Oe=()=>{Ie(),Le=We=void 0,me=Ee=!1},Se=()=>{const Re=Le;Oe(),Re?.unsubscribe()};return(0,J.e)((Re,ve)=>{et++,!Ee&&!me&&Ie();const Te=We=We??he();ve.add(()=>{et--,0===et&&!Ee&&!me&&(be=ue(Se,W))}),Te.subscribe(ve),!Le&&et>0&&(Le=new P.Hp({next:O=>Te.next(O),error:O=>{Ee=!0,Ie(),be=ue(Oe,te,O),Te.error(O)},complete:()=>{me=!0,Ie(),be=ue(Oe,G),Te.complete()}}),(0,u.Xf)(Re).subscribe(Le))})(Q)}}function ue(_e,he,...te){if(!0===he)return void _e();if(!1===he)return;const G=new P.Hp({next:()=>{G.unsubscribe(),_e()}});return(0,u.Xf)(he(...te)).subscribe(G)}},9468:(ut,De,L)=>{"use strict";L.d(De,{R:()=>j});var u=L(4482);function j(P,J=0){return(0,u.e)((oe,ue)=>{ue.add(P.schedule(()=>oe.subscribe(ue),J))})}},8505:(ut,De,L)=>{"use strict";L.d(De,{b:()=>oe});var u=L(576),j=L(4482),P=L(5403),J=L(4671);function oe(ue,_e,he){const te=(0,u.m)(ue)||_e||he?{next:ue,error:_e,complete:he}:ue;return te?(0,j.e)((G,W)=>{var Q;null===(Q=te.subscribe)||void 0===Q||Q.call(te);let Le=!0;G.subscribe((0,P.x)(W,be=>{var We;null===(We=te.next)||void 0===We||We.call(te,be),W.next(be)},()=>{var be;Le=!1,null===(be=te.complete)||void 0===be||be.call(te),W.complete()},be=>{var We;Le=!1,null===(We=te.error)||void 0===We||We.call(te,be),W.error(be)},()=>{var be,We;Le&&(null===(be=te.unsubscribe)||void 0===be||be.call(te)),null===(We=te.finalize)||void 0===We||We.call(te)}))}):J.y}},4408:(ut,De,L)=>{"use strict";L.d(De,{o:()=>oe});var u=L(727);class j extends u.w0{constructor(_e,he){super()}schedule(_e,he=0){return this}}const P={setInterval(ue,_e,...he){const{delegate:te}=P;return te?.setInterval?te.setInterval(ue,_e,...he):setInterval(ue,_e,...he)},clearInterval(ue){const{delegate:_e}=P;return(_e?.clearInterval||clearInterval)(ue)},delegate:void 0};var J=L(8737);class oe extends j{constructor(_e,he){super(_e,he),this.scheduler=_e,this.work=he,this.pending=!1}schedule(_e,he=0){var te;if(this.closed)return this;this.state=_e;const G=this.id,W=this.scheduler;return null!=G&&(this.id=this.recycleAsyncId(W,G,he)),this.pending=!0,this.delay=he,this.id=null!==(te=this.id)&&void 0!==te?te:this.requestAsyncId(W,this.id,he),this}requestAsyncId(_e,he,te=0){return P.setInterval(_e.flush.bind(_e,this),te)}recycleAsyncId(_e,he,te=0){if(null!=te&&this.delay===te&&!1===this.pending)return he;null!=he&&P.clearInterval(he)}execute(_e,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const te=this._execute(_e,he);if(te)return te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,he){let G,te=!1;try{this.work(_e)}catch(W){te=!0,G=W||new Error("Scheduled action threw falsy error")}if(te)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:_e,scheduler:he}=this,{actions:te}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,J.P)(te,this),null!=_e&&(this.id=this.recycleAsyncId(he,_e,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,De,L)=>{"use strict";L.d(De,{v:()=>P});var u=L(6063);class j{constructor(oe,ue=j.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,_e){return new this.schedulerActionCtor(this,oe).schedule(_e,ue)}}j.now=u.l.now;class P extends j{constructor(oe,ue=j.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let _e;this._active=!0;do{if(_e=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,_e){for(;oe=ue.shift();)oe.unsubscribe();throw _e}}}},4986:(ut,De,L)=>{"use strict";L.d(De,{z:()=>P});var u=L(4408);const P=new(L(7565).v)(u.o)},6063:(ut,De,L)=>{"use strict";L.d(De,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ut,De,L)=>{"use strict";L.d(De,{z:()=>u});const u={setTimeout(j,P,...J){const{delegate:oe}=u;return oe?.setTimeout?oe.setTimeout(j,P,...J):setTimeout(j,P,...J)},clearTimeout(j){const{delegate:P}=u;return(P?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(ut,De,L)=>{"use strict";L.d(De,{h:()=>j});const j=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,De,L)=>{"use strict";L.d(De,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ut,De,L)=>{"use strict";L.d(De,{_6:()=>ue,jO:()=>J,yG:()=>oe});var u=L(576);function P(_e){return _e[_e.length-1]}function J(_e){return(0,u.m)(P(_e))?_e.pop():void 0}function oe(_e){return function j(_e){return _e&&(0,u.m)(_e.schedule)}(P(_e))?_e.pop():void 0}function ue(_e,he){return"number"==typeof P(_e)?_e.pop():he}},8737:(ut,De,L)=>{"use strict";function u(j,P){if(j){const J=j.indexOf(P);0<=J&&j.splice(J,1)}}L.d(De,{P:()=>u})},3888:(ut,De,L)=>{"use strict";function u(j){const J=j(oe=>{Error.call(oe),oe.stack=(new Error).stack});return J.prototype=Object.create(Error.prototype),J.prototype.constructor=J,J}L.d(De,{d:()=>u})},2806:(ut,De,L)=>{"use strict";L.d(De,{O:()=>J,x:()=>P});var u=L(2416);let j=null;function P(oe){if(u.v.useDeprecatedSynchronousErrorHandling){const ue=!j;if(ue&&(j={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:_e,error:he}=j;if(j=null,_e)throw he}}else oe()}function J(oe){u.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=oe)}},9672:(ut,De,L)=>{"use strict";function u(j,P,J,oe=0,ue=!1){const _e=P.schedule(function(){J(),ue?j.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(j.add(_e),!ue)return _e}L.d(De,{f:()=>u})},4671:(ut,De,L)=>{"use strict";function u(j){return j}L.d(De,{y:()=>u})},1144:(ut,De,L)=>{"use strict";L.d(De,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(ut,De,L)=>{"use strict";L.d(De,{D:()=>j});var u=L(576);function j(P){return Symbol.asyncIterator&&(0,u.m)(P?.[Symbol.asyncIterator])}},576:(ut,De,L)=>{"use strict";function u(j){return"function"==typeof j}L.d(De,{m:()=>u})},3670:(ut,De,L)=>{"use strict";L.d(De,{c:()=>P});var u=L(8822),j=L(576);function P(J){return(0,j.m)(J[u.L])}},6495:(ut,De,L)=>{"use strict";L.d(De,{T:()=>P});var u=L(2202),j=L(576);function P(J){return(0,j.m)(J?.[u.h])}},8239:(ut,De,L)=>{"use strict";L.d(De,{t:()=>j});var u=L(576);function j(P){return(0,u.m)(P?.then)}},3260:(ut,De,L)=>{"use strict";L.d(De,{L:()=>J,Q:()=>P});var u=L(655),j=L(576);function P(oe){return(0,u.FC)(this,arguments,function*(){const _e=oe.getReader();try{for(;;){const{value:he,done:te}=yield(0,u.qq)(_e.read());if(te)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(he)}}finally{_e.releaseLock()}})}function J(oe){return(0,j.m)(oe?.getReader)}},4482:(ut,De,L)=>{"use strict";L.d(De,{A:()=>j,e:()=>P});var u=L(576);function j(J){return(0,u.m)(J?.lift)}function P(J){return oe=>{if(j(oe))return oe.lift(function(ue){try{return J(ue,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,De,L)=>{"use strict";function u(){}L.d(De,{Z:()=>u})},9635:(ut,De,L)=>{"use strict";L.d(De,{U:()=>P,z:()=>j});var u=L(4671);function j(...J){return P(J)}function P(J){return 0===J.length?u.y:1===J.length?J[0]:function(ue){return J.reduce((_e,he)=>he(_e),ue)}}},7849:(ut,De,L)=>{"use strict";L.d(De,{h:()=>P});var u=L(2416),j=L(3410);function P(J){j.z.setTimeout(()=>{const{onUnhandledError:oe}=u.v;if(!oe)throw J;oe(J)})}},4532:(ut,De,L)=>{"use strict";function u(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(De,{z:()=>u})},655:(ut,De,L)=>{"use strict";function J(ne,ae){var ee={};for(var ye in ne)Object.prototype.hasOwnProperty.call(ne,ye)&&ae.indexOf(ye)<0&&(ee[ye]=ne[ye]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var pe=0;for(ye=Object.getOwnPropertySymbols(ne);pe<ye.length;pe++)ae.indexOf(ye[pe])<0&&Object.prototype.propertyIsEnumerable.call(ne,ye[pe])&&(ee[ye[pe]]=ne[ye[pe]])}return ee}function Q(ne,ae,ee,ye){return new(ee||(ee=Promise))(function(Ne,He){function ge(Ge){try{Qe(ye.next(Ge))}catch(Ve){He(Ve)}}function ht(Ge){try{Qe(ye.throw(Ge))}catch(Ve){He(Ve)}}function Qe(Ge){Ge.done?Ne(Ge.value):function pe(Ne){return Ne instanceof ee?Ne:new ee(function(He){He(Ne)})}(Ge.value).then(ge,ht)}Qe((ye=ye.apply(ne,ae||[])).next())})}function Se(ne){return this instanceof Se?(this.v=ne,this):new Se(ne)}function Re(ne,ae,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ye=ee.apply(ne,ae||[]),Ne=[];return pe={},He("next"),He("throw"),He("return"),pe[Symbol.asyncIterator]=function(){return this},pe;function He(gt){ye[gt]&&(pe[gt]=function(Ut){return new Promise(function(ze,lt){Ne.push([gt,Ut,ze,lt])>1||ge(gt,Ut)})})}function ge(gt,Ut){try{!function ht(gt){gt.value instanceof Se?Promise.resolve(gt.value.v).then(Qe,Ge):Ve(Ne[0][2],gt)}(ye[gt](Ut))}catch(ze){Ve(Ne[0][3],ze)}}function Qe(gt){ge("next",gt)}function Ge(gt){ge("throw",gt)}function Ve(gt,Ut){gt(Ut),Ne.shift(),Ne.length&&ge(Ne[0][0],Ne[0][1])}}function Te(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,ae=ne[Symbol.asyncIterator];return ae?ae.call(ne):(ne=function et(ne){var ae="function"==typeof Symbol&&Symbol.iterator,ee=ae&&ne[ae],ye=0;if(ee)return ee.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&ye>=ne.length&&(ne=void 0),{value:ne&&ne[ye++],done:!ne}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),ee={},ye("next"),ye("throw"),ye("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function ye(Ne){ee[Ne]=ne[Ne]&&function(He){return new Promise(function(ge,ht){!function pe(Ne,He,ge,ht){Promise.resolve(ht).then(function(Qe){Ne({value:Qe,done:ge})},He)}(ge,ht,(He=ne[Ne](He)).done,He.value)})}}}L.d(De,{FC:()=>Re,KL:()=>Te,_T:()=>J,mG:()=>Q,qq:()=>Se})},4650:(ut,De,L)=>{"use strict";L.d(De,{$8M:()=>Fs,$WT:()=>Rr,$Z:()=>My,AFp:()=>RC,ALo:()=>fp,AaK:()=>he,AsE:()=>um,BQk:()=>Zt,CHM:()=>Cu,CRH:()=>La,CZH:()=>Ip,CqO:()=>ov,D6c:()=>Qb,EJc:()=>QI,EpF:()=>sv,F4k:()=>xi,FYo:()=>cy,FiY:()=>Jr,Gf:()=>yh,GfV:()=>dy,Gpc:()=>W,JOm:()=>jr,KtG:()=>Vc,LFG:()=>Be,LSH:()=>md,Lbi:()=>YI,Lck:()=>lp,MAs:()=>hn,MGl:()=>Ud,MMx:()=>Hm,NdJ:()=>nm,OlP:()=>vn,Oqu:()=>Yd,P3R:()=>lg,PXZ:()=>cw,Q6J:()=>Yt,QGY:()=>Ld,Qsj:()=>zE,R0b:()=>ws,RDi:()=>DE,Rgc:()=>au,SBq:()=>Po,Sil:()=>JI,Suo:()=>Fi,TTD:()=>is,TgZ:()=>ac,W1O:()=>fC,WLB:()=>$m,X6Q:()=>fw,XFs:()=>Ze,Xpm:()=>yr,Xts:()=>ya,Y36:()=>Ju,YKP:()=>zv,YNc:()=>tm,Yjl:()=>za,Yz7:()=>Ve,Z0I:()=>lt,ZZ4:()=>Mp,_Bn:()=>ap,_UZ:()=>Zl,_Vd:()=>Ca,_c5:()=>nE,_uU:()=>$f,aQg:()=>w_,c2e:()=>Lr,cJS:()=>Ut,cg1:()=>gm,dDg:()=>d_,dqk:()=>Ke,eFA:()=>g_,eJc:()=>lu,ekj:()=>Bf,eoX:()=>h_,f3M:()=>Je,g9A:()=>xC,gM2:()=>nC,h0i:()=>iu,hGG:()=>rE,hij:()=>Wf,iGM:()=>Uo,ifc:()=>R,ip1:()=>qI,jDz:()=>qv,kL8:()=>Iv,kYT:()=>qn,lG2:()=>Ga,lqb:()=>kl,lri:()=>iw,n5z:()=>Eo,oAB:()=>Ho,oxw:()=>uv,q4F:()=>_g,qLn:()=>Ed,qOj:()=>kd,qZA:()=>Pf,rWj:()=>sw,s9C:()=>rm,sBO:()=>y_,s_b:()=>ph,soG:()=>Va,tb:()=>kC,tp0:()=>I,uIk:()=>Ta,vHH:()=>me,vpe:()=>ni,wAp:()=>vt,xi3:()=>Gm,xp6:()=>Cy,ynx:()=>In,z2F:()=>Ba,zSh:()=>hg,zs3:()=>Yu});var u=L(7579),j=L(727),P=L(9751),J=L(6451),oe=L(3099);function ue(r){for(let s in r)if(r[s]===ue)return s;throw Error("Could not find renamed property on target object.")}function _e(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function te(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const G=ue({__forward_ref__:ue});function W(r){return r.__forward_ref__=W,r.toString=function(){return he(this())},r}function Q(r){return Le(r)?r():r}function Le(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===W}function be(r){return r&&!!r.\u0275providers}const et="https://g.co/ng/security#xss";class me extends Error{constructor(s,o){super(Ee(s,o)),this.code=s}}function Ee(r,s){return`NG0${Math.abs(r)}${s?": "+s.trim():""}`}function Ie(r){return"string"==typeof r?r:null==r?"":String(r)}function Te(r,s){throw new me(-201,!1)}function He(r,s){null==r&&function ge(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function Ve(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ut(r){return{providers:r.providers||[],imports:r.imports||[]}}function ze(r){return Pt(r,Xt)||Pt(r,Wt)}function lt(r){return null!==ze(r)}function Pt(r,s){return r.hasOwnProperty(s)?r[s]:null}function qt(r){return r&&(r.hasOwnProperty($t)||r.hasOwnProperty(an))?r[$t]:null}const Xt=ue({\u0275prov:ue}),$t=ue({\u0275inj:ue}),Wt=ue({ngInjectableDef:ue}),an=ue({ngInjectorDef:ue});var Ze=(()=>((Ze=Ze||{})[Ze.Default=0]="Default",Ze[Ze.Host=1]="Host",Ze[Ze.Self=2]="Self",Ze[Ze.SkipSelf=4]="SkipSelf",Ze[Ze.Optional=8]="Optional",Ze))();let gn;function Mt(r){const s=gn;return gn=r,s}function kt(r,s,o){const l=ze(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&Ze.Optional?null:void 0!==s?s:void Te(he(r))}const Ke=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ln={},dn="__NG_DI_FLAG__",mn="ngTempTokenPath",on="ngTokenPath",Zn=/\n/gm,ft="\u0275",ar="__source";let Tt;function _r(r){const s=Tt;return Tt=r,s}function Pn(r,s=Ze.Default){if(void 0===Tt)throw new me(-203,!1);return null===Tt?kt(r,void 0,s):Tt.get(r,s&Ze.Optional?null:void 0,s)}function Be(r,s=Ze.Default){return(function cn(){return gn}()||Pn)(Q(r),s)}function Je(r,s=Ze.Default){return Be(r,pt(s))}function pt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Ct(r){const s=[];for(let o=0;o<r.length;o++){const l=Q(r[o]);if(Array.isArray(l)){if(0===l.length)throw new me(900,!1);let c,h=Ze.Default;for(let m=0;m<l.length;m++){const v=l[m],E=xn(v);"number"==typeof E?-1===E?c=v.token:h|=E:c=v}s.push(Be(c,h))}else s.push(Be(l))}return s}function Qt(r,s){return r[dn]=s,r.prototype[dn]=s,r}function xn(r){return r[dn]}function x(r){return{toString:r}.toString()}var k=(()=>((k=k||{})[k.OnPush=0]="OnPush",k[k.Default=1]="Default",k))(),R=(()=>{return(r=R||(R={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",R;var r})();const X={},ce=[],tt=ue({\u0275cmp:ue}),_t=ue({\u0275dir:ue}),Et=ue({\u0275pipe:ue}),Gt=ue({\u0275mod:ue}),yt=ue({\u0275fac:ue}),yn=ue({__NG_ELEMENT_ID__:ue});let Ft=0;function yr(r){return x(()=>{const s=tr(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===k.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,data:r.data||{},encapsulation:r.encapsulation||R.Emulated,id:"c"+Ft++,styles:r.styles||ce,_:null,schemas:r.schemas||null,tView:null};Za(o);const l=r.dependencies;return o.directiveDefs=Vi(l,!1),o.pipeDefs=Vi(l,!0),o})}function Bo(r){return sn(r)||On(r)}function Wa(r){return null!==r}function Ho(r){return x(()=>({type:r.type,bootstrap:r.bootstrap||ce,declarations:r.declarations||ce,imports:r.imports||ce,exports:r.exports||ce,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function qn(r,s){return x(()=>{const o=vr(r,!0);o.declarations=s.declarations||ce,o.imports=s.imports||ce,o.exports=s.exports||ce})}function Xs(r,s){if(null==r)return X;const o={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=l,s&&(s[c]=h)}return o}function Ga(r){return x(()=>{const s=tr(r);return Za(s),s})}function za(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function sn(r){return r[tt]||null}function On(r){return r[_t]||null}function er(r){return r[Et]||null}function Rr(r){const s=sn(r)||On(r)||er(r);return null!==s&&s.standalone}function vr(r,s){const o=r[Gt]||null;if(!o&&!0===s)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return o}function tr(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,exportAs:r.exportAs||null,standalone:!0===r.standalone,selectors:r.selectors||ce,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xs(r.inputs,s),outputs:Xs(r.outputs)}}function Za(r){r.features?.forEach(s=>s(r))}function Vi(r,s){if(!r)return null;const o=s?er:Bo;return()=>("function"==typeof r?r():r).map(l=>o(l)).filter(Wa)}const si=0,Xe=1,Lt=2,pn=3,Cr=4,_i=5,Tn=6,yi=7,Sn=8,Ur=9,qa=10,xt=11,jo=12,Bi=13,eo=14,ns=15,lr=16,Hi=17,vi=18,Kn=19,Ds=20,kc=21,St=22,to=1,fu=2,Ci=7,oi=8,ji=9,ur=10;function cr(r){return Array.isArray(r)&&"object"==typeof r[to]}function Yn(r){return Array.isArray(r)&&!0===r[to]}function Ka(r){return 0!=(4&r.flags)}function $o(r){return r.componentOffset>-1}function ai(r){return 1==(1&r.flags)}function li(r){return!!r.template}function no(r){return 0!=(256&r[Lt])}function Br(r,s){return r.hasOwnProperty(yt)?r[yt]:null}class Wo{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function is(){return io}function io(r){return r.type.prototype.ngOnChanges&&(r.setInput=so),ss}function ss(){const r=zo(this),s=r?.current;if(s){const o=r.previous;if(o===X)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function so(r,s,o,l){const c=this.declaredInputs[o],h=zo(r)||function Ya(r,s){return r[Go]=s}(r,{previous:X,current:null}),m=h.current||(h.current={}),v=h.previous,E=v[c];m[c]=new Wo(E&&E.currentValue,s,v===X),r[l]=s}is.ngInherit=!0;const Go="__ngSimpleChanges__";function zo(r){return r[Go]||null}const un=function(r,s,o){};function An(r){for(;Array.isArray(r);)r=r[si];return r}function Gi(r,s){return An(s[r])}function Qn(r,s){return An(s[r.index])}function ao(r,s){return r.data[s]}function Hr(r,s){return r[s]}function nr(r,s){const o=s[r];return cr(o)?o:o[si]}function os(r){return 64==(64&r[Lt])}function zr(r,s){return null==s?null:r[s]}function Zo(r){r[vi]=0}function lo(r,s){r[_i]+=s;let o=r,l=r[pn];for(;null!==l&&(1===s&&1===o[_i]||-1===s&&0===o[_i]);)l[_i]+=s,o=l,l=l[pn]}const bt={lFrame:Hh(null),bindingsEnabled:!0};function vu(){return bt.bindingsEnabled}function xe(){return bt.lFrame.lView}function en(){return bt.lFrame.tView}function Cu(r){return bt.lFrame.contextLView=r,r[Sn]}function Vc(r){return bt.lFrame.contextLView=null,r}function Nn(){let r=Bc();for(;null!==r&&64===r.type;)r=r.parent;return r}function Bc(){return bt.lFrame.currentTNode}function Zr(r,s){const o=bt.lFrame;o.currentTNode=r,o.isParent=s}function Ko(){return bt.lFrame.isParent}function Yo(){bt.lFrame.isParent=!1}function Bn(){const r=bt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function as(){return bt.lFrame.bindingIndex++}function ci(r){const s=bt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function ll(r,s){const o=bt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ii(s)}function Ii(r){bt.lFrame.currentDirectiveIndex=r}function Iu(){return bt.lFrame.currentQueryIndex}function Xo(r){bt.lFrame.currentQueryIndex=r}function Bh(r){const s=r[Xe];return 2===s.type?s.declTNode:1===s.type?r[Tn]:null}function cl(r,s,o){if(o&Ze.SkipSelf){let c=s,h=r;for(;!(c=c.parent,null!==c||o&Ze.Host||(c=Bh(h),null===c||(h=h[ns],10&c.type))););if(null===c)return!1;s=c,r=h}const l=bt.lFrame=Pp();return l.currentTNode=s,l.lView=r,!0}function wu(r){const s=Pp(),o=r[Xe];bt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Pp(){const r=bt.lFrame,s=null===r?null:r.child;return null===s?Hh(r):s}function Hh(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function dl(){const r=bt.lFrame;return bt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const xp=dl;function jc(){const r=dl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Er(){return bt.lFrame.selectedIndex}function Zi(r){bt.lFrame.selectedIndex=r}function fn(){const r=bt.lFrame;return ao(r.tView,r.selectedIndex)}function hl(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:M}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),v&&((r.contentHooks||(r.contentHooks=[])).push(o,v),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,v)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),D&&((r.viewHooks||(r.viewHooks=[])).push(o,D),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,D)),null!=M&&(r.destroyHooks||(r.destroyHooks=[])).push(o,M)}}function co(r,s,o){qr(r,s,3,o)}function Rs(r,s,o,l){(3&r[Lt])===o&&qr(r,s,o,l)}function ho(r,s){let o=r[Lt];(3&o)===s&&(o&=2047,o+=1,r[Lt]=o)}function qr(r,s,o,l){const h=l??-1,m=s.length-1;let v=0;for(let E=void 0!==l?65535&r[vi]:0;E<m;E++)if("number"==typeof s[E+1]){if(v=s[E],null!=l&&v>=l)break}else s[E]<0&&(r[vi]+=65536),(v<h||-1==h)&&(Du(r,o,s,E),r[vi]=(4294901760&r[vi])+E+2),E++}function Du(r,s,o,l){const c=o[l]<0,h=o[l+1],v=r[c?-o[l]:o[l]];if(c){if(r[Lt]>>11<r[vi]>>16&&(3&r[Lt])===s){r[Lt]+=2048,un(4,v,h);try{h.call(v)}finally{un(5,v,h)}}}else{un(4,v,h);try{h.call(v)}finally{un(5,v,h)}}}const Kr=-1;class fo{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ps(r,s,o){let l=0;for(;l<o.length;){const c=o[l];if("number"==typeof c){if(0!==c)break;l++;const h=o[l++],m=o[l++],v=o[l++];r.setAttribute(s,m,v,h)}else{const h=c,m=o[++l];xs(h)?r.setProperty(s,h,m):r.setAttribute(s,h,m),l++}}return l}function Cn(r){return 3===r||4===r||6===r}function xs(r){return 64===r.charCodeAt(0)}function di(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?o=c:0===o||mo(r,o,c,null,-1===o||2===o?s[++l]:null)}}return r}function mo(r,s,o,l,c){let h=0,m=r.length;if(-1===s)m=-1;else for(;h<r.length;){const v=r[h++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=h-1;break}}}for(;h<r.length;){const v=r[h];if("number"==typeof v)break;if(v===o){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==m&&(r.splice(m,0,s),h=m+1),r.splice(h++,0,o),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function _o(r){return r!==Kr}function na(r){return 32767&r}function ls(r,s){let o=function Wc(r){return r>>16}(r),l=s;for(;o>0;)l=l[ns],o--;return l}let ra=!0;function wi(r){const s=ra;return ra=r,s}const bi=255,Os=5;let yo=0;const Ir={};function us(r,s){const o=ks(r,s);if(-1!==o)return o;const l=s[Xe];l.firstCreatePass&&(r.injectorIndex=s.length,Ns(l.data,r),Ns(s,null),Ns(l.blueprint,null));const c=cs(r,s),h=r.injectorIndex;if(_o(c)){const m=na(c),v=ls(c,s),E=v[Xe].data;for(let D=0;D<8;D++)s[h+D]=v[m+D]|E[m+D]}return s[h+8]=c,h}function Ns(r,s){r.push(0,0,0,0,0,0,0,0,s)}function ks(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function cs(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,c=s;for(;null!==c;){if(l=Mu(c),null===l)return Kr;if(o++,c=c[ns],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Kr}function vo(r,s,o){!function ia(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(yn)&&(l=o[yn]),null==l&&(l=o[yn]=yo++);const c=l&bi;s.data[r+(c>>Os)]|=1<<c}(r,s,o)}function sa(r,s,o){if(o&Ze.Optional||void 0!==r)return r;Te()}function gl(r,s,o,l){if(o&Ze.Optional&&void 0===l&&(l=null),!(o&(Ze.Self|Ze.Host))){const c=r[Ur],h=Mt(void 0);try{return c?c.get(s,l,o&Ze.Optional):kt(s,l,o&Ze.Optional)}finally{Mt(h)}}return sa(l,0,o)}function oa(r,s,o,l=Ze.Default,c){if(null!==r){if(1024&s[Lt]){const m=function Au(r,s,o,l,c){let h=r,m=s;for(;null!==h&&null!==m&&1024&m[Lt]&&!(256&m[Lt]);){const v=Su(h,m,o,l|Ze.Self,Ir);if(v!==Ir)return v;let E=h.parent;if(!E){const D=m[kc];if(D){const M=D.get(o,Ir,l);if(M!==Ir)return M}E=Mu(m),m=m[ns]}h=E}return c}(r,s,o,l,Ir);if(m!==Ir)return m}const h=Su(r,s,o,l,Ir);if(h!==Ir)return h}return gl(s,o,l,c)}function Su(r,s,o,l,c){const h=function Co(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(yn)?r[yn]:void 0;return"number"==typeof s?s>=0?s&bi:_l:s}(o);if("function"==typeof h){if(!cl(s,r,l))return l&Ze.Host?sa(c,0,l):gl(s,o,l,c);try{const m=h(l);if(null!=m||l&Ze.Optional)return m;Te()}finally{xp()}}else if("number"==typeof h){let m=null,v=ks(r,s),E=Kr,D=l&Ze.Host?s[lr][Tn]:null;for((-1===v||l&Ze.SkipSelf)&&(E=-1===v?cs(r,s):s[v+8],E!==Kr&&la(l,!1)?(m=s[Xe],v=na(E),s=ls(E,s)):v=-1);-1!==v;){const M=s[Xe];if(ml(h,v,M.data)){const V=Yr(v,s,o,m,l,D);if(V!==Ir)return V}E=s[v+8],E!==Kr&&la(l,s[Xe].data[v+8]===D)&&ml(h,v,s)?(m=M,v=na(E),s=ls(E,s)):v=-1}}return c}function Yr(r,s,o,l,c,h){const m=s[Xe],v=m.data[r+8],M=aa(v,m,o,null==l?$o(v)&&ra:l!=m&&0!=(3&v.type),c&Ze.Host&&h===v);return null!==M?Di(s,m,M,v):Ir}function aa(r,s,o,l,c){const h=r.providerIndexes,m=s.data,v=1048575&h,E=r.directiveStart,M=h>>20,Y=c?v+M:r.directiveEnd;for(let ie=l?v:v+M;ie<Y;ie++){const Ce=m[ie];if(ie<E&&o===Ce||ie>=E&&Ce.type===o)return ie}if(c){const ie=m[E];if(ie&&li(ie)&&ie.type===o)return E}return null}function Di(r,s,o,l){let c=r[o];const h=s.data;if(function Tu(r){return r instanceof fo}(c)){const m=c;m.resolving&&function Se(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new me(-200,`Circular dependency in DI detected for ${r}${o}`)}(function Oe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ie(r)}(h[o]));const v=wi(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?Mt(m.injectImpl):null;cl(r,l,Ze.Default);try{c=r[o]=m.factory(void 0,h,r,l),s.firstCreatePass&&o>=l.directiveStart&&function $c(r,s,o){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(l){const m=io(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],s)}finally{null!==E&&Mt(E),wi(v),m.resolving=!1,xp()}}return c}function ml(r,s,o){return!!(o[s+(r>>Os)]&1<<r)}function la(r,s){return!(r&Ze.Self||r&Ze.Host&&s)}class wr{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return oa(this._tNode,this._lView,s,pt(l),o)}}function _l(){return new wr(Nn(),xe())}function Eo(r){return x(()=>{const s=r.prototype.constructor,o=s[yt]||yl(s),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[yt]||yl(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function yl(r){return Le(r)?()=>{const s=yl(Q(r));return s&&s()}:Br(r)}function Mu(r){const s=r[Xe],o=s.type;return 2===o?s.declTNode:1===o?r[Tn]:null}function Fs(r){return function zc(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let c=0;for(;c<l;){const h=o[c];if(Cn(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof o[c];)c++;else{if(h===s)return o[c+1];c+=2}}}return null}(Nn(),r)}const ds="__parameters__";function hs(r,s,o){return x(()=>{const l=function Ru(r){return function(...o){if(r){const l=r(...o);for(const c in l)this[c]=l[c]}}}(s);function c(...h){if(this instanceof c)return l.apply(this,h),this;const m=new c(...h);return v.annotation=m,v;function v(E,D,M){const V=E.hasOwnProperty(ds)?E[ds]:Object.defineProperty(E,ds,{value:[]})[ds];for(;V.length<=M;)V.push(null);return(V[M]=V[M]||[]).push(m),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class vn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ve({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ki(r,s){r.forEach(o=>Array.isArray(o)?Ki(o,s):s(o))}function Il(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function ps(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function nn(r,s,o){let l=it(r,s);return l>=0?r[1|l]=o:(l=~l,function ku(r,s,o,l){let c=r.length;if(c==s)r.push(o,l);else if(1===c)r.push(l,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>s;)r[c]=r[c-2],c--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function Ti(r,s){const o=it(r,s);if(o>=0)return r[1|o]}function it(r,s){return function Dr(r,s,o){let l=0,c=r.length>>o;for(;c!==l;){const h=l+(c-l>>1),m=r[h<<o];if(s===m)return h<<o;m>s?c=h:l=h+1}return~(c<<o)}(r,s,1)}const Jr=Qt(hs("Optional"),8),I=Qt(hs("SkipSelf"),4);var jr=(()=>((jr=jr||{})[jr.Important=1]="Important",jr[jr.DashCase=2]="DashCase",jr))();const fi=new Map;let Yh=0;const nd="__ngContext__";function ir(r,s){cr(s)?(r[nd]=s[Ds],function Qh(r){fi.set(r[Ds],r)}(s)):r[nd]=s}let fa;function _(r,s){return fa(r,s)}function g(r){const s=r[pn];return Yn(s)?s[pn]:s}function N(r){return Ae(r[Bi])}function re(r){return Ae(r[Cr])}function Ae(r){for(;null!==r&&!Yn(r);)r=r[Cr];return r}function qe(r,s,o,l,c){if(null!=l){let h,m=!1;Yn(l)?h=l:cr(l)&&(m=!0,l=l[si]);const v=An(l);0===r&&null!==o?null==c?N_(s,o,v):ma(s,o,v,c||null,!0):1===r&&null!==o?ma(s,o,v,c||null,!0):2===r?function dd(r,s,o){const l=cd(r,s);l&&function ld(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,v,m):3===r&&s.destroyNode(v),null!=h&&function $s(r,s,o,l,c){const h=o[Ci];h!==An(o)&&qe(s,r,l,h,c);for(let v=ur;v<o.length;v++){const E=o[v];Wu(E[Xe],E,r,s,l,h)}}(s,r,h,o,c)}}function pi(r,s,o){return r.createElement(s,o)}function Hu(r,s){const o=r[ji],l=o.indexOf(s),c=s[pn];512&s[Lt]&&(s[Lt]&=-513,lo(c,-1)),o.splice(l,1)}function pa(r,s){if(r.length<=ur)return;const o=ur+s,l=r[o];if(l){const c=l[Hi];null!==c&&c!==r&&Hu(c,l),s>0&&(r[o-1][Cr]=l[Cr]);const h=ps(r,ur+s);!function Hs(r,s){Wu(r,s,s[xt],2,null,null),s[si]=null,s[Tn]=null}(l[Xe],l);const m=h[Kn];null!==m&&m.detachView(h[Xe]),l[pn]=null,l[Cr]=null,l[Lt]&=-65}return l}function ga(r,s){if(!(128&s[Lt])){const o=s[xt];o.destroyNode&&Wu(r,s,o,3,null,null),function id(r){let s=r[Bi];if(!s)return Pl(r[Xe],r);for(;s;){let o=null;if(cr(s))o=s[Bi];else{const l=s[ur];l&&(o=l)}if(!o){for(;s&&!s[Cr]&&s!==r;)cr(s)&&Pl(s[Xe],s),s=s[pn];null===s&&(s=r),cr(s)&&Pl(s[Xe],s),o=s&&s[Cr]}s=o}}(s)}}function Pl(r,s){if(!(128&s[Lt])){s[Lt]&=-65,s[Lt]|=128,function sd(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const c=s[o[l]];if(!(c instanceof fo)){const h=o[l+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=c[h[m]],E=h[m+1];un(4,v,E);try{E.call(v)}finally{un(5,v,E)}}else{un(4,c,h);try{h.call(c)}finally{un(5,c,h)}}}}}(r,s),function js(r,s){const o=r.cleanup,l=s[yi];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?l[c=m]():l[c=-m].unsubscribe(),h+=2}else{const m=l[c=o[h+1]];o[h].call(m)}if(null!==l){for(let h=c+1;h<l.length;h++)(0,l[h])();s[yi]=null}}(r,s),1===s[Xe].type&&s[xt].destroy();const o=s[Hi];if(null!==o&&Yn(s[pn])){o!==s[pn]&&Hu(o,s);const l=s[Kn];null!==l&&l.detachView(r)}!function fr(r){fi.delete(r[Ds])}(s)}}function od(r,s,o){return function ad(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[si];{const{componentOffset:c}=l;if(c>-1){const{encapsulation:h}=r.data[l.directiveStart+c];if(h===R.None||h===R.Emulated)return null}return Qn(l,o)}}(r,s.parent,o)}function ma(r,s,o,l,c){r.insertBefore(s,o,l,c)}function N_(r,s,o){r.appendChild(s,o)}function ju(r,s,o,l,c){null!==l?ma(r,s,o,l,c):N_(r,s,o)}function cd(r,s){return r.parentNode(s)}let Wp,Yp,rf,F_=function xl(r,s,o){return 40&r.type?Qn(r,o):null};function nf(r,s,o,l){const c=od(r,l,s),h=s[xt],v=function $p(r,s,o){return F_(r,s,o)}(l.parent||s[Tn],l,s);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)ju(h,c,o[E],v,!1);else ju(h,c,o,v,!1);void 0!==Wp&&Wp(h,l,s,o,c)}function $u(r,s){if(null!==s){const o=s.type;if(3&o)return Qn(s,r);if(4&o)return zp(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return $u(r,l);{const c=r[s.index];return Yn(c)?zp(-1,c):An(c)}}if(32&o)return _(s,r)()||An(r[s.index]);{const l=Ol(r,s);return null!==l?Array.isArray(l)?l[0]:$u(g(r[lr]),l):$u(r,s.next)}}return null}function Ol(r,s){return null!==s?r[lr][Tn].projection[s.projection]:null}function zp(r,s){const o=ur+r+1;if(o<s.length){const l=s[o],c=l[Xe].firstChild;if(null!==c)return $u(l,c)}return s[Ci]}function Zp(r,s,o,l,c,h,m){for(;null!=o;){const v=l[o.index],E=o.type;if(m&&0===s&&(v&&ir(An(v),l),o.flags|=2),32!=(32&o.flags))if(8&E)Zp(r,s,o.child,l,c,h,!1),qe(s,r,c,v,h);else if(32&E){const D=_(o,l);let M;for(;M=D();)qe(s,r,c,M,h);qe(s,r,c,v,h)}else 16&E?Gu(r,s,l,o,c,h):qe(s,r,c,v,h);o=m?o.projectionNext:o.next}}function Wu(r,s,o,l,c,h){Zp(o,l,r.firstChild,s,c,h,!1)}function Gu(r,s,o,l,c,h){const m=o[lr],E=m[Tn].projection[l.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)qe(s,r,c,E[D],h);else Zp(r,s,E,m[pn],c,h,!0)}function hd(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function fd(r,s,o){const{mergedAttrs:l,classes:c,styles:h}=o;null!==l&&Ps(r,s,l),null!==c&&hd(r,s,c),null!==h&&function Nl(r,s,o){r.setAttribute(s,"style",o)}(r,s,h)}function DE(r){Yp=r}function B_(r){return function Qp(){if(void 0===rf&&(rf=null,Ke.trustedTypes))try{rf=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return rf}()?.createScriptURL(r)||r}class H_{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${et})`}}function $r(r){return r instanceof H_?r.changingThisBreaksApplicationSecurity:r}function Ws(r,s){const o=function $_(r){return r instanceof H_&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${et})`)}return o===s}const ng=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function md(r){const s=yd();return s?s.sanitize(sr.URL,r)||"":Ws(r,"URL")?$r(r):function gd(r){return(r=String(r)).match(ng)?r:"unsafe:"+r}(Ie(r))}function Mi(r){const s=yd();if(s)return B_(s.sanitize(sr.RESOURCE_URL,r)||"");if(Ws(r,"ResourceURL"))return B_($r(r));throw new me(904,!1)}function lg(r,s,o){return function VE(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Mi:md}(s,o)(r)}function yd(){const r=xe();return r&&r[jo]}const ya=new vn("ENVIRONMENT_INITIALIZER"),qu=new vn("INJECTOR",-1),Q_=new vn("INJECTOR_DEF_TYPES");class J_{get(s,o=ln){if(o===ln){const l=new Error(`NullInjectorError: No provider for ${he(s)}!`);throw l.name="NullInjectorError",l}return o}}function vd(...r){return{\u0275providers:X_(0,r),\u0275fromNgModule:!0}}function X_(r,...s){const o=[],l=new Set;let c;return Ki(s,h=>{const m=h;cg(m,o,[],l)&&(c||(c=[]),c.push(m))}),void 0!==c&&ey(c,o),o}function ey(r,s){for(let o=0;o<r.length;o++){const{providers:c}=r[o];dg(c,h=>{s.push(h)})}}function cg(r,s,o,l){if(!(r=Q(r)))return!1;let c=null,h=qt(r);const m=!h&&sn(r);if(h||m){if(m&&!m.standalone)return!1;c=r}else{const E=r.ngModule;if(h=qt(E),!h)return!1;c=E}const v=l.has(c);if(m){if(v)return!1;if(l.add(c),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const D of E)cg(D,s,o,l)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let D;l.add(c);try{Ki(h.imports,M=>{cg(M,s,o,l)&&(D||(D=[]),D.push(M))})}finally{}void 0!==D&&ey(D,s)}if(!v){const D=Br(c)||(()=>new c);s.push({provide:c,useFactory:D,deps:ce},{provide:Q_,useValue:c,multi:!0},{provide:ya,useValue:()=>Be(c),multi:!0})}const E=h.providers;null==E||v||dg(E,M=>{s.push(M)})}}return c!==r&&void 0!==r.providers}function dg(r,s){for(let o of r)be(o)&&(o=o.\u0275providers),Array.isArray(o)?dg(o,s):s(o)}const BE=ue({provide:String,useValue:ue});function ty(r){return null!==r&&"object"==typeof r&&BE in r}function Gs(r){return"function"==typeof r}const hg=new vn("Set Injector scope."),hf={},HE={};let fg;function ff(){return void 0===fg&&(fg=new J_),fg}class kl{}class ry extends kl{get destroyed(){return this._destroyed}constructor(s,o,l,c){super(),this.parent=o,this.source=l,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mg(s,m=>this.processProvider(m)),this.records.set(qu,va(void 0,this)),c.has("environment")&&this.records.set(kl,va(void 0,this));const h=this.records.get(hg);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Q_.multi,ce,Ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const o=_r(this),l=Mt(void 0);try{return s()}finally{_r(o),Mt(l)}}get(s,o=ln,l=Ze.Default){this.assertNotDestroyed(),l=pt(l);const c=_r(this),h=Mt(void 0);try{if(!(l&Ze.SkipSelf)){let v=this.records.get(s);if(void 0===v){const E=function pf(r){return"function"==typeof r||"object"==typeof r&&r instanceof vn}(s)&&ze(s);v=E&&this.injectableDefInScope(E)?va(pg(s),hf):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&Ze.Self?ff():this.parent).get(s,o=l&Ze.Optional&&o===ln?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[mn]=m[mn]||[]).unshift(he(s)),c)throw m;return function Z(r,s,o,l){const c=r[mn];throw s[ar]&&c.unshift(s[ar]),r.message=function $(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&r.charAt(1)==ft?r.slice(2):r;let c=he(s);if(Array.isArray(s))c=s.map(he).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):he(v)))}c=`{${h.join(", ")}}`}return`${o}${l?"("+l+")":""}[${c}]: ${r.replace(Zn,"\n  ")}`}("\n"+r.message,c,o,l),r[on]=c,r[mn]=null,r}(m,s,"R3InjectorError",this.source)}throw m}finally{Mt(h),_r(c)}}resolveInjectorInitializers(){const s=_r(this),o=Mt(void 0);try{const l=this.get(ya.multi,ce,Ze.Self);for(const c of l)c()}finally{_r(s),Mt(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(he(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(s){let o=Gs(s=Q(s))?s:Q(s&&s.provide);const l=function iy(r){return ty(r)?va(void 0,r.useValue):va(sy(r),hf)}(s);if(Gs(s)||!0!==s.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=va(void 0,hf,!0),c.factory=()=>Ct(c.multi),this.records.set(o,c)),o=s,c.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===hf&&(o.value=HE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function gg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Q(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function pg(r){const s=ze(r),o=null!==s?s.factory:Br(r);if(null!==o)return o;if(r instanceof vn)throw new me(204,!1);if(r instanceof Function)return function jE(r){const s=r.length;if(s>0)throw function gs(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new me(204,!1);const o=function Jt(r){const s=r&&(r[Xt]||r[Wt]);return s?(function jt(r){if(r.hasOwnProperty("name"))return r.name;(""+r).match(/^function\s*([^\s(]+)/)}(r),s):null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new me(204,!1)}function sy(r,s,o){let l;if(Gs(r)){const c=Q(r);return Br(c)||pg(c)}if(ty(r))l=()=>Q(r.useValue);else if(function df(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Ct(r.deps||[]));else if(function ny(r){return!(!r||!r.useExisting)}(r))l=()=>Be(Q(r.useExisting));else{const c=Q(r&&(r.useClass||r.provide));if(!function oy(r){return!!r.deps}(r))return Br(c)||pg(c);l=()=>new c(...Ct(r.deps))}return l}function va(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function mg(r,s){for(const o of r)Array.isArray(o)?mg(o,s):o&&be(o)?mg(o.\u0275providers,s):s(o)}class $E{}class ay{}class ly{resolveComponentFactory(s){throw function WE(r){const s=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let Ca=(()=>{class r{}return r.NULL=new ly,r})();function gf(){return Fl(Nn(),xe())}function Fl(r,s){return new Po(Qn(r,s))}let Po=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=gf,r})();function uy(r){return r instanceof Po?r.nativeElement:r}class cy{}let zE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function ZE(){const r=xe(),o=nr(Nn().index,r);return(cr(o)?o:r)[xt]}(),r})(),qE=(()=>{class r{}return r.\u0275prov=Ve({token:r,providedIn:"root",factory:()=>null}),r})();class dy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const _g=new dy("15.2.5"),yg={},vg="ngOriginalError";function Cg(r){return r[vg]}class Ed{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Cg(s);for(;o&&Cg(o);)o=Cg(o);return o||null}}function zs(r){return r instanceof Function?r():r}function Eg(r,s,o){let l=r.length;for(;;){const c=r.indexOf(s,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=s.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}o=c+1}}const mf="ng-template";function my(r,s,o){let l=0,c=!0;for(;l<r.length;){let h=r[l++];if("string"==typeof h&&c){const m=r[l++];if(o&&"class"===h&&-1!==Eg(m.toLowerCase(),s,0))return!0}else{if(1===h){for(;l<r.length&&"string"==typeof(h=r[l++]);)if(h.toLowerCase()===s)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function Ul(r){return 4===r.type&&r.value!==mf}function Ig(r,s,o){return s===(4!==r.type||o?r.value:mf)}function t0(r,s,o){let l=4;const c=r.attrs||[],h=function yy(r){for(let s=0;s<r.length;s++)if(Cn(r[s]))return s;return r.length}(c);let m=!1;for(let v=0;v<s.length;v++){const E=s[v];if("number"!=typeof E){if(!m)if(4&l){if(l=2|1&l,""!==E&&!Ig(r,E,o)||""===E&&1===s.length){if(Yi(l))return!1;m=!0}}else{const D=8&l?E:s[++v];if(8&l&&null!==r.attrs){if(!my(r.attrs,D,o)){if(Yi(l))return!1;m=!0}continue}const V=_f(8&l?"class":E,c,Ul(r),o);if(-1===V){if(Yi(l))return!1;m=!0;continue}if(""!==D){let Y;Y=V>h?"":c[V+1].toLowerCase();const ie=8&l?Y:null;if(ie&&-1!==Eg(ie,D,0)||2&l&&D!==Y){if(Yi(l))return!1;m=!0}}}}else{if(!m&&!Yi(l)&&!Yi(E))return!1;if(m&&Yi(E))continue;m=!1,l=E|1&l}}return Yi(l)||m}function Yi(r){return 0==(1&r)}function _f(r,s,o,l){if(null===s)return-1;let c=0;if(l||!o){let h=!1;for(;c<s.length;){const m=s[c];if(m===r)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function n0(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function Id(r,s,o=!1){for(let l=0;l<s.length;l++)if(t0(r,s[l],o))return!0;return!1}function vy(r,s){return r?":not("+s.trim()+")":s}function s0(r){let s=r[0],o=1,l=2,c="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&l){const v=r[++o];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+m:4&l&&(c+=" "+m);else""!==c&&!Yi(m)&&(s+=vy(h,c),c=""),l=m,h=h||!Yi(l);o++}return""!==c&&(s+=vy(h,c)),s}const Bt={};function Cy(r){vf(en(),xe(),Er()+r,!1)}function vf(r,s,o,l){if(!l)if(3==(3&s[Lt])){const h=r.preOrderCheckHooks;null!==h&&co(s,h,o)}else{const h=r.preOrderHooks;null!==h&&Rs(s,h,0,o)}Zi(o)}function wg(r,s=null,o=null,l){const c=c0(r,s,o,l);return c.resolveInjectorInitializers(),c}function c0(r,s=null,o=null,l,c=new Set){const h=[o||ce,vd(r)];return l=l||("object"==typeof r?void 0:he(r)),new ry(h,s||ff(),l||null,c)}let Yu=(()=>{class r{static create(o,l){if(Array.isArray(o))return wg({name:""},l,o,"");{const c=o.name??"";return wg({name:c},o.parent,o.providers,c)}}}return r.THROW_IF_NOT_FOUND=ln,r.NULL=new J_,r.\u0275prov=Ve({token:r,providedIn:"any",factory:()=>Be(qu)}),r.__NG_ELEMENT_ID__=-1,r})();function Ju(r,s=Ze.Default){const o=xe();return null===o?Be(r,s):oa(Nn(),o,Q(r),s)}function My(){throw new Error("invalid")}function Ry(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const h=o[l+1];if(-1!==h){const m=r.data[h];Xo(o[l]),m.contentQueries(2,s[h],h)}}}function Sg(r,s,o,l,c,h,m,v,E,D,M){const V=s.blueprint.slice();return V[si]=c,V[Lt]=76|l,(null!==M||r&&1024&r[Lt])&&(V[Lt]|=1024),Zo(V),V[pn]=V[ns]=r,V[Sn]=o,V[qa]=m||r&&r[qa],V[xt]=v||r&&r[xt],V[jo]=E||r&&r[jo]||null,V[Ur]=D||r&&r[Ur]||null,V[Tn]=h,V[Ds]=function Vu(){return Yh++}(),V[kc]=M,V[lr]=2==s.type?r[lr]:V,V}function Xu(r,s,o,l,c){let h=r.data[s];if(null===h)h=function Ag(r,s,o,l,c){const h=Bc(),m=Ko(),E=r.data[s]=function Bl(r,s,o,l,c,h){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,l,c);return null===r.firstChild&&(r.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(r,s,o,l,c),function Jo(){return bt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=l,h.attrs=c;const m=function zi(){const r=bt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Zr(h,!0),h}function Vl(r,s,o,l){if(0===o)return-1;const c=s.length;for(let h=0;h<o;h++)s.push(l),r.blueprint.push(l),r.data.push(null);return c}function If(r,s,o){wu(s);try{const l=r.viewQuery;null!==l&&Vg(1,l,o);const c=r.template;null!==c&&xy(r,s,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ry(r,s),r.staticViewQueries&&Vg(2,r.viewQuery,o);const h=r.components;null!==h&&function v0(r,s){for(let o=0;o<s.length;o++)Md(r,s[o])}(s,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[Lt]&=-5,jc()}}function wf(r,s,o,l){const c=s[Lt];if(128!=(128&c)){wu(s);try{Zo(s),function ol(r){return bt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&xy(r,s,o,2,l);const m=3==(3&c);if(m){const D=r.preOrderCheckHooks;null!==D&&co(s,D,null)}else{const D=r.preOrderHooks;null!==D&&Rs(s,D,0,null),ho(s,0)}if(function ko(r){for(let s=N(r);null!==s;s=re(s)){if(!s[fu])continue;const o=s[ji];for(let l=0;l<o.length;l++){const c=o[l];512&c[Lt]||lo(c[pn],1),c[Lt]|=512}}}(s),function wa(r){for(let s=N(r);null!==s;s=re(s))for(let o=ur;o<s.length;o++){const l=s[o],c=l[Xe];os(l)&&wf(c,l,c.template,l[Sn])}}(s),null!==r.contentQueries&&Ry(r,s),m){const D=r.contentCheckHooks;null!==D&&co(s,D)}else{const D=r.contentHooks;null!==D&&Rs(s,D,1),ho(s,1)}!function y0(r,s){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const c=o[l];if(c<0)Zi(~c);else{const h=c,m=o[++l],v=o[++l];ll(m,h),v(2,s[h])}}}finally{Zi(-1)}}(r,s);const v=r.components;null!==v&&function Py(r,s){for(let o=0;o<s.length;o++)jl(r,s[o])}(s,v);const E=r.viewQuery;if(null!==E&&Vg(2,E,l),m){const D=r.viewCheckHooks;null!==D&&co(s,D)}else{const D=r.viewHooks;null!==D&&Rs(s,D,2),ho(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Lt]&=-41,512&s[Lt]&&(s[Lt]&=-513,lo(s[pn],-1))}finally{jc()}}}function xy(r,s,o,l,c){const h=Er(),m=2&l;try{Zi(-1),m&&s.length>St&&vf(r,s,St,!1),un(m?2:0,c),o(l,c)}finally{Zi(h),un(m?3:1,c)}}function Mg(r,s,o){if(Ka(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Rg(r,s,o){vu()&&(function ec(r,s,o,l){const c=o.directiveStart,h=o.directiveEnd;$o(o)&&function Fg(r,s,o){const l=Qn(s,r),c=Qi(o),h=r[qa],m=Rd(r,Sg(r,c,null,o.onPush?32:16,l,s,h,h.createRenderer(l,o),null,null,null));r[s.index]=m}(s,o,r.data[c+o.componentOffset]),r.firstCreatePass||us(o,s),ir(l,s);const m=o.initialInputs;for(let v=c;v<h;v++){const E=r.data[v],D=Di(s,r,v,o);ir(D,s),null!==m&&E0(0,v-c,D,E,0,m),li(E)&&(nr(o.index,s)[Sn]=Di(s,r,v,o))}}(r,s,o,Qn(o,s)),64==(64&o.flags)&&kg(r,s,o))}function Pg(r,s,o=Qn){const l=s.localNames;if(null!==l){let c=s.index+1;for(let h=0;h<l.length;h+=2){const m=l[h+1],v=-1===m?o(s,r):r[m];r[c++]=v}}}function Qi(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Pi(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Pi(r,s,o,l,c,h,m,v,E,D){const M=St+l,V=M+c,Y=function pb(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:Bt);return o}(M,V),ie="function"==typeof D?D():D;return Y[Xe]={type:r,blueprint:Y,template:o,queries:null,viewQuery:v,declTNode:s,data:Y.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:ie,incompleteFirstPass:!1}}function Ea(r,s,o,l){const c=Vy(s);null===o?c.push(l):(c.push(o),r.firstCreatePass&&By(r).push(l,c.length-1))}function Ia(r,s,o,l){for(let c in r)if(r.hasOwnProperty(c)){o=null===o?{}:o;const h=r[c];null===l?U(o,s,c,h):l.hasOwnProperty(c)&&U(o,s,l[c],h)}return o}function U(r,s,o,l){r.hasOwnProperty(o)?r[o].push(s,l):r[o]=[s,l]}function gi(r,s,o,l,c,h,m,v){const E=Qn(s,o);let M,D=s.inputs;!v&&null!=D&&(M=D[l])?(ba(r,o,M,l,c),$o(s)&&Df(o,s.index)):3&s.type&&(l=function Oy(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=m?m(c,s.value||"",l):c,h.setProperty(E,l,c))}function Df(r,s){const o=nr(s,r);16&o[Lt]||(o[Lt]|=32)}function xg(r,s,o,l){if(vu()){const c=null===l?null:{"":-1},h=function Sd(r,s){const o=r.directiveRegistry;let l=null,c=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(Id(s,m.selectors,!1))if(l||(l=[]),li(m))if(null!==m.findHostDirectiveDefs){const v=[];c=c||new Map,m.findHostDirectiveDefs(m,v,c),l.unshift(...v,m),No(r,s,v.length)}else l.unshift(m),No(r,s,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,l,c),l.push(m)}return null===l?null:[l,c]}(r,o);let m,v;null===h?m=v=null:[m,v]=h,null!==m&&Og(r,s,o,m,c,v),c&&function Fy(r,s,o){if(s){const l=r.localNames=[];for(let c=0;c<s.length;c+=2){const h=o[s[c+1]];if(null==h)throw new me(-301,!1);l.push(s[c],h)}}}(o,l,c)}o.mergedAttrs=di(o.mergedAttrs,o.attrs)}function Og(r,s,o,l,c,h){for(let D=0;D<l.length;D++)vo(us(o,s),r,l[D].type);!function Sr(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,l.length);for(let D=0;D<l.length;D++){const M=l[D];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,E=Vl(r,s,l.length,null);for(let D=0;D<l.length;D++){const M=l[D];o.mergedAttrs=di(o.mergedAttrs,M.hostAttrs),Ad(r,o,s,E,M),Ly(E,M,c),null!==M.contentQueries&&(o.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(o.flags|=64);const V=M.type.prototype;!m&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),m=!0),!v&&(V.ngOnChanges||V.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),v=!0),E++}!function bf(r,s,o){const c=s.directiveEnd,h=r.data,m=s.attrs,v=[];let E=null,D=null;for(let M=s.directiveStart;M<c;M++){const V=h[M],Y=o?o.get(V):null,Ce=Y?Y.outputs:null;E=Ia(V.inputs,M,E,Y?Y.inputs:null),D=Ia(V.outputs,M,D,Ce);const je=null===E||null===m||Ul(s)?null:Tf(E,M,m);v.push(je)}null!==E&&(E.hasOwnProperty("class")&&(s.flags|=8),E.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=v,s.inputs=E,s.outputs=D}(r,o,h)}function kg(r,s,o){const l=o.directiveStart,c=o.directiveEnd,h=o.index,m=function Hc(){return bt.lFrame.currentDirectiveIndex}();try{Zi(h);for(let v=l;v<c;v++){const E=r.data[v],D=s[v];Ii(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&ky(E,D)}}finally{Zi(-1),Ii(m)}}function ky(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function No(r,s,o){s.componentOffset=o,(r.components||(r.components=[])).push(s.index)}function Ly(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;li(s)&&(o[""]=r)}}function Ad(r,s,o,l,c){r.data[l]=c;const h=c.factory||(c.factory=Br(c.type)),m=new fo(h,li(c),Ju);r.blueprint[l]=m,o[l]=m,function Hl(r,s,o,l,c){const h=c.hostBindings;if(h){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const v=~s.index;(function Ng(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=v&&m.push(v),m.push(o,l,h)}}(r,s,l,Vl(r,o,c.hostVars,Bt),c)}function gr(r,s,o,l,c,h){const m=Qn(r,s);!function Ar(r,s,o,l,c,h,m){if(null==h)r.removeAttribute(s,c,o);else{const v=null==m?Ie(h):m(h,l||"",c);r.setAttribute(s,c,v,o)}}(s[xt],m,h,r.value,o,l,c)}function E0(r,s,o,l,c,h){const m=h[s];if(null!==m){const v=l.setInput;for(let E=0;E<m.length;){const D=m[E++],M=m[E++],V=m[E++];null!==v?l.setInput(o,V,D,M):o[M]=V}}}function Tf(r,s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(r.hasOwnProperty(h)){null===l&&(l=[]);const m=r[h];for(let v=0;v<m.length;v+=2)if(m[v]===s){l.push(h,m[v+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return l}function Uy(r,s,o,l){return[r,!0,!1,s,null,0,l,o,null,null]}function jl(r,s){const o=nr(s,r);if(os(o)){const l=o[Xe];48&o[Lt]?wf(l,o,l.template,o[Sn]):o[_i]>0&&Lg(o)}}function Lg(r){for(let l=N(r);null!==l;l=re(l))for(let c=ur;c<l.length;c++){const h=l[c];if(os(h))if(512&h[Lt]){const m=h[Xe];wf(m,h,m.template,h[Sn])}else h[_i]>0&&Lg(h)}const o=r[Xe].components;if(null!==o)for(let l=0;l<o.length;l++){const c=nr(o[l],r);os(c)&&c[_i]>0&&Lg(c)}}function Md(r,s){const o=nr(s,r),l=o[Xe];(function Ug(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])})(l,o),If(l,o,o[Sn])}function Rd(r,s){return r[Bi]?r[eo][Cr]=s:r[Bi]=s,r[eo]=s,s}function or(r){for(;r;){r[Lt]|=32;const s=g(r);if(no(r)&&!s)return r;r=s}return null}function Pd(r,s,o,l=!0){const c=s[qa];c.begin&&c.begin();try{wf(r,s,r.template,o)}catch(m){throw l&&Bg(s,m),m}finally{c.end&&c.end()}}function Vg(r,s,o){Xo(0),s(r,o)}function Vy(r){return r[yi]||(r[yi]=[])}function By(r){return r.cleanup||(r.cleanup=[])}function Bg(r,s){const o=r[Ur],l=o?o.get(Ed,null):null;l&&l.handleError(s)}function ba(r,s,o,l,c){for(let h=0;h<o.length;){const m=o[h++],v=o[h++],E=s[m],D=r.data[m];null!==D.setInput?D.setInput(E,c,l,v):E[v]=c}}function Fo(r,s,o){const l=Gi(s,r);!function Vt(r,s,o){r.setValue(s,o)}(r[xt],l,o)}function Da(r,s,o){let l=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?h=v:1==h?c=te(c,v):2==h&&(l=te(l,v+": "+s[++m]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=c:r.classesWithoutHost=c}function Sf(r,s,o,l,c=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&l.push(An(h)),Yn(h))for(let v=ur;v<h.length;v++){const E=h[v],D=E[Xe].firstChild;null!==D&&Sf(E[Xe],E,D,l)}const m=o.type;if(8&m)Sf(r,s,o.child,l);else if(32&m){const v=_(o,s);let E;for(;E=v();)l.push(E)}else if(16&m){const v=Ol(s,o);if(Array.isArray(v))l.push(...v);else{const E=g(s[lr]);Sf(E[Xe],E,v,l,!0)}}o=c?o.projectionNext:o.next}return l}class xd{get rootNodes(){const s=this._lView,o=s[Xe];return Sf(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sn]}set context(s){this._lView[Sn]=s}get destroyed(){return 128==(128&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[pn];if(Yn(s)){const o=s[oi],l=o?o.indexOf(this):-1;l>-1&&(pa(s,l),ps(o,l))}this._attachedToViewContainer=!1}ga(this._lView[Xe],this._lView)}onDestroy(s){Ea(this._lView[Xe],this._lView,null,s)}markForCheck(){or(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-65}reattach(){this._lView[Lt]|=64}detectChanges(){Pd(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xh(r,s){Wu(r,s,s[xt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=s}}class Od extends xd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Pd(s[Xe],s,s[Sn],!1)}checkNoChanges(){}get context(){return null}}class Nd extends Ca{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=sn(s);return new tc(o,this.ngModule)}}function Hg(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class $y{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=pt(l);const c=this.injector.get(s,yg,l);return c!==yg||o===yg?c:this.parentInjector.get(s,o,l)}}class tc extends ay{get inputs(){return Hg(this.componentDef.inputs)}get outputs(){return Hg(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function o0(r){return r.map(s0).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,c){let h=(c=c||this.ngModule)instanceof kl?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new $y(s,h):s,v=m.get(cy,null);if(null===v)throw new me(407,!1);const E=m.get(qE,null),D=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",V=l?function C0(r,s,o){return r.selectRootElement(s,o===R.ShadowDom)}(D,l,this.componentDef.encapsulation):pi(D,M,function jy(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(M)),Y=this.componentDef.onPush?288:272,ie=Pi(0,null,null,1,0,null,null,null,null,null),Ce=Sg(null,ie,null,Y,null,null,v,D,E,m,null);let je,Ye;wu(Ce);try{const at=this.componentDef;let wt,Fe=null;at.findHostDirectiveDefs?(wt=[],Fe=new Map,at.findHostDirectiveDefs(at,wt,Fe),wt.push(at)):wt=[at];const Nt=function Gy(r,s){const o=r[Xe],l=St;return r[l]=s,Xu(o,l,2,"#host",null)}(Ce,V),Rn=function jg(r,s,o,l,c,h,m,v){const E=c[Xe];!function zy(r,s,o,l){for(const c of r)s.mergedAttrs=di(s.mergedAttrs,c.hostAttrs);null!==s.mergedAttrs&&(Da(s,s.mergedAttrs,!0),null!==o&&fd(l,o,s))}(l,r,s,m);const D=h.createRenderer(s,o),M=Sg(c,Qi(o),null,o.onPush?32:16,c[r.index],r,h,D,v||null,null,null);return E.firstCreatePass&&No(E,r,l.length-1),Rd(c,M),c[r.index]=M}(Nt,V,at,wt,Ce,v,D);Ye=ao(ie,St),V&&function $g(r,s,o,l){if(l)Ps(r,o,["ng-version",_g.full]);else{const{attrs:c,classes:h}=function yf(r){const s=[],o=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&s.push(h,r[++l]):8===c&&o.push(h);else{if(!Yi(c))break;c=h}l++}return{attrs:s,classes:o}}(s.selectors[0]);c&&Ps(r,o,c),h&&h.length>0&&hd(r,o,h.join(" "))}}(D,at,V,l),void 0!==o&&function w0(r,s,o){const l=r.projection=[];for(let c=0;c<s.length;c++){const h=o[c];l.push(null!=h?Array.from(h):null)}}(Ye,this.ngContentSelectors,o),je=function Zy(r,s,o,l,c,h){const m=Nn(),v=c[Xe],E=Qn(m,c);Og(v,c,m,o,null,l);for(let M=0;M<o.length;M++)ir(Di(c,v,m.directiveStart+M,m),c);kg(v,c,m),E&&ir(E,c);const D=Di(c,v,m.directiveStart+m.componentOffset,m);if(r[Sn]=c[Sn]=D,null!==h)for(const M of h)M(D,s);return Mg(v,m,r),D}(Rn,at,wt,Fe,Ce,[qy]),If(ie,Ce,null)}finally{jc()}return new Wy(this.componentType,je,Fl(Ye,Ce),Ce,Ye)}}class Wy extends $E{constructor(s,o,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Od(c),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let c;if(null!==l&&(c=l[s])){const h=this._rootLView;ba(h[Xe],h,c,s,o),Df(h,this._tNode.index)}}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function qy(){const r=Nn();hl(xe()[Xe],r)}function kd(r){let s=function Ky(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let c;if(li(r))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new me(903,!1);c=s.\u0275dir}if(c){if(o){l.push(c);const m=r;m.inputs=Fd(r.inputs),m.declaredInputs=Fd(r.declaredInputs),m.outputs=Fd(r.outputs);const v=c.hostBindings;v&&Yy(r,v);const E=c.viewQuery,D=c.contentQueries;if(E&&b0(r,E),D&&D0(r,D),_e(r.inputs,c.inputs),_e(r.declaredInputs,c.declaredInputs),_e(r.outputs,c.outputs),li(c)&&c.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(r),v===kd&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Wg(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=s+=c.hostVars,c.hostAttrs=di(c.hostAttrs,o=di(o,c.hostAttrs))}}(l)}function Fd(r){return r===X?{}:r===ce?[]:r}function b0(r,s){const o=r.viewQuery;r.viewQuery=o?(l,c)=>{s(l,c),o(l,c)}:s}function D0(r,s){const o=r.contentQueries;r.contentQueries=o?(l,c,h)=>{s(l,c,h),o(l,c,h)}:s}function Yy(r,s){const o=r.hostBindings;r.hostBindings=o?(l,c)=>{s(l,c),o(l,c)}:s}function Af(r){return!!Zg(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Zg(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Zs(r,s,o){return r[s]=o}function Mr(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function $l(r,s,o,l){const c=Mr(r,s,o);return Mr(r,s+1,l)||c}function Ta(r,s,o,l){const c=xe();return Mr(c,as(),s)&&(en(),gr(fn(),c,r,s,o,l)),Ta}function nc(r,s,o,l){return Mr(r,as(),o)?s+Ie(o)+l:Bt}function rc(r,s,o,l,c,h){const v=$l(r,function dr(){return bt.lFrame.bindingIndex}(),o,c);return ci(2),v?s+Ie(o)+l+Ie(c)+h:Bt}function tm(r,s,o,l,c,h,m,v){const E=xe(),D=en(),M=r+St,V=D.firstCreatePass?function rv(r,s,o,l,c,h,m,v,E){const D=s.consts,M=Xu(s,r,4,m||null,zr(D,v));xg(s,o,M,zr(D,E)),hl(s,M);const V=M.tView=Pi(2,M,l,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,M),V.queries=s.queries.embeddedTView(M)),M}(M,D,E,s,o,l,c,h,m):D.data[M];Zr(V,!1);const Y=E[xt].createComment("");nf(D,E,Y,V),ir(Y,E),Rd(E,E[M]=Uy(Y,E,Y,V)),ai(V)&&Rg(D,E,V),null!=m&&Pg(E,V,v)}function hn(r){return Hr(function Qo(){return bt.lFrame.contextLView}(),St+r)}function Yt(r,s,o){const l=xe();return Mr(l,as(),s)&&gi(en(),fn(),l,r,s,l[xt],o,!1),Yt}function qs(r,s,o,l,c){const m=c?"class":"style";ba(r,o,s.inputs[m],m,l)}function ac(r,s,o,l){const c=xe(),h=en(),m=St+r,v=c[xt],E=h.firstCreatePass?function En(r,s,o,l,c,h){const m=s.consts,E=Xu(s,r,2,l,zr(m,c));return xg(s,o,E,zr(m,h)),null!==E.attrs&&Da(E,E.attrs,!1),null!==E.mergedAttrs&&Da(E,E.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,E),E}(m,h,c,s,o,l):h.data[m],D=c[m]=pi(v,s,function Op(){return bt.lFrame.currentNamespace}()),M=ai(E);return Zr(E,!0),fd(v,D,E),32!=(32&E.flags)&&nf(h,c,D,E),0===function nl(){return bt.lFrame.elementDepthCount}()&&ir(D,c),function rl(){bt.lFrame.elementDepthCount++}(),M&&(Rg(h,c,E),Mg(h,E,c)),null!==l&&Pg(c,E),ac}function Pf(){let r=Nn();Ko()?Yo():(r=r.parent,Zr(r,!1));const s=r;!function il(){bt.lFrame.elementDepthCount--}();const o=en();return o.firstCreatePass&&(hl(o,r),Ka(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function fl(r){return 0!=(8&r.flags)}(s)&&qs(o,s,xe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function po(r){return 0!=(16&r.flags)}(s)&&qs(o,s,xe(),s.stylesWithoutHost,!1),Pf}function Zl(r,s,o,l){return ac(r,s,o,l),Pf(),Zl}function In(r,s,o){const l=xe(),c=en(),h=r+St,m=c.firstCreatePass?function iv(r,s,o,l,c){const h=s.consts,m=zr(h,l),v=Xu(s,r,8,"ng-container",m);return null!==m&&Da(v,m,!0),xg(s,o,v,zr(h,c)),null!==s.queries&&s.queries.elementStart(s,v),v}(h,c,l,s,o):c.data[h];Zr(m,!0);const v=l[h]=l[xt].createComment("");return nf(c,l,v,m),ir(v,l),ai(m)&&(Rg(c,l,m),Mg(c,m,l)),null!=o&&Pg(l,m),In}function Zt(){let r=Nn();const s=en();return Ko()?Yo():(r=r.parent,Zr(r,!1)),s.firstCreatePass&&(hl(s,r),Ka(r)&&s.queries.elementEnd(r)),Zt}function sv(){return xe()}function Ld(r){return!!r&&"function"==typeof r.then}function xi(r){return!!r&&"function"==typeof r.subscribe}const ov=xi;function nm(r,s,o,l){const c=xe(),h=en(),m=Nn();return function Aa(r,s,o,l,c,h,m){const v=ai(l),D=r.firstCreatePass&&By(r),M=s[Sn],V=Vy(s);let Y=!0;if(3&l.type||m){const je=Qn(l,s),Ye=m?m(je):je,at=V.length,wt=m?Nt=>m(An(Nt[l.index])):l.index;let Fe=null;if(!m&&v&&(Fe=function lv(r,s,o,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===l){const v=s[yi],E=c[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(r,s,c,l.index)),null!==Fe)(Fe.__ngLastListenerFn__||Fe).__ngNextListenerFn__=h,Fe.__ngLastListenerFn__=h,Y=!1;else{h=lc(l,s,M,h,!1);const Nt=o.listen(Ye,c,h);V.push(h,Nt),D&&D.push(c,wt,at,at+1)}}else h=lc(l,s,M,h,!1);const ie=l.outputs;let Ce;if(Y&&null!==ie&&(Ce=ie[c])){const je=Ce.length;if(je)for(let Ye=0;Ye<je;Ye+=2){const Rn=s[Ce[Ye]][Ce[Ye+1]].subscribe(h),Gn=V.length;V.push(h,Rn),D&&D.push(c,l.index,Gn,-(Gn+1))}}}(h,c,c[xt],m,r,s,l),nm}function xf(r,s,o,l){try{return un(6,s,o),!1!==o(l)}catch(c){return Bg(r,c),!1}finally{un(7,s,o)}}function lc(r,s,o,l,c){return function h(m){if(m===Function)return l;or(r.componentOffset>-1?nr(r.index,s):s);let E=xf(s,o,l,m),D=h.__ngNextListenerFn__;for(;D;)E=xf(s,o,D,m)&&E,D=D.__ngNextListenerFn__;return c&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function uv(r=1){return function bu(r){return(bt.lFrame.contextLView=function jh(r,s){for(;r>0;)s=s[ns],r--;return s}(r,bt.lFrame.contextLView))[Sn]}(r)}function rm(r,s,o){return Ud(r,"",s,"",o),rm}function Ud(r,s,o,l,c){const h=xe(),m=nc(h,s,o,l);return m!==Bt&&gi(en(),fn(),h,r,m,h[xt],c,!1),Ud}function Of(r,s){return r<<17|s<<2}function Xn(r){return r>>17&32767}function jd(r){return 2|r}function ql(r){return(131068&r)>>2}function Nf(r,s){return-131069&r|s<<2}function kf(r){return 1|r}function fv(r,s,o,l,c){const h=r[o+1],m=null===s;let v=l?Xn(h):ql(h),E=!1;for(;0!==v&&(!1===E||m);){const M=r[v+1];F0(r[v],s)&&(E=!0,r[v+1]=l?kf(M):jd(M)),v=l?Xn(M):ql(M)}E&&(r[o+1]=l?jd(h):kf(h))}function F0(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&it(r,s)>=0}function Bf(r,s){return function Oi(r,s,o,l){const c=xe(),h=en(),m=ci(2);h.firstUpdatePass&&function Zd(r,s,o,l){const c=r.data;if(null===c[o+1]){const h=c[Er()],m=function mv(r,s){return s>=r.expandoStartIndex}(r,o);(function Yl(r,s){return 0!=(r.flags&(s?8:16))})(h,l)&&null===s&&!m&&(s=!1),s=function V0(r,s,o,l){const c=function ul(r){const s=bt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let h=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(o=Kl(o=am(null,r,s,o,l),s.attrs,l),h=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==c)if(o=am(c,r,s,o,l),null===h){let E=function B0(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ql(l))return r[Xn(l)]}(r,s,l);void 0!==E&&Array.isArray(E)&&(E=am(null,r,s,E[1],l),E=Kl(E,s.attrs,l),function H0(r,s,o,l){r[Xn(o?s.classBindings:s.styleBindings)]=l}(r,s,l,E))}else h=function om(r,s,o){let l;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)l=Kl(l,r[h].hostAttrs,o);return Kl(l,s.attrs,o)}(r,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),o}(c,h,s,l),function hv(r,s,o,l,c,h){let m=h?s.classBindings:s.styleBindings,v=Xn(m),E=ql(m);r[l]=o;let M,D=!1;if(Array.isArray(o)?(M=o[1],(null===M||it(o,M)>0)&&(D=!0)):M=o,c)if(0!==E){const Y=Xn(r[v+1]);r[l+1]=Of(Y,v),0!==Y&&(r[Y+1]=Nf(r[Y+1],l)),r[v+1]=function sm(r,s){return 131071&r|s<<17}(r[v+1],l)}else r[l+1]=Of(v,0),0!==v&&(r[v+1]=Nf(r[v+1],l)),v=l;else r[l+1]=Of(E,0),0===v?v=l:r[E+1]=Nf(r[E+1],l),E=l;D&&(r[l+1]=jd(r[l+1])),fv(r,M,l,!0),fv(r,M,l,!1),function k0(r,s,o,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof s&&it(h,s)>=0&&(o[l+1]=kf(o[l+1]))}(s,M,r,l,h),m=Of(v,E),h?s.classBindings=m:s.styleBindings=m}(c,h,s,o,m,l)}}(h,r,m,l),s!==Bt&&Mr(c,m,s)&&function lm(r,s,o,l,c,h,m,v){if(!(3&s.type))return;const E=r.data,D=E[v+1],M=function dv(r){return 1==(1&r)}(D)?Kd(E,s,o,c,ql(D),m):void 0;Hf(M)||(Hf(h)||function O0(r){return 2==(2&r)}(D)&&(h=Kd(E,null,o,c,v,m)),function qp(r,s,o,l,c){if(s)c?r.addClass(o,l):r.removeClass(o,l);else{let h=-1===l.indexOf("-")?void 0:jr.DashCase;null==c?r.removeStyle(o,l,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=jr.Important),r.setStyle(o,l,c,h))}}(l,m,Gi(Er(),o),c,h))}(h,h.data[Er()],c,c[xt],r,c[m+1]=function jf(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=he($r(r)))),r}(s,o),l,m)}(r,s,null,!0),Bf}function am(r,s,o,l,c){let h=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(h=s[v],l=Kl(l,h.hostAttrs,c),h!==r);)v++;return null!==r&&(o.directiveStylingLast=v),l}function Kl(r,s,o){const l=o?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?c=m:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),nn(r,m,!!o||s[++h]))}return void 0===r?null:r}function Kd(r,s,o,l,c,h){const m=null===s;let v;for(;c>0;){const E=r[c],D=Array.isArray(E),M=D?E[1]:E,V=null===M;let Y=o[c+1];Y===Bt&&(Y=V?ce:void 0);let ie=V?Ti(Y,l):M===l?Y:void 0;if(D&&!Hf(ie)&&(ie=Ti(E,l)),Hf(ie)&&(v=ie,m))return v;const Ce=r[c+1];c=m?Xn(Ce):ql(Ce)}if(null!==s){let E=h?s.residualClasses:s.residualStyles;null!=E&&(v=Ti(E,l))}return v}function Hf(r){return void 0!==r}function $f(r,s=""){const o=xe(),l=en(),c=r+St,h=l.firstCreatePass?Xu(l,c,1,s,null):l.data[c],m=o[c]=function dt(r,s){return r.createText(s)}(o[xt],s);nf(l,o,m,h),Zr(h,!1)}function Yd(r){return Wf("",r,""),Yd}function Wf(r,s,o){const l=xe(),c=nc(l,r,s,o);return c!==Bt&&Fo(l,Er(),c),Wf}function um(r,s,o,l,c){const h=xe(),m=rc(h,r,s,o,l,c);return m!==Bt&&Fo(h,Er(),m),um}const xa=void 0;var q0=["en",[["a","p"],["AM","PM"],xa],[["AM","PM"],xa,xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xa,"{1} 'at' {0}",xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xf(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let fc={};function gm(r){const s=function Y0(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=wv(s);if(o)return o;const l=s.split("-")[0];if(o=wv(l),o)return o;if("en"===l)return q0;throw new me(701,!1)}function Iv(r){return gm(r)[vt.PluralCase]}function wv(r){return r in fc||(fc[r]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[r]),fc[r]}var vt=(()=>((vt=vt||{})[vt.LocaleId=0]="LocaleId",vt[vt.DayPeriodsFormat=1]="DayPeriodsFormat",vt[vt.DayPeriodsStandalone=2]="DayPeriodsStandalone",vt[vt.DaysFormat=3]="DaysFormat",vt[vt.DaysStandalone=4]="DaysStandalone",vt[vt.MonthsFormat=5]="MonthsFormat",vt[vt.MonthsStandalone=6]="MonthsStandalone",vt[vt.Eras=7]="Eras",vt[vt.FirstDayOfWeek=8]="FirstDayOfWeek",vt[vt.WeekendRange=9]="WeekendRange",vt[vt.DateFormat=10]="DateFormat",vt[vt.TimeFormat=11]="TimeFormat",vt[vt.DateTimeFormat=12]="DateTimeFormat",vt[vt.NumberSymbols=13]="NumberSymbols",vt[vt.NumberFormats=14]="NumberFormats",vt[vt.CurrencyCode=15]="CurrencyCode",vt[vt.CurrencySymbol=16]="CurrencySymbol",vt[vt.CurrencyName=17]="CurrencyName",vt[vt.Currencies=18]="Currencies",vt[vt.Directionality=19]="Directionality",vt[vt.PluralCase=20]="PluralCase",vt[vt.ExtraData=21]="ExtraData",vt))();const pc="en-US";let eh=pc;function km(r,s,o,l,c){if(r=Q(r),Array.isArray(r))for(let h=0;h<r.length;h++)km(r[h],s,o,l,c);else{const h=en(),m=xe();let v=Gs(r)?r:Q(r.provide),E=sy(r);const D=Nn(),M=1048575&D.providerIndexes,V=D.directiveStart,Y=D.providerIndexes>>20;if(Gs(r)||!r.multi){const ie=new fo(E,c,Ju),Ce=lh(v,s,c?M:M+Y,V);-1===Ce?(vo(us(D,m),h,v),Fm(h,r,s.length),s.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(ie),m.push(ie)):(o[Ce]=ie,m[Ce]=ie)}else{const ie=lh(v,s,M+Y,V),Ce=lh(v,s,M,M+Y),Ye=Ce>=0&&o[Ce];if(c&&!Ye||!c&&!(ie>=0&&o[ie])){vo(us(D,m),h,v);const at=function ru(r,s,o,l,c){const h=new fo(r,o,Ju);return h.multi=[],h.index=s,h.componentProviders=0,Lm(h,c,l&&!o),h}(c?Vm:Um,o.length,c,l,E);!c&&Ye&&(o[Ce].providerFactory=at),Fm(h,r,s.length,0),s.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(at),m.push(at)}else Fm(h,r,ie>-1?ie:Ce,Lm(o[c?Ce:ie],E,!c&&l));!c&&l&&Ye&&o[Ce].componentProviders++}}}function Fm(r,s,o,l){const c=Gs(s),h=function Ku(r){return!!r.useClass}(s);if(c||h){const E=(h?Q(s.useClass):s).prototype.ngOnDestroy;if(E){const D=r.destroyHooks||(r.destroyHooks=[]);if(!c&&s.multi){const M=D.indexOf(o);-1===M?D.push(o,[l,E]):D[M+1].push(l,E)}else D.push(o,E)}}}function Lm(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function lh(r,s,o,l){for(let c=o;c<l;c++)if(s[c]===r)return c;return-1}function Um(r,s,o,l){return yc(this.multi,[])}function Vm(r,s,o,l){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Di(o,o[Xe],this.providerFactory.index,l);h=v.slice(0,m),yc(c,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],yc(c,h);return h}function yc(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function ap(r,s=[]){return o=>{o.providersResolver=(l,c)=>function Gv(r,s,o){const l=en();if(l.firstCreatePass){const c=li(r);km(o,l.data,l.blueprint,c,!0),km(s,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,s)}}class iu{}class zv{}function lp(r,s){return new Zv(r,s??null)}class Zv extends iu{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nd(this);const l=vr(s);this._bootstrapComponents=zs(l.bootstrap),this._r3Injector=c0(s,o,[{provide:iu,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],he(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class su extends zv{constructor(s){super(),this.moduleType=s}create(s){return new Zv(this.moduleType,s)}}class Bm extends iu{constructor(s,o,l){super(),this.componentFactoryResolver=new Nd(this),this.instance=null;const c=new ry([...s,{provide:iu,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],o||ff(),l,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Hm(r,s,o=null){return new Bm(r,s,o).injector}let II=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const l=X_(0,o.type),c=l.length>0?Hm([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=Ve({token:r,providedIn:"environment",factory:()=>new r(Be(kl))}),r})();function qv(r){r.getStandaloneInjector=s=>s.get(II).getOrCreateStandaloneInjector(r)}function $m(r,s,o,l,c){return eC(xe(),Bn(),r,s,o,l,c)}function Ec(r,s){const o=r[s];return o===Bt?void 0:o}function eC(r,s,o,l,c,h,m){const v=s+o;return $l(r,v,c,h)?Zs(r,v+2,m?l.call(m,c,h):l(c,h)):Ec(r,v+2)}function fh(r,s,o,l,c,h,m,v,E){const D=s+o;return function Xr(r,s,o,l,c,h){const m=$l(r,s,o,l);return $l(r,s+2,c,h)||m}(r,D,c,h,m,v)?Zs(r,D+4,E?l.call(E,c,h,m,v):l(c,h,m,v)):Ec(r,D+4)}function fp(r,s){const o=en();let l;const c=r+St;o.firstCreatePass?(l=function PI(r,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(r===l.name)return l}}(s,o.pipeRegistry),o.data[c]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,l.onDestroy)):l=o.data[c];const h=l.factory||(l.factory=Br(l.type)),m=Mt(Ju);try{const v=wi(!1),E=h();return wi(v),function _n(r,s,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=l}(o,xe(),c,E),E}finally{Mt(m)}}function Gm(r,s,o,l){const c=r+St,h=xe(),m=Hr(h,c);return ou(h,c)?eC(h,Bn(),s,m.transform,o,l,m):m.transform(o,l)}function nC(r,s,o,l,c,h){const m=r+St,v=xe(),E=Hr(v,m);return ou(v,m)?fh(v,Bn(),s,E.transform,o,l,c,h,E):E.transform(o,l,c,h)}function ou(r,s){return r[Xe].data[s].pure}function zm(r){return s=>{setTimeout(r,void 0,s)}}const ni=class rC extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let c=s,h=o||(()=>null),m=l;if(s&&"object"==typeof s){const E=s;c=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=zm(h),c&&(c=zm(c)),m&&(m=zm(m)));const v=super.subscribe({next:c,error:h,complete:m});return s instanceof j.w0&&s.add(v),v}};function Fa(){return this._results[Symbol.iterator]()}class Zm{get changes(){return this._changes||(this._changes=new ni)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Zm.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Fa)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const c=function xr(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ou(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=s[l];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(l._results,c,o))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let au=(()=>{class r{}return r.__NG_ELEMENT_ID__=Ic,r})();const pp=au,kI=class extends pp{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s,o){const l=this._declarationTContainer.tView,c=Sg(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,o||null);c[Hi]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[Kn];return null!==m&&(c[Kn]=m.createEmbeddedView(l)),If(l,c,s),new xd(c)}};function Ic(){return gp(Nn(),xe())}function gp(r,s){return 4&r.type?new kI(s,r,Fl(r,s)):null}let ph=(()=>{class r{}return r.__NG_ELEMENT_ID__=iC,r})();function iC(){return oC(Nn(),xe())}const sC=ph,gh=class extends sC{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const s=cs(this._hostTNode,this._hostLView);if(_o(s)){const o=ls(s,this._hostLView),l=na(s);return new wr(o[Xe].data[l+8],o)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=mp(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-ur}createEmbeddedView(s,o,l){let c,h;"number"==typeof l?c=l:null!=l&&(c=l.index,h=l.injector);const m=s.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(s,o,l,c,h){const m=s&&!function Qr(r){return"function"==typeof r}(s);let v;if(m)v=o;else{const V=o||{};v=V.index,l=V.injector,c=V.projectableNodes,h=V.environmentInjector||V.ngModuleRef}const E=m?s:new tc(sn(s)),D=l||this.parentInjector;if(!h&&null==E.ngModule){const Y=(m?D:this.parentInjector).get(kl,null);Y&&(h=Y)}const M=E.create(D,c,void 0,h);return this.insert(M.hostView,v),M}insert(s,o){const l=s._lView,c=l[Xe];if(function yu(r){return Yn(r[pn])}(l)){const M=this.indexOf(s);if(-1!==M)this.detach(M);else{const V=l[pn],Y=new gh(V,V[Tn],V[pn]);Y.detach(Y.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function ef(r,s,o,l){const c=ur+l,h=o.length;l>0&&(o[c-1][Cr]=s),l<h-ur?(s[Cr]=o[c],Il(o,ur+l,s)):(o.push(s),s[Cr]=null),s[pn]=o;const m=s[Hi];null!==m&&o!==m&&function tf(r,s){const o=r[ji];s[lr]!==s[pn][pn][lr]&&(r[fu]=!0),null===o?r[ji]=[s]:o.push(s)}(m,s);const v=s[Kn];null!==v&&v.insertView(r),s[Lt]|=64}(c,l,m,h);const v=zp(h,m),E=l[xt],D=cd(E,m[Ci]);return null!==D&&function Ao(r,s,o,l,c,h){l[si]=c,l[Tn]=s,Wu(r,l,o,1,c,h)}(c,m[Tn],E,l,D,v),s.attachToViewContainerRef(),Il(mh(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=mp(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=pa(this._lContainer,o);l&&(ps(mh(this._lContainer),o),ga(l[Xe],l))}detach(s){const o=this._adjustIndex(s,-1),l=pa(this._lContainer,o);return l&&null!=ps(mh(this._lContainer),o)?new xd(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function mp(r){return r[oi]}function mh(r){return r[oi]||(r[oi]=[])}function oC(r,s){let o;const l=s[r.index];if(Yn(l))o=l;else{let c;if(8&r.type)c=An(l);else{const h=s[xt];c=h.createComment("");const m=Qn(r,s);ma(h,cd(h,m),c,function k_(r,s){return r.nextSibling(s)}(h,m),!1)}s[r.index]=o=Uy(l,s,c,r),Rd(s,o)}return new gh(o,r,s)}class qm{constructor(s){this.queryList=s,this.matches=null}clone(){return new qm(this.queryList)}setDirty(){this.queryList.setDirty()}}class _h{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let h=0;h<l;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new _h(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==hC(s,o).matches&&this.queries[o].setDirty()}}class aC{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class _p{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const c=null!==o?o.length:0,h=this.getByIndex(l).embeddedTView(s,c);h&&(h.indexInDeclarationView=l,null!==o?o.push(h):o=[h])}return null!==o?new _p(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Km{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Km(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(s,o,lC(o,h)),this.matchTNodeWithReadOption(s,o,aa(o,s,h,!1,!1))}else l===au?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,aa(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Po||c===ph||c===au&&4&o.type)this.addMatch(o.index,-2);else{const h=aa(o,s,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function lC(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function Ym(r,s,o,l){return-1===o?function uC(r,s){return 11&r.type?Fl(r,s):4&r.type?gp(r,s):null}(s,r):-2===o?function cC(r,s,o){return o===Po?Fl(s,r):o===au?gp(s,r):o===ph?oC(s,r):void 0}(r,s,l):Di(r,r[Xe],o,s)}function ri(r,s,o,l){const c=s[Kn].queries[l];if(null===c.matches){const h=r.data,m=o.matches,v=[];for(let E=0;E<m.length;E+=2){const D=m[E];v.push(D<0?null:Ym(s,h[D],m[E+1],o.metadata.read))}c.matches=v}return c.matches}function wc(r,s,o,l){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const m=ri(r,s,c,o);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)l.push(m[v/2]);else{const D=h[v+1],M=s[-E];for(let V=ur;V<M.length;V++){const Y=M[V];Y[Hi]===Y[pn]&&wc(Y[Xe],Y,D,l)}if(null!==M[ji]){const V=M[ji];for(let Y=0;Y<V.length;Y++){const ie=V[Y];wc(ie[Xe],ie,D,l)}}}}}return l}function Uo(r){const s=xe(),o=en(),l=Iu();Xo(l+1);const c=hC(o,l);if(r.dirty&&function el(r){return 4==(4&r[Lt])}(s)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?wc(o,s,l,[]):ri(o,s,c,l);r.reset(h,uy),r.notifyOnChanges()}return!0}return!1}function yh(r,s,o){const l=en();l.firstCreatePass&&(Ua(l,new aC(r,s,o),-1),2==(2&s)&&(l.staticViewQueries=!0)),Qm(l,xe(),s)}function Fi(r,s,o,l){const c=en();if(c.firstCreatePass){const h=Nn();Ua(c,new aC(s,o,l),h.index),function Db(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}Qm(c,xe(),o)}function La(){return function dC(r,s){return r[Kn].queries[s].queryList}(xe(),Iu())}function Qm(r,s,o){const l=new Zm(4==(4&o));Ea(r,s,l,l.destroy),null===s[Kn]&&(s[Kn]=new _h),s[Kn].queries.push(new qm(l))}function Ua(r,s,o){null===r.queries&&(r.queries=new _p),r.queries.track(new Km(s,o))}function hC(r,s){return r.queries.getByIndex(s)}function fC(r,s){return gp(r,s)}function lu(r){return!!vr(r)}function Ep(...r){}const qI=new vn("Application Initializer");let Ip=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Ld(h))o.push(h);else if(ov(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});o.push(m)}}Promise.all(o).then(()=>{l()}).catch(c=>{this.reject(c)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Be(qI,8))},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const RC=new vn("AppId",{providedIn:"root",factory:function PC(){return`${s_()}${s_()}${s_()}`}});function s_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xC=new vn("Platform Initializer"),YI=new vn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let Lr=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Va=new vn("LocaleId",{providedIn:"root",factory:()=>Je(Va,Ze.Optional|Ze.SkipSelf)||function Li(){return typeof $localize<"u"&&$localize.locale||pc}()}),QI=new vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wp{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let JI=(()=>{class r{compileModuleSync(o){return new su(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),h=zs(vr(o).declarations).reduce((m,v)=>{const E=sn(v);return E&&m.push(new tc(E)),m},[]);return new wp(l,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const jb=(()=>Promise.resolve(0))();function l_(r){typeof Zone>"u"?jb.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ws{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&o,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function u_(){let r=Ke.requestAnimationFrame,s=Ke.cancelAnimationFrame;if(typeof Zone<"u"&&r&&s){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Wb(r){const s=()=>{!function $b(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Ke,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,NC(r),r.isCheckStableRunning=!0,c_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),NC(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,c,h,m,v)=>{try{return nw(r),o.invokeTask(c,h,m,v)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&s(),rw(r)}},onInvoke:(o,l,c,h,m,v,E)=>{try{return nw(r),o.invoke(c,h,m,v,E)}finally{r.shouldCoalesceRunChangeDetection&&s(),rw(r)}},onHasTask:(o,l,c,h)=>{o.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,NC(r),c_(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,l,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new me(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,s,tw,Ep,Ep);try{return h.runTask(m,o,l)}finally{h.cancelTask(m)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const tw={};function c_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function NC(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function nw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function rw(r){r._nesting--,c_(r)}class Gb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,c){return s.apply(o,l)}}const iw=new vn(""),sw=new vn("");let mr,d_=(()=>{class r{constructor(o,l,c){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mr||(function ow(r){mr=r}(c),c.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),l_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())l_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Be(ws),Be(h_),Be(sw))},r.\u0275prov=Ve({token:r,factory:r.\u0275fac}),r})(),h_=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return mr?.findTestabilityInTree(this,o,l)??null}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Vo=!1;let bs=null;const Dp=new vn("AllowMultipleToken"),f_=new vn("PlatformDestroyListeners"),kC=new vn("appBootstrapListener");class cw{constructor(s,o){this.name=s,this.token=o}}function g_(r,s,o=[]){const l=`Platform: ${s}`,c=new vn(l);return(h=[])=>{let m=Ih();if(!m||m.injector.get(Dp,!1)){const v=[...o,...h,{provide:c,useValue:!0}];r?r(v):function dw(r){if(bs&&!bs.get(Dp,!1))throw new me(400,!1);bs=r;const s=r.get(LC);(function Gr(r){const s=r.get(xC,null);s&&s.forEach(o=>o())})(r)}(function Eh(r=[],s){return Yu.create({name:s,providers:[{provide:hg,useValue:"platform"},{provide:f_,useValue:new Set([()=>bs=null])},...r]})}(v,l))}return function m_(r){const s=Ih();if(!s)throw new me(401,!1);return s}()}}function Ih(){return bs?.get(LC)??null}let LC=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const c=function VC(r,s){let o;return o="noop"===r?new Gb:("zone.js"===r?void 0:r)||new ws(s),o}(l?.ngZone,function UC(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(l)),h=[{provide:ws,useValue:c}];return c.run(()=>{const m=Yu.create({providers:h,parent:this.injector,name:o.moduleType.name}),v=o.create(m),E=v.injector.get(Ed,null);if(!E)throw new me(402,!1);return c.runOutsideAngular(()=>{const D=c.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{wh(this._modules,v),D.unsubscribe()})}),function BC(r,s,o){try{const l=o();return Ld(l)?l.catch(c=>{throw s.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(E,c,()=>{const D=v.injector.get(Ip);return D.runInitializers(),D.donePromise.then(()=>(function bv(r){He(r,"Expected localeId to be defined"),"string"==typeof r&&(eh=r.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Va,pc)||pc),this._moduleDoBootstrap(v),v))})})}bootstrapModule(o,l=[]){const c=HC({},l);return function aw(r,s,o){const l=new su(o);return Promise.resolve(l)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const l=o.injector.get(Ba);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new me(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(f_,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Be(Yu))},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function HC(r,s){return Array.isArray(s)?s.reduce(HC,r):{...r,...s}}let Ba=(()=>{class r{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,l,c){this._zone=o,this._injector=l,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new P.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new P.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),l_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),D.unsubscribe()}});this.isStable=(0,J.T)(h,m.pipe((0,oe.B)()))}bootstrap(o,l){const c=o instanceof ay;if(!this._injector.get(Ip).done){!c&&Rr(o);throw new me(405,Vo)}let m;m=c?o:this._injector.get(Ca).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const v=function uw(r){return r.isBoundToModule}(m)?void 0:this._injector.get(iu),D=m.create(Yu.NULL,[],l||m.selector,v),M=D.location.nativeElement,V=D.injector.get(iw,null);return V?.registerApplication(M),D.onDestroy(()=>{this.detachView(D.hostView),wh(this.components,D),V?.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;wh(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(kC,[]);l.push(...this._bootstrapListeners),l.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>wh(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new me(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(o){return new(o||r)(Be(ws),Be(kl),Be(Ed))},r.\u0275prov=Ve({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function wh(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}function fw(){return!1}let y_=(()=>{class r{}return r.__NG_ELEMENT_ID__=$C,r})();function $C(r){return function v_(r,s,o){if($o(r)&&!o){const l=nr(r.index,s);return new xd(l,l)}return 47&r.type?new xd(s[lr],s):null}(Nn(),xe(),16==(16&r))}class KC{constructor(){}supports(s){return Af(s)}create(s){return new vw(s)}}const yw=(r,s)=>s;class vw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||yw}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,c=0,h=null;for(;o||l;){const m=!l||o&&o.currentIndex<QC(l,c,h)?o:l,v=QC(m,c,h),E=m.currentIndex;if(m===l)c--,l=l._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const D=v-c,M=E-c;if(D!=M){for(let Y=0;Y<D;Y++){const ie=Y<h.length?h[Y]:h[Y]=0,Ce=ie+Y;M<=Ce&&Ce<D&&(h[Y]=ie+1)}h[m.previousIndex]=M-D}}v!==E&&s(m,v,E)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Af(s))throw new me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,m,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],m=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,h,m,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,v),l=!0),o=o._next}else c=0,function ev(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,v=>{m=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,m)?(l&&(o=this._verifyReinsertion(o,v,m,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,c),l=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,c)):s=this._addAfter(new Cw(o,l),h,c),s}_verifyReinsertion(s,o,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new YC),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new YC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Cw{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ew{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class YC{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new Ew,this.map.set(o,l)),l.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function QC(r,s,o){const l=r.previousIndex;if(null===l)return l;let c=0;return o&&l<o.length&&(c=o[l]),l+s+c}class JC{constructor(){}supports(s){return s instanceof Map||Zg(s)}create(){return new Iw}}class Iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Zg(s)))throw new me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,l);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const l=new Ap(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class Ap{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I_(){return new Mp([new KC])}let Mp=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||I_()),deps:[[r,new I,new Jr]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(null!=l)return l;throw new me(901,!1)}}return r.\u0275prov=Ve({token:r,providedIn:"root",factory:I_}),r})();function eE(){return new w_([new JC])}let w_=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const c=l.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||eE()),deps:[[r,new I,new Jr]]}}find(o){const l=this.factories.find(c=>c.supports(o));if(l)return l;throw new me(901,!1)}}return r.\u0275prov=Ve({token:r,providedIn:"root",factory:eE}),r})();const nE=g_(null,"core",[]);let rE=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Be(Ba))},r.\u0275mod=Ho({type:r}),r.\u0275inj=Ut({}),r})();function Qb(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},3942:(ut,De,L)=>{"use strict";L.d(De,{Z:()=>We});var u=L(2090),j=L(4859),P=L(9681),J=L(1877);class oe{constructor(me,Ee){this._delegate=me,this.firebase=Ee,(0,P._addComponent)(me,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(me,Ee=P._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(me);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Ie=Oe.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:Ee})}_removeServiceInstance(me,Ee=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ee)}_addComponent(me){(0,P._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,P._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function te(){const et=function he(et){const me={},Ee={__esModule:!0,initializeApp:function Se(O,F={}){const q=P.initializeApp(O,F);if((0,u.r3)(me,q.name))return me[q.name];const fe=new et(q,Ee);return me[q.name]=fe,fe},app:Oe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function ve(O){const F=O.name,q=F.replace("-compat","");if(P._registerComponent(O)&&"PUBLIC"===O.type){const fe=(de=Oe())=>{if("function"!=typeof de[q])throw _e.create("invalid-app-argument",{appName:F});return de[q]()};void 0!==O.serviceProps&&(0,u.ZB)(fe,O.serviceProps),Ee[q]=fe,et.prototype[q]=function(...de){return this._getService.bind(this,F).apply(this,O.multipleInstances?de:[])}}return"PUBLIC"===O.type?Ee[q]:null},removeApp:function Ie(O){delete me[O]},useAsService:function Te(O,F){return"serverAuth"===F?null:F},modularAPIs:P}};function Oe(O){if(!(0,u.r3)(me,O=O||P._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:O});return me[O]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function Re(){return Object.keys(me).map(O=>me[O])}}),Oe.App=et,Ee}(oe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function me(Ee){(0,u.ZB)(et,Ee)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),et}(),W=new J.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=G;!function be(et){(0,P.registerVersion)("@firebase/app-compat","0.2.7",et)}()},9681:(ut,De,L)=>{"use strict";L.r(De),L.d(De,{FirebaseError:()=>J.ZR,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>pe,_addComponent:()=>ht,_addOrOverwriteComponent:()=>Qe,_apps:()=>He,_clearComponents:()=>Ut,_components:()=>ge,_getProvider:()=>Ve,_registerComponent:()=>Ge,_removeServiceInstance:()=>gt,deleteApp:()=>$t,getApp:()=>qt,getApps:()=>Xt,initializeApp:()=>jt,onLog:()=>Ze,registerVersion:()=>an,setLogLevel:()=>gn});var u=L(5861),j=L(4859),P=L(1877),J=L(2090),oe=L(8766);class ue{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function _e(Be){return"VERSION"===Be.getComponent()?.type}(Je)){const pt=Je.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Je=>Je).join(" ")}}const he="@firebase/app",G=new P.Yd("@firebase/app"),pe="[DEFAULT]",Ne={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},He=new Map,ge=new Map;function ht(Be,we){try{Be.container.addComponent(we)}catch(Je){G.debug(`Component ${we.name} failed to register with FirebaseApp ${Be.name}`,Je)}}function Qe(Be,we){Be.container.addOrOverwriteComponent(we)}function Ge(Be){const we=Be.name;if(ge.has(we))return G.debug(`There were multiple attempts to register component ${we}.`),!1;ge.set(we,Be);for(const Je of He.values())ht(Je,Be);return!0}function Ve(Be,we){const Je=Be.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),Be.container.getProvider(we)}function gt(Be,we,Je=pe){Ve(Be,we).clearInstance(Je)}function Ut(){ge.clear()}const lt=new J.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pt{constructor(we,Je,pt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw lt.create("app-deleted",{appName:this._name})}}const Jt="9.19.1";function jt(Be,we={}){let Je=Be;"object"!=typeof we&&(we={name:we});const pt=Object.assign({name:pe,automaticDataCollectionEnabled:!1},we),Ct=pt.name;if("string"!=typeof Ct||!Ct)throw lt.create("bad-app-name",{appName:String(Ct)});if(Je||(Je=(0,J.aH)()),!Je)throw lt.create("no-options");const Qt=He.get(Ct);if(Qt){if((0,J.vZ)(Je,Qt.options)&&(0,J.vZ)(pt,Qt.config))return Qt;throw lt.create("duplicate-app",{appName:Ct})}const xn=new j.H0(Ct);for(const $ of ge.values())xn.addComponent($);const Z=new Pt(Je,pt,xn);return He.set(Ct,Z),Z}function qt(Be=pe){const we=He.get(Be);if(!we&&Be===pe)return jt();if(!we)throw lt.create("no-app",{appName:Be});return we}function Xt(){return Array.from(He.values())}function $t(Be){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(Be){const we=Be.name;He.has(we)&&(He.delete(we),yield Promise.all(Be.container.getProviders().map(Je=>Je.delete())),Be.isDeleted=!0)})).apply(this,arguments)}function an(Be,we,Je){var pt;let Ct=null!==(pt=Ne[Be])&&void 0!==pt?pt:Be;Je&&(Ct+=`-${Je}`);const Qt=Ct.match(/\s|\//),xn=we.match(/\s|\//);if(Qt||xn){const Z=[`Unable to register library "${Ct}" with version "${we}":`];return Qt&&Z.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Qt&&xn&&Z.push("and"),xn&&Z.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void G.warn(Z.join(" "))}Ge(new j.wA(`${Ct}-version`,()=>({library:Ct,version:we}),"VERSION"))}function Ze(Be,we){if(null!==Be&&"function"!=typeof Be)throw lt.create("invalid-log-argument");(0,P.Am)(Be,we)}function gn(Be){(0,P.Ub)(Be)}const cn="firebase-heartbeat-database",Mt=1,kt="firebase-heartbeat-store";let bn=null;function Ke(){return bn||(bn=(0,oe.X3)(cn,Mt,{upgrade:(Be,we)=>{0===we&&Be.createObjectStore(kt)}}).catch(Be=>{throw lt.create("idb-open",{originalErrorMessage:Be.message})})),bn}function ct(){return(ct=(0,u.Z)(function*(Be){try{return(yield Ke()).transaction(kt).objectStore(kt).get(dn(Be))}catch(we){if(we instanceof J.ZR)G.warn(we.message);else{const Je=lt.create("idb-get",{originalErrorMessage:we?.message});G.warn(Je.message)}}})).apply(this,arguments)}function rn(Be,we){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(Be,we){try{const pt=(yield Ke()).transaction(kt,"readwrite");return yield pt.objectStore(kt).put(we,dn(Be)),pt.done}catch(Je){if(Je instanceof J.ZR)G.warn(Je.message);else{const pt=lt.create("idb-set",{originalErrorMessage:Je?.message});G.warn(pt.message)}}})).apply(this,arguments)}function dn(Be){return`${Be.name}!${Be.options.appId}`}class Zn{constructor(we){this.container=we,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new Tt(Je),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var we=this;return(0,u.Z)(function*(){const pt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=ft();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!we._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Ct))return we._heartbeatsCache.heartbeats.push({date:Ct,agent:pt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Qt=>{const xn=new Date(Qt.date).valueOf();return Date.now()-xn<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,u.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const Je=ft(),{heartbeatsToSend:pt,unsentEntries:Ct}=function ar(Be,we=1024){const Je=[];let pt=Be.slice();for(const Ct of Be){const Qt=Je.find(xn=>xn.agent===Ct.agent);if(Qt){if(Qt.dates.push(Ct.date),_r(Je)>we){Qt.dates.pop();break}}else if(Je.push({agent:Ct.agent,dates:[Ct.date]}),_r(Je)>we){Je.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Je,unsentEntries:pt}}(we._heartbeatsCache.heartbeats),Qt=(0,J.L)(JSON.stringify({version:2,heartbeats:pt}));return we._heartbeatsCache.lastSentHeartbeatDate=Je,Ct.length>0?(we._heartbeatsCache.heartbeats=Ct,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),Qt})()}}function ft(){return(new Date).toISOString().substring(0,10)}class Tt{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,J.hl)()&&(0,J.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,u.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function rt(Be){return ct.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var Je=this;return(0,u.Z)(function*(){var pt;if(yield Je._canUseIndexedDBPromise){const Qt=yield Je.read();return rn(Je.app,{lastSentHeartbeatDate:null!==(pt=we.lastSentHeartbeatDate)&&void 0!==pt?pt:Qt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Je=this;return(0,u.Z)(function*(){var pt;if(yield Je._canUseIndexedDBPromise){const Qt=yield Je.read();return rn(Je.app,{lastSentHeartbeatDate:null!==(pt=we.lastSentHeartbeatDate)&&void 0!==pt?pt:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...we.heartbeats]})}})()}}function _r(Be){return(0,J.L)(JSON.stringify({version:2,heartbeats:Be})).length}!function Pn(Be){Ge(new j.wA("platform-logger",we=>new ue(we),"PRIVATE")),Ge(new j.wA("heartbeat",we=>new Zn(we),"PRIVATE")),an(he,"0.9.7",Be),an(he,"0.9.7","esm2017"),an("fire-js","")}("")},4859:(ut,De,L)=>{"use strict";L.d(De,{H0:()=>he,wA:()=>P,zt:()=>oe});var u=L(5861),j=L(2090);class P{constructor(G,W,Q){this.name=G,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const J="[DEFAULT]";class oe{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const Q=new j.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:W});Le&&Q.resolve(Le)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const Q=this.normalizeInstanceIdentifier(G?.identifier),Le=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(be){if(Le)return null;throw be}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function _e(te){return"EAGER"===te.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:J})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(W);try{const be=this.getOrInitializeService({instanceIdentifier:Le});Q.resolve(be)}catch{}}}}clearInstance(G=J){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=J){return this.instances.has(G)}getOptions(G=J){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[be,We]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(be)&&We.resolve(Le);return Le}onInit(G,W){var Q;const Le=this.normalizeInstanceIdentifier(W),be=null!==(Q=this.onInitCallbacks.get(Le))&&void 0!==Q?Q:new Set;be.add(G),this.onInitCallbacks.set(Le,be);const We=this.instances.get(Le);return We&&G(We,Le),()=>{be.delete(G)}}invokeOnInitCallbacks(G,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const Le of Q)try{Le(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(te=G,te===J?void 0:te),options:W}),this.instances.set(G,Q),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch{}var te;return Q||null}normalizeInstanceIdentifier(G=J){return this.component?this.component.multipleInstances?G:J:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new oe(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,De,L)=>{"use strict";L.d(De,{Am:()=>te,Ub:()=>he,Yd:()=>_e,in:()=>j});const u=[];var j=(()=>{return(G=j||(j={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",j;var G})();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},J=j.INFO,oe={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ue=(G,W,...Q)=>{if(W<G.logLevel)return;const Le=(new Date).toISOString(),be=oe[W];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[be](`[${Le}]  ${G.name}:`,...Q)};class _e{constructor(W){this.name=W,this._logLevel=J,this._logHandler=ue,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in j))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...W),this._logHandler(this,j.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...W),this._logHandler(this,j.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,j.INFO,...W),this._logHandler(this,j.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,j.WARN,...W),this._logHandler(this,j.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...W),this._logHandler(this,j.ERROR,...W)}}function he(G){u.forEach(W=>{W.setLogLevel(G)})}function te(G,W){for(const Q of u){let Le=null;W&&W.level&&(Le=P[W.level]),Q.userLogHandler=null===G?null:(be,We,...et)=>{const me=et.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");We>=(Le??be.logLevel)&&G({level:j[We].toLowerCase(),message:me,args:et,type:be.name})}}}},259:(ut,De,L)=>{"use strict";L.d(De,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=L(9681);(0,u.registerVersion)("firebase","9.19.1","app")},9260:(ut,De,L)=>{"use strict";L.d(De,{Z:()=>u.Z});var u=L(3942);u.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(ut,De,L)=>{"use strict";L.r(De);var u=L(5861),j=L(3942),P=L(3432),J=L(2090),_e=(L(9681),L(1877),L(4859));function he(){return window}const te=2e3;function W(){return W=(0,u.Z)(function*(x,k,R){var X;const{BuildInfo:ce}=he();(0,P.ar)(k.sessionId,"AuthEvent did not contain a session ID");const tt=yield function Ee(x){return Ie.apply(this,arguments)}(k.sessionId),_t={};return(0,P.as)()?_t.ibi=ce.packageName:(0,P.at)()?_t.apn=ce.packageName:(0,P.au)(x,"operation-not-supported-in-this-environment"),ce.displayName&&(_t.appDisplayName=ce.displayName),_t.sessionId=tt,(0,P.av)(x,R,k.type,void 0,null!==(X=k.eventId)&&void 0!==X?X:void 0,_t)}),W.apply(this,arguments)}function Le(){return(Le=(0,u.Z)(function*(x){const{BuildInfo:k}=he(),R={};(0,P.as)()?R.iosBundleId=k.packageName:(0,P.at)()?R.androidPackageName=k.packageName:(0,P.au)(x,"operation-not-supported-in-this-environment"),yield(0,P.aw)(x,R)})).apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(x,k,R){const{cordova:X}=he();let ce=()=>{};try{yield new Promise((tt,_t)=>{let Et=null;function Gt(){var Ft;tt();const yr=null===(Ft=X.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof yr&&yr(),"function"==typeof R?.close&&R.close()}function yt(){Et||(Et=window.setTimeout(()=>{_t((0,P.ay)(x,"redirect-cancelled-by-user"))},te))}function yn(){"visible"===document?.visibilityState&&yt()}k.addPassiveListener(Gt),document.addEventListener("resume",yt,!1),(0,P.at)()&&document.addEventListener("visibilitychange",yn,!1),ce=()=>{k.removePassiveListener(Gt),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",yn,!1),Et&&window.clearTimeout(Et)}})}finally{ce()}})).apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(x){const k=function Oe(x){if((0,P.ar)(/[0-9a-zA-Z]+/.test(x),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(x);const k=new ArrayBuffer(x.length),R=new Uint8Array(k);for(let X=0;X<x.length;X++)R[X]=x.charCodeAt(X);return R}(x),R=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(R)).map(ce=>ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Se=20;class Re extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(R=>R(k)),super.onEvent(k)}initialized(){var k=this;return(0,u.Z)(function*(){yield k.initPromise})()}}function O(x){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(x){const k=yield de()._get(Ue(x));return k&&(yield de()._remove(Ue(x))),k})).apply(this,arguments)}function fe(){const x=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<Se;R++){const X=Math.floor(Math.random()*k.length);x.push(k.charAt(X))}return x.join("")}function de(){return(0,P.aB)(P.b)}function Ue(x){return(0,P.aC)("authEvent",x.config.apiKey,x.name)}function ae(x){if(!x?.includes("?"))return{};const[k,...R]=x.split("?");return(0,J.zd)(R.join("?"))}const pe=class ye{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(k){var R=this;return(0,u.Z)(function*(){const X=k._key();let ce=R.eventManagers.get(X);return ce||(ce=new Re(k),R.eventManagers.set(X,ce),R.attachCallbackListeners(k,ce)),ce})()}_openPopup(k){(0,P.au)(k,"operation-not-supported-in-this-environment")}_openRedirect(k,R,X,ce){var tt=this;return(0,u.Z)(function*(){!function me(x){var k,R,X,ce,tt,_t,Et,Gt,yt,yn;const Ft=he();(0,P.az)("function"==typeof(null===(k=Ft?.universalLinks)||void 0===k?void 0:k.subscribe),x,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.az)(typeof(null===(R=Ft?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.az)("function"==typeof(null===(tt=null===(ce=null===(X=Ft?.cordova)||void 0===X?void 0:X.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===tt?void 0:tt.openUrl),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(Gt=null===(Et=null===(_t=Ft?.cordova)||void 0===_t?void 0:_t.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===Gt?void 0:Gt.isAvailable),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.az)("function"==typeof(null===(yn=null===(yt=Ft?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===yn?void 0:yn.open),x,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const _t=yield tt._initialize(k);yield _t.initialized(),_t.resetRedirect(),(0,P.aF)(),yield tt._originValidation(k);const Et=function ve(x,k,R=null){return{type:k,eventId:R,urlResponse:null,sessionId:fe(),postBody:null,tenantId:x.tenantId,error:(0,P.ay)(x,"no-auth-event")}}(k,X,ce);yield function Te(x,k){return de()._set(Ue(x),k)}(k,Et);const Gt=yield function G(x,k,R){return W.apply(this,arguments)}(k,Et,R),yt=yield function be(x){const{cordova:k}=he();return new Promise(R=>{k.plugins.browsertab.isAvailable(X=>{let ce=null;X?k.plugins.browsertab.openUrl(x):ce=k.InAppBrowser.open(x,(0,P.ax)()?"_blank":"_system","location=yes"),R(ce)})})}(Gt);return function We(x,k,R){return et.apply(this,arguments)}(k,_t,yt)})()}_isIframeWebStorageSupported(k,R){throw new Error("Method not implemented.")}_originValidation(k){const R=k._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function Q(x){return Le.apply(this,arguments)}(k)),this.originValidationPromises[R]}attachCallbackListeners(k,R){const{universalLinks:X,handleOpenURL:ce,BuildInfo:tt}=he(),_t=setTimeout((0,u.Z)(function*(){yield O(k),R.onEvent(Ne())}),500),Et=function(){var yn=(0,u.Z)(function*(Ft){clearTimeout(_t);const yr=yield O(k);let $a=null;yr&&Ft?.url&&($a=function q(x,k){var R,X;const ce=function ne(x){const k=ae(x),R=k.link?decodeURIComponent(k.link):void 0,X=ae(R).link,ce=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return ae(ce).link||ce||X||R||x}(k);if(ce.includes("/__/auth/callback")){const tt=ae(ce),_t=tt.firebaseError?function Pe(x){try{return JSON.parse(x)}catch{return null}}(decodeURIComponent(tt.firebaseError)):null,Et=null===(X=null===(R=_t?.code)||void 0===R?void 0:R.split("auth/"))||void 0===X?void 0:X[1],Gt=Et?(0,P.ay)(Et):null;return Gt?{type:x.type,eventId:x.eventId,tenantId:x.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:x.type,eventId:x.eventId,tenantId:x.tenantId,sessionId:x.sessionId,urlResponse:ce,postBody:null}}return null}(yr,Ft.url)),R.onEvent($a||Ne())});return function(yr){return yn.apply(this,arguments)}}();typeof X<"u"&&"function"==typeof X.subscribe&&X.subscribe(null,Et);const Gt=ce,yt=`${tt.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var yn=(0,u.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(yt)&&Et({url:Ft}),"function"==typeof Gt)try{Gt(Ft)}catch(yr){console.error(yr)}});return function(Ft){return yn.apply(this,arguments)}}()}};function Ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.ay)("no-auth-event")}}const Qe=1e3;function Ge(){var x;return(null===(x=self?.location)||void 0===x?void 0:x.protocol)||null}function gt(x=(0,J.z$)()){return!("file:"!==Ge()&&"ionic:"!==Ge()&&"capacitor:"!==Ge()||!x.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jt(){try{const x=self.localStorage,k=P.aK();if(x)return x.setItem(k,"1"),x.removeItem(k),!function Pt(x=(0,J.z$)()){return function ze(){return(0,J.w1)()&&11===document?.documentMode}()||function lt(x=(0,J.z$)()){return/Edge\/\d+/.test(x)}(x)}()||(0,J.hl)()}catch{return jt()&&(0,J.hl)()}return!1}function jt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qt(){return(function Ve(){return"http:"===Ge()||"https:"===Ge()}()||(0,J.ru)()||gt())&&!function Ut(){return(0,J.b$)()||(0,J.UG)()}()&&Jt()&&!jt()}function Xt(){return gt()&&typeof document<"u"}function Wt(){return(Wt=(0,u.Z)(function*(){return!!Xt()&&new Promise(x=>{const k=setTimeout(()=>{x(!1)},Qe);document.addEventListener("deviceready",()=>{clearTimeout(k),x(!0)})})})).apply(this,arguments)}const Ze={LOCAL:"local",NONE:"none",SESSION:"session"},gn=P.az,cn="persistence";function kt(x){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(x){yield x._initializationPromise;const k=rt(),R=P.aC(cn,x.config.apiKey,x.name);k&&k.setItem(R,x._getPersistence())})).apply(this,arguments)}function rt(){var x;try{return(null===(x=function an(){return typeof window<"u"?window:null}())||void 0===x?void 0:x.sessionStorage)||null}catch{return null}}const ct=P.az;class rn{constructor(){this.browserResolver=P.aB(P.k),this.cordovaResolver=P.aB(pe),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aD,this._overrideRedirectResult=P.aE}_initialize(k){var R=this;return(0,u.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,R,X,ce){var tt=this;return(0,u.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openPopup(k,R,X,ce)})()}_openRedirect(k,R,X,ce){var tt=this;return(0,u.Z)(function*(){return yield tt.selectUnderlyingResolver(),tt.assertedUnderlyingResolver._openRedirect(k,R,X,ce)})()}_isIframeWebStorageSupported(k,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,R)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return Xt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ct(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,u.Z)(function*(){if(k.underlyingResolver)return;const R=yield function $t(){return Wt.apply(this,arguments)}();k.underlyingResolver=R?k.cordovaResolver:k.browserResolver})()}}function ln(x){return x.unwrap()}function mn(x){return Zn(x)}function Zn(x){const{_tokenResponse:k}=x instanceof J.ZR?x.customData:x;if(!k)return null;if(!(x instanceof J.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return P.P.credentialFromResult(x);const R=k.providerId;if(!R||R===P.p.PASSWORD)return null;let X;switch(R){case P.p.GOOGLE:X=P.U;break;case P.p.FACEBOOK:X=P.Q;break;case P.p.GITHUB:X=P.V;break;case P.p.TWITTER:X=P.Y;break;default:const{oauthIdToken:ce,oauthAccessToken:tt,oauthTokenSecret:_t,pendingToken:Et,nonce:Gt}=k;return tt||_t||ce||Et?Et?R.startsWith("saml.")?P.aN._create(R,Et):P.K._fromParams({providerId:R,signInMethod:R,pendingToken:Et,idToken:ce,accessToken:tt}):new P.W(R).credential({idToken:ce,accessToken:tt,rawNonce:Gt}):null}return x instanceof J.ZR?X.credentialFromError(x):X.credentialFromResult(x)}function ft(x,k){return k.catch(R=>{throw R instanceof J.ZR&&function on(x,k){var R;const X=null===(R=k.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===k?.code)k.resolver=new _r(x,P.ap(x,k));else if(X){const ce=Zn(k),tt=k;ce&&(tt.credential=ce,tt.tenantId=X.tenantId||void 0,tt.email=X.email||void 0,tt.phoneNumber=X.phoneNumber||void 0)}}(x,R),R}).then(R=>{const ce=R.user;return{operationType:R.operationType,credential:mn(R),additionalUserInfo:P.an(R),user:Pn.getOrCreate(ce)}})}function ar(x,k){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(x,k){const R=yield k;return{verificationId:R.verificationId,confirm:X=>ft(x,R.confirm(X))}})).apply(this,arguments)}class _r{constructor(k,R){this.resolver=R,this.auth=function dn(x){return x.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return ft(ln(this.auth),this.resolver.resolveSignIn(k))}}class Pn{constructor(k){this._delegate=k,this.multiFactor=P.aq(k)}static getOrCreate(k){return Pn.USER_MAP.has(k)||Pn.USER_MAP.set(k,new Pn(k)),Pn.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var R=this;return(0,u.Z)(function*(){return ft(R.auth,P.$(R._delegate,k))})()}linkWithPhoneNumber(k,R){var X=this;return(0,u.Z)(function*(){return ar(X.auth,P.l(X._delegate,k,R))})()}linkWithPopup(k){var R=this;return(0,u.Z)(function*(){return ft(R.auth,P.d(R._delegate,k,rn))})()}linkWithRedirect(k){var R=this;return(0,u.Z)(function*(){return yield kt(P.aG(R.auth)),P.g(R._delegate,k,rn)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var R=this;return(0,u.Z)(function*(){return ft(R.auth,P.a0(R._delegate,k))})()}reauthenticateWithPhoneNumber(k,R){return ar(this.auth,P.r(this._delegate,k,R))}reauthenticateWithPopup(k){return ft(this.auth,P.e(this._delegate,k,rn))}reauthenticateWithRedirect(k){var R=this;return(0,u.Z)(function*(){return yield kt(P.aG(R.auth)),P.h(R._delegate,k,rn)})()}sendEmailVerification(k){return P.ad(this._delegate,k)}unlink(k){var R=this;return(0,u.Z)(function*(){return yield P.am(R._delegate,k),R})()}updateEmail(k){return P.ai(this._delegate,k)}updatePassword(k){return P.aj(this._delegate,k)}updatePhoneNumber(k){return P.u(this._delegate,k)}updateProfile(k){return P.ah(this._delegate,k)}verifyBeforeUpdateEmail(k,R){return P.ae(this._delegate,k,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Pn.USER_MAP=new WeakMap;const Be=P.az;let we=(()=>{class x{constructor(R,X){if(this.app=R,X.isInitialized())return this._delegate=X.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ce}=R.options;Be(ce,"invalid-api-key",{appName:R.name}),Be(ce,"invalid-api-key",{appName:R.name});const tt=typeof window<"u"?rn:void 0;this._delegate=X.initialize({options:{persistence:pt(ce,R.name),popupRedirectResolver:tt}}),this._delegate._updateErrorMap(P.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Pn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,X){P.H(this._delegate,R,X)}applyActionCode(R){return P.a4(this._delegate,R)}checkActionCode(R){return P.a5(this._delegate,R)}confirmPasswordReset(R,X){return P.a3(this._delegate,R,X)}createUserWithEmailAndPassword(R,X){var ce=this;return(0,u.Z)(function*(){return ft(ce._delegate,P.a7(ce._delegate,R,X))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return P.ac(this._delegate,R)}isSignInWithEmailLink(R){return P.aa(this._delegate,R)}getRedirectResult(){var R=this;return(0,u.Z)(function*(){Be(qt(),R._delegate,"operation-not-supported-in-this-environment");const X=yield P.j(R._delegate,rn);return X?ft(R._delegate,Promise.resolve(X)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function He(x,k){(0,P.aG)(x)._logFramework(k)}(this._delegate,R)}onAuthStateChanged(R,X,ce){const{next:tt,error:_t,complete:Et}=Je(R,X,ce);return this._delegate.onAuthStateChanged(tt,_t,Et)}onIdTokenChanged(R,X,ce){const{next:tt,error:_t,complete:Et}=Je(R,X,ce);return this._delegate.onIdTokenChanged(tt,_t,Et)}sendSignInLinkToEmail(R,X){return P.a9(this._delegate,R,X)}sendPasswordResetEmail(R,X){return P.a2(this._delegate,R,X||void 0)}setPersistence(R){var X=this;return(0,u.Z)(function*(){let ce;switch(function Mt(x,k){gn(Object.values(Ze).includes(k),x,"invalid-persistence-type"),(0,J.b$)()?gn(k!==Ze.SESSION,x,"unsupported-persistence-type"):(0,J.UG)()?gn(k===Ze.NONE,x,"unsupported-persistence-type"):jt()?gn(k===Ze.NONE||k===Ze.LOCAL&&(0,J.hl)(),x,"unsupported-persistence-type"):gn(k===Ze.NONE||Jt(),x,"unsupported-persistence-type")}(X._delegate,R),R){case Ze.SESSION:ce=P.a;break;case Ze.LOCAL:ce=(yield P.aB(P.i)._isAvailable())?P.i:P.b;break;case Ze.NONE:ce=P.M;break;default:return P.au("argument-error",{appName:X._delegate.name})}return X._delegate.setPersistence(ce)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return ft(this._delegate,P.Z(this._delegate))}signInWithCredential(R){return ft(this._delegate,P._(this._delegate,R))}signInWithCustomToken(R){return ft(this._delegate,P.a1(this._delegate,R))}signInWithEmailAndPassword(R,X){return ft(this._delegate,P.a8(this._delegate,R,X))}signInWithEmailLink(R,X){return ft(this._delegate,P.ab(this._delegate,R,X))}signInWithPhoneNumber(R,X){return ar(this._delegate,P.s(this._delegate,R,X))}signInWithPopup(R){var X=this;return(0,u.Z)(function*(){return Be(qt(),X._delegate,"operation-not-supported-in-this-environment"),ft(X._delegate,P.c(X._delegate,R,rn))})()}signInWithRedirect(R){var X=this;return(0,u.Z)(function*(){return Be(qt(),X._delegate,"operation-not-supported-in-this-environment"),yield kt(X._delegate),P.f(X._delegate,R,rn)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return P.a6(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return x.Persistence=Ze,x})();function Je(x,k,R){let X=x;"function"!=typeof x&&({next:X,error:k,complete:R}=x);const ce=X;return{next:_t=>ce(_t&&Pn.getOrCreate(_t)),error:k,complete:R}}function pt(x,k){const R=function Ke(x,k){const R=rt();if(!R)return[];const X=P.aC(cn,x,k);switch(R.getItem(X)){case Ze.NONE:return[P.M];case Ze.LOCAL:return[P.i,P.a];case Ze.SESSION:return[P.a];default:return[]}}(x,k);if(typeof self<"u"&&!R.includes(P.i)&&R.push(P.i),typeof window<"u")for(const X of[P.b,P.a])R.includes(X)||R.push(X);return R.includes(P.M)||R.push(P.M),R}class Ct{constructor(){this.providerId="phone",this._delegate=new P.P(ln(j.Z.auth()))}static credential(k,R){return P.P.credential(k,R)}verifyPhoneNumber(k,R){return this._delegate.verifyPhoneNumber(k,R)}unwrap(){return this._delegate}}Ct.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ct.PROVIDER_ID=P.P.PROVIDER_ID;const Qt=P.az;class xn{constructor(k,R,X=j.Z.app()){var ce;Qt(null===(ce=X.options)||void 0===ce?void 0:ce.apiKey,"invalid-api-key",{appName:X.name}),this._delegate=new P.R(k,R,X.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(x){x.INTERNAL.registerComponent(new _e.wA("auth-compat",k=>{const R=k.getProvider("app-compat").getImmediate(),X=k.getProvider("auth");return new we(R,X)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.N,FacebookAuthProvider:P.Q,GithubAuthProvider:P.V,GoogleAuthProvider:P.U,OAuthProvider:P.W,SAMLAuthProvider:P.X,PhoneAuthProvider:Ct,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:xn,TwitterAuthProvider:P.Y,Auth:we,AuthCredential:P.I,Error:J.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),x.registerVersion("@firebase/auth-compat","0.3.7")}(j.Z)},8766:(ut,De,L)=>{"use strict";L.d(De,{Lj:()=>Se,X3:()=>Oe});var u=L(5861);const j=(F,q)=>q.some(fe=>F instanceof fe);let P,J;const _e=new WeakMap,he=new WeakMap,te=new WeakMap,G=new WeakMap,W=new WeakMap;let be={get(F,q,fe){if(F instanceof IDBTransaction){if("done"===q)return he.get(F);if("objectStoreNames"===q)return F.objectStoreNames||te.get(F);if("store"===q)return fe.objectStoreNames[1]?void 0:fe.objectStore(fe.objectStoreNames[0])}return Ee(F[q])},set:(F,q,fe)=>(F[q]=fe,!0),has:(F,q)=>F instanceof IDBTransaction&&("done"===q||"store"===q)||q in F};function me(F){return"function"==typeof F?function et(F){return F!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(F)?function(...q){return F.apply(Ie(this),q),Ee(_e.get(this))}:function(...q){return Ee(F.apply(Ie(this),q))}:function(q,...fe){const de=F.call(Ie(this),q,...fe);return te.set(de,q.sort?q.sort():[q]),Ee(de)}}(F):(F instanceof IDBTransaction&&function Le(F){if(he.has(F))return;const q=new Promise((fe,de)=>{const Ue=()=>{F.removeEventListener("complete",Pe),F.removeEventListener("error",ne),F.removeEventListener("abort",ne)},Pe=()=>{fe(),Ue()},ne=()=>{de(F.error||new DOMException("AbortError","AbortError")),Ue()};F.addEventListener("complete",Pe),F.addEventListener("error",ne),F.addEventListener("abort",ne)});he.set(F,q)}(F),j(F,function oe(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(F,be):F)}function Ee(F){if(F instanceof IDBRequest)return function Q(F){const q=new Promise((fe,de)=>{const Ue=()=>{F.removeEventListener("success",Pe),F.removeEventListener("error",ne)},Pe=()=>{fe(Ee(F.result)),Ue()},ne=()=>{de(F.error),Ue()};F.addEventListener("success",Pe),F.addEventListener("error",ne)});return q.then(fe=>{fe instanceof IDBCursor&&_e.set(fe,F)}).catch(()=>{}),W.set(q,F),q}(F);if(G.has(F))return G.get(F);const q=me(F);return q!==F&&(G.set(F,q),W.set(q,F)),q}const Ie=F=>W.get(F);function Oe(F,q,{blocked:fe,upgrade:de,blocking:Ue,terminated:Pe}={}){const ne=indexedDB.open(F,q),ae=Ee(ne);return de&&ne.addEventListener("upgradeneeded",ee=>{de(Ee(ne.result),ee.oldVersion,ee.newVersion,Ee(ne.transaction))}),fe&&ne.addEventListener("blocked",()=>fe()),ae.then(ee=>{Pe&&ee.addEventListener("close",()=>Pe()),Ue&&ee.addEventListener("versionchange",()=>Ue())}).catch(()=>{}),ae}function Se(F,{blocked:q}={}){const fe=indexedDB.deleteDatabase(F);return q&&fe.addEventListener("blocked",()=>q()),Ee(fe).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],Te=new Map;function O(F,q){if(!(F instanceof IDBDatabase)||q in F||"string"!=typeof q)return;if(Te.get(q))return Te.get(q);const fe=q.replace(/FromIndex$/,""),de=q!==fe,Ue=ve.includes(fe);if(!(fe in(de?IDBIndex:IDBObjectStore).prototype)||!Ue&&!Re.includes(fe))return;const Pe=function(){var ne=(0,u.Z)(function*(ae,...ee){const ye=this.transaction(ae,Ue?"readwrite":"readonly");let pe=ye.store;return de&&(pe=pe.index(ee.shift())),(yield Promise.all([pe[fe](...ee),Ue&&ye.done]))[0]});return function(ee){return ne.apply(this,arguments)}}();return Te.set(q,Pe),Pe}!function We(F){be=F(be)}(F=>({...F,get:(q,fe,de)=>O(q,fe)||F.get(q,fe,de),has:(q,fe)=>!!O(q,fe)||F.has(q,fe)}))},5861:(ut,De,L)=>{"use strict";function u(P,J,oe,ue,_e,he,te){try{var G=P[he](te),W=G.value}catch(Q){return void oe(Q)}G.done?J(W):Promise.resolve(W).then(ue,_e)}function j(P){return function(){var J=this,oe=arguments;return new Promise(function(ue,_e){var he=P.apply(J,oe);function te(W){u(he,ue,_e,te,G,"next",W)}function G(W){u(he,ue,_e,te,G,"throw",W)}te(void 0)})}}L.d(De,{Z:()=>j})}},ut=>{ut(ut.s=4145)}]);